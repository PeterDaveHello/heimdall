[
  {
    "id": 37576633,
    "title": "Can’t send email more than 500 miles (2002)",
    "originLink": "https://web.mit.edu/jemorris/humor/500-miles",
    "originBody": "From: Trey HarrisHere's a problem that *sounded* impossible... I almost regret posting the story to a wide audience, because it makes a great tale over drinks at a conference. :-) The story is slightly altered in order to protect the guilty, elide over irrelevant and boring details, and generally make the whole thing more entertaining. I was working in a job running the campus email system some years ago when I got a call from the chairman of the statistics department. \"We're having a problem sending email out of the department.\" \"What's the problem?\" I asked. \"We can't send mail more than 500 miles,\" the chairman explained. I choked on my latte. \"Come again?\" \"We can't send mail farther than 500 miles from here,\" he repeated. \"A little bit more, actually. Call it 520 miles. But no farther.\" \"Um... Email really doesn't work that way, generally,\" I said, trying to keep panic out of my voice. One doesn't display panic when speaking to a department chairman, even of a relatively impoverished department like statistics. \"What makes you think you can't send mail more than 500 miles?\" \"It's not what I *think*,\" the chairman replied testily. \"You see, when we first noticed this happening, a few days ago--\" \"You waited a few DAYS?\" I interrupted, a tremor tinging my voice. \"And you couldn't send email this whole time?\" \"We could send email. Just not more than--\" \"--500 miles, yes,\" I finished for him, \"I got that. But why didn't you call earlier?\" \"Well, we hadn't collected enough data to be sure of what was going on until just now.\" Right. This is the chairman of *statistics*. \"Anyway, I asked one of the geostatisticians to look into it--\" \"Geostatisticians...\" \"--yes, and she's produced a map showing the radius within which we can send email to be slightly more than 500 miles. There are a number of destinations within that radius that we can't reach, either, or reach sporadically, but we can never email farther than this radius.\" \"I see,\" I said, and put my head in my hands. \"When did this start? A few days ago, you said, but did anything change in your systems at that time?\" \"Well, the consultant came in and patched our server and rebooted it. But I called him, and he said he didn't touch the mail system.\" \"Okay, let me take a look, and I'll call you back,\" I said, scarcely believing that I was playing along. It wasn't April Fool's Day. I tried to remember if someone owed me a practical joke. I logged into their department's server, and sent a few test mails. This was in the Research Triangle of North Carolina, and a test mail to my own account was delivered without a hitch. Ditto for one sent to Richmond, and Atlanta, and Washington. Another to Princeton (400 miles) worked. But then I tried to send an email to Memphis (600 miles). It failed. Boston, failed. Detroit, failed. I got out my address book and started trying to narrow this down. New York (420 miles) worked, but Providence (580 miles) failed. I was beginning to wonder if I had lost my sanity. I tried emailing a friend who lived in North Carolina, but whose ISP was in Seattle. Thankfully, it failed. If the problem had had to do with the geography of the human recipient and not his mail server, I think I would have broken down in tears. Having established that -- unbelievably -- the problem as reported was true, and repeatable, I took a look at the sendmail.cf file. It looked fairly normal. In fact, it looked familiar. I diffed it against the sendmail.cf in my home directory. It hadn't been altered -- it was a sendmail.cf I had written. And I was fairly certain I hadn't enabled the \"FAIL_MAIL_OVER_500_MILES\" option. At a loss, I telnetted into the SMTP port. The server happily responded with a SunOS sendmail banner. Wait a minute... a SunOS sendmail banner? At the time, Sun was still shipping Sendmail 5 with its operating system, even though Sendmail 8 was fairly mature. Being a good system administrator, I had standardized on Sendmail 8. And also being a good system administrator, I had written a sendmail.cf that used the nice long self-documenting option and variable names available in Sendmail 8 rather than the cryptic punctuation-mark codes that had been used in Sendmail 5. The pieces fell into place, all at once, and I again choked on the dregs of my now-cold latte. When the consultant had \"patched the server,\" he had apparently upgraded the version of SunOS, and in so doing *downgraded* Sendmail. The upgrade helpfully left the sendmail.cf alone, even though it was now the wrong version. It so happens that Sendmail 5 -- at least, the version that Sun shipped, which had some tweaks -- could deal with the Sendmail 8 sendmail.cf, as most of the rules had at that point remained unaltered. But the new long configuration options -- those it saw as junk, and skipped. And the sendmail binary had no defaults compiled in for most of these, so, finding no suitable settings in the sendmail.cf file, they were set to zero. One of the settings that was set to zero was the timeout to connect to the remote SMTP server. Some experimentation established that on this particular machine with its typical load, a zero timeout would abort a connect call in slightly over three milliseconds. An odd feature of our campus network at the time was that it was 100% switched. An outgoing packet wouldn't incur a router delay until hitting the POP and reaching a router on the far side. So time to connect to a lightly-loaded remote host on a nearby network would actually largely be governed by the speed of light distance to the destination rather than by incidental router delays. Feeling slightly giddy, I typed into my shell: $ units 1311 units, 63 prefixes You have: 3 millilightseconds You want: miles * 558.84719 / 0.0017893979 \"500 miles, or a little bit more.\" Trey Harris -- I'm looking for work. If you need a SAGE Level IV with 10 years Perl, tool development, training, and architecture experience, please email me at trey@sage.org. I'm willing to relocate for the right opportunity.",
    "commentLink": "https://news.ycombinator.com/item?id=37576633",
    "commentBody": "Can’t send email more than 500 miles (2002)Hacker NewspastloginCan’t send email more than 500 miles (2002) (web.mit.edu) 1033 points by dvrp 20 hours ago| hidepastfavorite174 comments roydivision 10 hours agoVaguely related - this reminded me of a support call I had where similarly the real world apparently merged into the digital world.I was doing IT support for a small Australian company back in &#x27;98. A guy called me from a remote office, and after a few pleasantries he explained that the screen saver had fallen off the monitor of his dumb terminal, bounced on one of the keys on his keyboard, and now terminal was locked up. He wanted to know what key to press to unlock the terminal.Eh?I knew the guy, and although he wasn&#x27;t trained in IT, he knew his way around the basics, he wasn&#x27;t completely clueless.I asked him to explain the problem again as I wasn&#x27;t sure I&#x27;d understood. He repeated exactly what he&#x27;d said the first time.I replied \"What do you mean the screen saver fell off the monitor, that&#x27;s impossible? Besides, it&#x27;s a dumb terminal, they don&#x27;t have screen savers.\"After a little more fumbling around this weird upside-down world he was presenting me with, it suddenly clicked. He was talking about the physical CRT anti-glare screen filter [0] that used to be common around then, that literally hung in front of the screen. This has come unstuck and hit the scroll lock on the terminal. He called this a screen saver.Since then the phrase \"Screen saver\" seems to have now morphed to mean what I used to call a desktop wallpaper, but that&#x27;s a separate topic.[0] https:&#x2F;&#x2F;dylbs6e8mhm2w.cloudfront.net&#x2F;productimages&#x2F;500x500&#x2F;E... reply suzzer99 9 hours agoprevI love this kind of stuff. When you&#x27;re sure the thing that seems to be happening couldn&#x27;t possibly be happening, and then you find out that literally the speed of light is coming into play.We had a similar problem at one of my first jobs where I was a programmer and backup network support guy. One employee was having a problem with his CRT monitor flickering. It was very subtle, but just enough to drive him nuts.So we replaced the monitor with one that worked fine on another machine. Same problem. We tried replacing cables, power cords, and did a bunch of other troubleshooting things. Problem persisted. Eventually we replaced his entire computer. Same problem.Finally I put his computer and monitor on a cart with an extension cord and wheeled it out into the hallway. The problem went away. It turned out to be bad electrical shielding in his office. reply pixl97 1 hour agoparentHeh, reminds me of a cursed user I was trying to help in the mid 90s.Sold a person a computer, they said it bluescreened when they used it. So we picked it up and tested it. No problems. Sent it back, bluescreening again. So they came to the office with the computer. I set it up and used it for 30 minutes with them there, not a single issue. The moment they touched the mouse the computer bluescreened. Replaced the mouse and the problem went away. reply vidarh 9 hours agoparentprev> The problem went away. It turned out to be bad electrical shielding in his office.My Commodore 64 started \"typing\" of its own accord. We sent it to be repaired twice only for it to work perfectly when they tested it. Turned out after we got a bigger TV, we kept it too close to it, and the static electricity eventually caused the effect.By the time the repair people got to it, it&#x27;d presumably discharged enough for it to stop, and it worked fine for a while. reply sizeofchar 3 hours agoparentprevI once worked in a lab where all computers had its own electrical stabilizer, but they were so poor that probably they did more harm than good. When someone turned on a stabilizer, the nearest CRT monitors would distort for a second, then flicker and colors would be degraded.Luckily, my place was by the wall, so the effect was diminished, but it gave me big headaches. I lasted only 6 months in that company this being the biggest reason. reply pixl97 1 hour agorootparentThe stabilizer was triggering the degausser on the CRT. Turning on speakers or putting cellphones where a call was coming in would sometimes do this too. reply omgmajk 5 hours agoprevSomewhat related but not really. Back in 2007 when I worked for a large ISP as a second line support technician for various services, ADSL was very much still in vogue. And the technology, over copper wire, had a max distance of where it would be stable. Some clients were on a special plan that tried to up this distance by a bit, maybe 2-3 more km but really it was still quite unreliable but still usable for browsing the internet, generally.But during the summer I received a call from a client that had been unable to use his IPTV service during the day for almost a month without hickups and disturbances and his internet was slow as a glacier from time to time and as I was measuring the equipment, packet loss and all the usual stuff it struck me that he was very far away from his nearest telephone station. After some back and forth with a technician and lots of measuring we came to the conclusion that since it was so hot out during that summer the line just expanded over to a distance that was just far away enough that the line would become unstable during daytime when it became hotter outside.We could not really do anything to help him. I do not miss the copper net. reply relaunched 14 hours agoprevEvery few years this story resurfaces and always makes me smile. reply Vipsy 8 hours agoparentThis and the \"My car won&#x27;t start after I buy vanilla ice cream\" reply scanny 4 hours agorootparentFor those who are curious as I was: https:&#x2F;&#x2F;www.managementpro.com&#x2F;my-car-wont-start-after-i-buy-... reply RHSeeger 4 hours agorootparentprevWhenever I see the email story, I think of the ice cream story. It&#x27;s another one of my favorites. reply sampo 7 hours agoparentprevThe story would be better, if they had kept the real numbers, and not added fake numbers afterwards (maybe they didn&#x27;t keep notes, and forgot the real numbers).At the end of the story, that 3 millilightseconds is the one-way distance, and that can&#x27;t be correct. reply bonzini 7 hours agorootparentYes, that part doesn&#x27;t add up. The time from sending SYN to receiving SYN+ACK would be six milliseconds assuming lightspeed between the source and a destination 500 miles away.That said: I know the ending, and by now the details about SunOS and sendmail aren&#x27;t too interesting, but the \"This is the chairman of statistics\" line always gets me laughing out loud. reply SiempreViernes 5 hours agorootparentprevSee point 8 in the official FAQ http:&#x2F;&#x2F;www.ibiblio.org&#x2F;harris&#x2F;500milemail-faq.html reply tempestn 7 hours agoparentprevA person could farm karma with an annual calendar reminder to post this. Perhaps someone even is! reply hutzlibu 6 hours agorootparentThat would be easy to check. But are people really that desperate for virtual points? reply waynesonfire 5 hours agorootparentI had to install a Greasemonkey script to remove them. I found myself constantly monitoring them. I&#x27;m cured now. reply iambateman 2 hours agorootparentAh, well, not to give a junkie a fix...but...939. ;) reply master-lincoln 6 hours agorootparentprevwhy would anybody want to do that? I thought karma points above a certain low number don&#x27;t offer benefits and the number is not visible to anybody but you.EDIT: I just realized it&#x27;s visible in profiles :facepalm: reply RichieAHB 9 hours agoparentprevI read it every time! reply cbm-vic-20 5 hours agorootparentI read it evey time I&#x27;m flying Mach 3 high above the southwestern US. reply leoh 10 hours agoparentprevYup. Guess this is yet another moment to tell the next generation about it. reply metaphor 10 hours agorootparentIncidentally, appears to be only the second time it&#x27;s been resubmitted in the month of September. The timing is thematically apt. reply nemo8551 4 hours agorootparentTremendous, it’s almost as if this was planned.I await next week’s deployment. reply alexfoo 2 hours agorootparent> I await next week’s deployment.Feelgood-karma-whoring-post-as-a-service reply blauditore 9 hours agorootparentprev> The timing is thematically apt.What do you mean by that? reply badcppdev 9 hours agorootparenthttps:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Eternal_SeptemberEvery September (in the 90s) a new cohort of University students would start and gain access to the internet, such as it was. Hence the reference to timing reply Sharlin 8 hours agorootparentAs the Wikipedia article states, it&#x27;s more about the specific period of late 1993–early 1994 when some large online service providers in the US started providing access to the greater internet, the USENET in particular, and masses of new (and usually clueless wrt established norms and netiquette) internet users flooded newsgroups and forever changed and disrupted their character and culture. reply retsibsi 7 hours agorootparentYeah, but that was given the name &#x27;Eternal September&#x27; as a reference to the literal Septembers of the preceding years, when there would be a regular influx of newbies. reply Sharlin 7 hours agorootparentAh, indeed. replyrolfus 5 hours agorootparentprevI&#x27;m pretty new to this community and this was my first exposure to this story. It&#x27;s definitely going into my \"anecdotes from the internet\" mental repository. reply fergie 9 hours agoparentprevAt this point its a part of the HN lore... reply janandonly 10 hours agoparentprevI came to say this. reply gwill 15 hours agoprevtangentially related: 15 or maybe 20 years ago i worked at a repair shop and someone brought in a TV that they said switched to spanish every night at 5pm.they were watching over the air channels and there was only a setting in the tv for menu language. sure enough though, at 5pm that night we watched as the tv started speaking in spanish. we tried a few more channels and found that all but one or two were in spanish.as it turns out, some stations broadcast audio in multiple languages and some tvs allow you to change the preference. sadly for this person, the used tv they bought came from a spanish speaking country and didn&#x27;t have anyway to change that preference. reply nicbou 12 hours agoparentMy Bluetooth speaker switched to Chinese after a few years of use. I have no idea of how it did it and no idea of how to revert it. There is no reference to it in the manuals.A few days before, I brought a robot vacuum home. It was made and purchased in China. When I started it for the first time, it bumped into my server and unplugged it.Therefore a state-sponsored cyberattack is not out of the question. reply yard2010 10 hours agorootparentSounds like one of your friends is a troll reply theodric 9 hours agorootparentprevI have a pair of Bluetooth headphones that indexes through 3 languages (Mandarin, Korean, English) on startup when you also hold down some other button besides power (play&#x2F;pause IIRC). I don&#x27;t think it&#x27;s documented. Maybe your speaker is similar. reply nicbou 3 hours agorootparentI found a solution today in an Amazon review. I had to press 3 buttons at once, and the language switched back to English. reply lgats 15 hours agoparentprevwhat caused the switch at 5pm? reply lampiaio 15 hours agorootparentMy guess is that it was set to always prefer the Spanish audio track, and the 5pm program was the first to have it. reply gwill 4 hours agorootparentyea, it was just when the stations in that area started broadcasting in spanish. we tested it with another tv where that control was accessible. reply temporalparts 11 hours agorootparentprevSpain is 7 hours ahead of Central Time currently. Maybe the TV automatically reset at midnight Spain time? reply cmos 40 minutes agoprevI did a startup making a mp3 player that was attached to whole house audio distribution systems. We got an angry email from a customer saying he woke up to ABBA playing full blast at 3:00am. While it was likely an integration&#x2F;timer issue, he was wondering &#x27;why ABBA? what is the player trying to tell me?\"The control system was sending &#x27;play&#x27; with nothing else, which was more of an edge case based on our UI, and so it started at the beginning of the list of artists, and ABBA was at the beginning of that list.Other players might have started at the beginning of the list of songs, but for some reason (25 years ago) we chose the beginning of the list of artists. Later on it was configurable - random, favorite playlist, etc. reply BjoernKW 19 hours agoprevAh, the true mother of all leaky abstractions:The actual underlying transmission protocol of the relativistic universe shining through when trying to send an email. reply Royce-CMR 19 hours agoprevThe best part - the consultant who patched the server is on Hacker News! He commented on his part here:https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=23775404 reply dang 14 hours agoparentI&#x27;d forgotten about that! That part of the thread begins here: https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=23777700.We put it in &#x2F;highlights which may be of interest to people: https:&#x2F;&#x2F;news.ycombinator.com&#x2F;highlights reply redbell 13 hours agorootparent> We put it in &#x2F;highlights..+1, After two years from joining HN I’m still learning about it. This is the first time I heard about highlights section! I couldn’t find it in lists nor on any other part of the site yet still interesting to read some comments there that do not show up in best comments section. How exactly this works? reply dang 12 hours agorootparentThe word \"best\" in &#x2F;best and &#x2F;bestcomments doesn&#x27;t mean best, it means most-upvoted. Upvotes, unfortunately, happen for reasons other than bestness.It&#x27;s always irritated me but I haven&#x27;t changed it, out of deference to history and lack of a pithy alternate name. Anyone?Maybe &#x2F;up and &#x2F;upcomments? reply redbell 9 hours agorootparent&#x2F;bestcomments (or whatever name may become in the future) had a drawback, I believe. Technically speaking (and generally), the comments in this section are the ones that belong to stories from &#x2F;best (or highest-upvoted). These stories obviously get more exposure and attention, so their top comments get more upvotes. For instance, a story with 2,000 points might have a comment with 200 points (which is tenth the score of its parent story) that will obviously hit the &#x2F;bestcomments, while a comment of, say, 50 points on a 150-point story (which is a third) may never have the chance to hit &#x2F;bestcomments.. Just some thoughts about my daily social network :) reply neovialogistics 9 hours agorootparentThere is probably some sweet spot of n between 0.5 and 2, but not near 1, such that the quotient of comment score^n and thread score^n gives good results. reply J_cst 11 hours agorootparentprevWe do not have downvotes, so no risk of ambiguity: my love for clarity would suggest &#x2F;voted &#x2F;upvoted reply 3836293648 9 hours agorootparentDownvotes do exist, but you need to reach 500 karma to unlock them, or at least that&#x27;s what the rumours say.I don&#x27;t have them, but I have seen comments in the negative, so there must be some truth to it reply swores 9 hours agorootparentprevWe do in fact have down votes, you just need 500 (I think?) karma to be able to use it. When you see comments that are not \"dead\" but are greyed out, they&#x27;ve been downvoted more than they&#x27;ve been upvoted. reply J_cst 4 hours agorootparentprevThank you for correcting me, my bad. reply y42 11 hours agorootparentprevwhat about &#x2F;top or &#x2F;topcomments? reply arp242 13 hours agorootparentprev&#x2F;highlights isn&#x27;t on https:&#x2F;&#x2F;news.ycombinator.com&#x2F;lists – is that intentional?I knew this existed, and I was looking for it a few weeks ago; it&#x27;s an interesting page to browse through every once in a while. But I just couldn&#x27;t remember the name until now.Having a \"highlight\" people can&#x27;t find doesn&#x27;t seem much of a \"highlight\" to me? reply dang 13 hours agorootparentNo, I just forgot.Edit: it&#x27;s there now.Edit 2: I feel like adding an \"I feel lucky\" link on there that would give you a random sample from the list. It&#x27;s in reverse chronological order and it would take quite a while to scroll back through all of the comments (there are over 400 at present). reply croes 17 hours agoparentprevSo the article says>Well, the consultant came in and patched our server and rebooted it. But I called him, and he said he didn&#x27;t touch the mail system.But the comment>Since my preference to wipe and reload was unacceptable - too much downtime and too many billable hours - the obvious thing to do was update sendmailMust be the part where>The story is slightly altered in order to protect the guilty reply searealist 17 hours agorootparentOr it’s just one of the many things that don’t add up because he made the story up. reply SiempreViernes 5 hours agorootparentSee the official FAQ, point 1: http:&#x2F;&#x2F;www.ibiblio.org&#x2F;harris&#x2F;500milemail-faq.html reply searealist 1 hour agorootparent“Trust me I’m not lying”? replylinsomniac 20 hours agoprevGreat story!At lunch today I was just talking about Sendmail, which I can assure you is a rather rare occurrence. I was talking about the first time I set up sendmail, back in &#x27;91 or &#x27;92. I was using the bat book and nearly tore my hair out over a week getting that first setup working. I eventually came to understand and appreciate the m4 config, but I ended up moving to qmail and postfix in the mid &#x27;90s and never looked back. reply TheRealPomax 18 hours agoprevThis sort of kind should be [1997] rather than 2002, but then even Trey can&#x27;t remember: https:&#x2F;&#x2F;www.ibiblio.org&#x2F;harris&#x2F;500milemail-faq.html reply vghaisas 6 hours agoprevAlso relevant here is the FAQ the author wrote about this story: https:&#x2F;&#x2F;www.ibiblio.org&#x2F;harris&#x2F;500milemail-faq.html(Tries to answer a lot of the questions folks have in the comments, so definitely a good &#x2F;F&#x2F;AQ!) reply dang 19 hours agoprevRelated. Others?The case of the 500-mile email (2002) - https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=29213064 - Nov 2021 (93 comments)We can&#x27;t send email more than 500 miles (2002) - https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=23775404 - July 2020 (135 comments)500 miles (2002) - https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=18675375 - Dec 2018 (32 comments)The case of the 500-mile email (2002) - https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=14676835 - July 2017 (56 comments)The 500-mile email (2002) - https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=9338708 - April 2015 (139 comments)The case of the 500-mile email - https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=2701063 - June 2011 (18 comments)The case of the 500-mile email - https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=1293652 - April 2010 (24 comments)The case of the 500-mile email - https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=385068 - Dec 2008 (28 comments)The case of the 500-mile email - https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=123489 - Feb 2008 (7 comments) reply dvrp 19 hours agoparentoh! do submissions of same link stop being “linked” after a year or so? reply dang 19 hours agorootparentCorrect! https:&#x2F;&#x2F;news.ycombinator.com&#x2F;newsfaq.htmlThat&#x27;s on purpose—we want good articles to get multiple chances at attention, and we want the &#x27;classics&#x27; to pop up periodically (just not too often), so newer cohorts of users get some exposure to them. So you did well :)The purpose of linking to past threads is not to imply anything bad about the repost (if it were a bad repost, we would handle it differently) - rather, it&#x27;s to point curious readers to other discussions on the same topic that may interest them. reply cpfohl 17 hours agorootparentI love this feature of HN. Between this, the onion salesman, C+- and a few other favorites I’m on a roughly 2 times a year cadence of getting to reread old favorites! reply bradrn 9 hours agorootparentI haven’t heard of C+-, and searching for it seems difficult… which story was that? reply cpfohl 7 hours agorootparenthttps:&#x2F;&#x2F;www.gnu.org&#x2F;fun&#x2F;jokes&#x2F;c+-.en.htmlEnjoy! reply cpfohl 4 hours agorootparentprevI apparently mis-remembered this showing up on HN. It&#x27;s only ever been posted once. So I re-posted just now. reply dvrp 18 hours agorootparentprevgood to know, and it makes sense!ty reply qup 19 hours agoparentprevnext [3 more] Do you have a script to do this work for you? reply dang 19 hours agorootparentKind of: https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=35668525 reply zerojames 19 hours agorootparentThank you for sharing, dang! Onward to find the next curiosity! reply kibwen 18 hours agoprevI&#x27;ve wondered how feasible it would be to do something like this to have a website that could only be accessed when a client is within a certain physical proximity of the host. Could make for a fun CTF! reply nneonneo 18 hours agoparentI’ve played CTF challenges where the latency to the host was a key factor in determining if you could get a flag or not. For those, I’ve often found it useful to spin up a cloud machine in a datacenter near the target (or, better yet, in the same datacenter if we can figure it out).A very common case is when the challenge has a short timeout but requires a lot of interaction, e.g. you only get ten seconds but you have to perform 10000 queries for a heap spray or something.The most insidious case I remember was a read() call that didn’t check the result, causing it to return short if the fragments of the input didn’t arrive fast enough. reply de-moray 7 hours agorootparentSo... if you&#x27;re referring to a challenge that did that during one of the DDTEK years of DEFCON-CTF, that was one of mine.The expectation wasn&#x27;t to buy time in an adjacent cloud, but to use out of order ip fragmentation or tcp segments, having the servers network stack reassemble the packets such that the read was coherent in one go.My goal was to teach competitors to model real world challenges of exploitation. reply vidarh 9 hours agoparentprevDidn&#x27;t do that, but one of my earliest \"dynamic\" websites ca mid 90&#x27;s would have a CGI try to ping the client with a short timeout, and if we got an answer that indicated a leased line or something rather than dialup and we&#x27;d serve up a heavy animated version of our logo instead of a static image... But could be used as a vague indicator of distance too.Trickiest part of doing that today is so many fewer hosts are reachable via icmp, so you&#x27;d probably be better off serving up an initial response with some JS to measure more accurately.(Another silly little thing we added was a link back to a users own ISP from the top ten or so of our competitors based on net block - got us a worried phone call from one of them who thought we&#x27;d been hacked and wanted to make sure we didn&#x27;t think he was responsible) reply escapecharacter 18 hours agoparentprevMy quick hack would be to establish a websocket connection, and send a random stream of numbers to the client. If the client didn&#x27;t return the number within a ping threshold, block their access. reply ReactiveJelly 13 hours agorootparenthm but it would block your crazy next-door neighbor who only uses curl.To get a good server-client-server roundtrip with only HTTP&#x2F;1.1, I&#x27;d personally try using a temporary redirect, maybe a 307. reply nneonneo 18 hours agorootparentprevSadly I imagine this would also block people on poor connections such as cellular, satellite or Tor. reply skeaker 17 hours agorootparentI feel that wouldn&#x27;t be a concern in this case, given that the goal to begin with is to block the majority of the planet on a geographic basis reply pdpi 17 hours agorootparentSure, but then you have the really interesting challenge of trying not to block your next door neighbour who’s accessing your service via tor&#x2F;satellite. reply withinboredom 14 hours agorootparentThen they aren’t your neighbor if their route goes half way around the world, are they? reply kibwen 14 hours agorootparentprevDepends on the satellite; the ISS orbits at 211 miles, which means that it would be close enough to send a 500-mile email if it&#x27;s flying directly overhead. :P reply ReactiveJelly 13 hours agorootparentprevOr Wi-Fi, I&#x27;ve had atrocious pings between two systems on the same AP https:&#x2F;&#x2F;www.benkuhn.net&#x2F;wireless&#x2F; reply swyx 19 hours agoprevi think about this story often and i find that the person who figured out that it was 500 miles actually deserves more credit than they get in the story. have to really think out of the box to figure that one reply rational_indian 6 hours agoparentIt was a geostatistician. It is what they do. reply nashashmi 3 hours agoprevHere is the guy who came up with this: https:&#x2F;&#x2F;www.linkedin.com&#x2F;in&#x2F;treyharrisAnd here is the other webpage that has this article: https:&#x2F;&#x2F;www.ibiblio.org&#x2F;harris&#x2F;500milemail.html reply sudobash1 19 hours agoprevEvery time I read this story the part that always surprises me again is the units command. Converting from 3 millilightseconds to miles is brilliant, and I am delighted every time that the units command can do this. reply dredmorbius 19 hours agoparentkragen posted a several of excellent comments highlighting the capabilities of GNU Units a couple of months back, these two in particular:And Trey Harris&#x27;s \"500 mile email\" story is what clued me on to GNU units and its capabilities.Reminder: if you&#x27;re on MacOS, or one of the BSDs, your default units is from BSD, not the GNU version, and is far less capable. GNU units can be installed on MacOS through Homebrew. The package is \"gnu-units\", the command is \"gunits\" once installed.Edit: Corrected Homebrew package name. reply chungy 17 hours agorootparentGNU Units is also available in FreeBSD ports, just type \"pkg install units\" (or go to &#x2F;usr&#x2F;ports&#x2F;math&#x2F;units and \"make install\"). It likewise gets the binary name \"gunits\" reply RobotToaster 18 hours agorootparentprevIt&#x27;s also in chocolatey for windows reply dredmorbius 8 hours agorootparentShould also be in Cygwin as well as be installable through WSL.(I&#x27;ve not touched MS Windows in a couple of decades now.) reply dementik 19 hours agorootparentprevActually,brew install gnu-units reply dredmorbius 18 hours agorootparentGah! Thanks, corrected above.(I run the command far more often than I install the package.) reply dmckeon 17 hours agoparentprevAnyone who likes the units command should plan an evening where they can sit in a comfortable chair with an appropriate beverage, and read all the comments in the data file in the source. It is like a novel about the history of measurement. reply WillAdams 16 hours agorootparentIf only it had been written as a Literate Program, it would have been. reply ashton314 19 hours agoparentprevMy units command (on macOS) doesn&#x27;t have it. :&#x2F; Is there a better version out there? reply drpossum 18 hours agorootparentYes, you want the gnu units. It&#x27;s in homebrew as gnu-units (and you run it as gunits) reply searealist 17 hours agoparentprevHe made the story up. When confronted with the fact that units didn&#x27;t convert some of the units from his story his response was essentially \"Oh yeah, well of course I always supplemented my units definitions on all my machines with obscure units.\". reply Cyphase 17 hours agorootparentDo you have a source for that?EDIT: #19 here https:&#x2F;&#x2F;www.ibiblio.org&#x2F;harris&#x2F;500milemail-faq.html reply chungy 17 hours agorootparentThese potential anachronisms are easy to insert when retelling a story. It doesn&#x27;t really mean he \"made it up\", but reverse engineering how the diagnostic was determined might lead one to use tools&#x2F;definitions that didn&#x27;t exist at the time.It&#x27;s also entirely plausible that a local definitions file was used to provide the unit that didn&#x27;t come in the default install. Hence the anachronism is merely \"potential\" instead of \"definite\" reply searealist 17 hours agorootparentprevCheck his own FAQ. reply vore 14 hours agorootparentI don&#x27;t think that&#x27;s enough evidence to claim he made the whole story up. replyc7DJTLrn 4 hours agoprevDoes this add up? If the connection timeout is 3ms, then that means there&#x27;s 3ms for a roundtrip, 1.5ms each way. So the maximum distance would actually be roughly 250 miles. But even then, packets don&#x27;t actually travel at the speed of light in fiber optic cables. It also assumes that the cables are laid as the crow flies, which they aren&#x27;t. reply madcaptenor 3 hours agoparentThose are all in the FAQ that you can find at a different place where this story has been published (http:&#x2F;&#x2F;www.ibiblio.org&#x2F;harris&#x2F;500milemail-faq.html). reply major505 14 hours agoprevThats why when you get a weird ticket it pays to check for yourself before calling your user crazy. reply throwaway2562 5 hours agoprevDoes anybody think that limiting email to 500 miles might be a Good Thing?I don’t have a very well-formed use-case in mind, but I strongly suspect there is one: suggestions welcome. reply krsdcbl 4 hours agoparentIf anything, that might actually be a damn interesting challenge to implement :D reply lang4d 8 hours agoprevI love these sort of debugging stories! It sounds like that timeout would be based on the round trip travel time to the remote host rather than the one way distance, wouldn’t that make a 250 mile cutoff? reply julioc 18 hours agoprevThere is a blog created to collect similar stories: https:&#x2F;&#x2F;500mile.email&#x2F;This blog has also been discussed in a few other threads:https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=23908171https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=29215383https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=35708339 reply hmhrex 17 hours agoparentHey thanks for linking my site! I was wondering where the extra traffic was coming from :)If anyone has any stories that I should add, please send them my way!Also, I have been slacking a little with the newsletter because of life events. Since there have been several sign ups since this post, I&#x27;ll be more active in getting the weekly newsletter out.Thanks for looking! reply Nekhrimah 15 hours agorootparent> If anyone has any stories that I should add, please send them my way!https:&#x2F;&#x2F;old.reddit.com&#x2F;r&#x2F;sysadmin&#x2F;comments&#x2F;9si6r9&#x2F;postmortem...Worthy, but no where near as circulated! reply smrq 8 hours agorootparentThat&#x27;s terrific. I was worried that it was going to end at the terse OP, but the follow-up post has just the kind of play-by-play details that I can&#x27;t get enough of in debugging stories. reply hmhrex 6 hours agorootparentprevOh wow. That’s a good one! Will add that one. reply IggleSniggle 16 hours agorootparentprevHey I&#x27;m enjoying your site! It would be cool if there was a way to just get the stories. For example, Twitter is no longer capable of loading tweet replies on my machine for whatever hilarious reason, and so I could only read the teaser for the Twitter link.Anyway, I understand that&#x27;s probably not the kind of site you had in mind. Thanks for the cool site! reply hmhrex 15 hours agorootparentThanks for the suggestion! Maybe I should add archive links from The Internet Archive for stories in case links die. In the case of tweets, I’d probably need to screenshot them or something. reply nzealand 15 hours agorootparentprevhttps:&#x2F;&#x2F;100parkingtickets.com&#x2F; reply hmhrex 6 hours agorootparentThis is a great story. Thanks for sharing! reply asicsp 14 hours agoparentprevSee also: https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;169713&#x2F;whats-the-toughes... reply unlog 19 hours agoprevMy memory is vague. Anyone remember the related one about wife reporting some office app won&#x27;t print on $day?edit: here it is https:&#x2F;&#x2F;bugs.launchpad.net&#x2F;ubuntu&#x2F;+source&#x2F;cupsys&#x2F;+bug&#x2F;255161... reply olddustytrail 19 hours agoparentProbably the \"Openoffice can&#x27;t print on Tuesdays\" one: https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=8171956 reply hcks 3 hours agoprevI don’t get why this story is so popular here. None of the technical details adds up.Multiple back and forth due to protocol handshakes and router delays would add enough latency to prevent any connection from happening at all if the timeout was set to 0 as stated.I guess people just like the “it was the time light took to travel” vibe. reply Sakos 3 hours agoparentAddressed here: http:&#x2F;&#x2F;www.ibiblio.org&#x2F;harris&#x2F;500milemail-faq.htmlYou might want to ask yourself why you&#x27;re so bitter and critical of others with that conclusion. reply timmb 5 hours agoprevDefinitely bolsted my faith in statisticians. reply matt_daemon 10 hours agoprevFor those on a Mac the millilightseconds unit probably won&#x27;t work, in which case you can try: 586 units, 56 prefixes You have: 3 lightyear &#x2F; 365.25 &#x2F; 24 &#x2F; 60 &#x2F; 60 &#x2F; 1000 You want: miles * 558.83525 &#x2F; 0.0017894361 reply akskos 6 hours agoprevDoes anyone else remember reading a longer version of this or am i mixing it with some other similar story? reply tysam_and 13 hours agoprev_The_ classic CS story (I personally think! ;)even of a relatively impoverished department like statisticsIt&#x27;s not a statement you would read in 2023 :) reply Helmut10001 10 hours agoprevWhat I wonder is, wouldn&#x27;t the signal would have to travel back and fort, i.e. about 1000 Miles, so the sender can receive the 200 OK signal? reply nicbou 12 hours agoprevI love those stories. I can then engineer bedtime stories. Is there a place where I can find more? reply ultim8k 7 hours agoprevOnly if the sender is The Proclaimers :P reply pestatije 19 hours agoprev> our campus network at the time was that it was 100% switchedis this realistic, or a writers license? reply mschuster91 19 hours agoparent> is this realistic, or a writers license?Realistic. And, believe it or not, I know of at least one organization that plans to convert an entire literal skyscraper of office space from routed networks to a single, flat switched network for all the employees of all the subcompanies. In 2023.Obviously everyone with a bit of braincells left tells them to not do that because it&#x27;s utterly dumb, but hey, strategic decision by the holding company to save on costs...At least they&#x27;re not using hubs. (For the younger generation: a hub is an Ethernet device that takes any packet it ingests in one port and sends it out to all other ports, with no consideration at all if the device that the packet is destined for actually is on that port - something a switch does, by maintaining a mapping of MAC addresses to ports. Extremely dumb devices, but used to be way faster and especially cheaper than switches in the 90&#x27;s&#x2F;early &#x27;00s) reply Terr_ 18 hours agorootparentI still keep an old 4-port hub in my junk-box because that way I can diagnose&#x2F;snoop on network traffic... Although so much of it is encrypted these days that it&#x27;s harder to see what&#x27;s going on.P.S.: Yes, modern alternatives would be to to buy a switch and that can be configured to \"mirror\" packets onto a chosen port, or a smalls Ethernet network tap unit... But why buy more stuff if I don&#x27;t really need to? reply wink 18 hours agorootparentprevbonus fact: multicast was still being done via broadcast in some switches ~10y ago, also extremely dumb :P reply morley 19 hours agoparentprevThere&#x27;s a bit of storytelling embellishment. I believe it&#x27;s covered in the FAQ:https:&#x2F;&#x2F;www.ibiblio.org&#x2F;harris&#x2F;500milemail-faq.html reply itscodingtime 18 hours agoparentprevWhat does this mean anyway ? I tried googling but no dice. reply brazzy 18 hours agorootparentNo routers, only switches. reply aidenn0 18 hours agorootparentI thought it meant no hubs, only switches... reply NoZebra120vClip 13 hours agorootparentprevI thought it meant circuit-switched, because that&#x27;s the other option next to packet-switched, which is, of course, how TCP&#x2F;IP works.Layer 2 switches were a rare animal indeed during 1994-1997. There sure wouldn&#x27;t be any VLANs. reply searealist 17 hours agoparentprevHe made the story up while looking for a job. reply gerdesj 17 hours agoprev\"I choked on my latte. \"Come again?\"\"That sentence is a rather decent: double entendre. reply chenster 18 hours agoprevCan&#x27;t have enough of this story. Learned &#x27;unites&#x27; command too. reply BMorearty 12 hours agoprevOne of my favorite bug stories to tell people. reply orisho 19 hours agoprevOh, I love this story! :D Always fun to read whenever I stumble upon it. reply charles_f 15 hours agoprevGreat story, fantastically well written reply blitz_skull 18 hours agoprevThis is one of my favorites of all time! reply jayrwren 18 hours agoprevclassic. I read this 20yrs ago. reply ashton314 19 hours agoprevnext [–]\"You waited a few DAYS?\" I interrupted, a tremor tinging my voice. \"And you couldn&#x27;t send email this whole time?\" \"We could send email. Just not more than--\" \"--500 miles, yes,\" I finished for him, \"I got that. But why didn&#x27;t you call earlier?\" \"Well, we hadn&#x27;t collected enough data to be sure of what was going on until just now.\" Right. This is the chairman of *statistics*. \"Anyway, I asked one of the geostatisticians to look into it--\" \"Geostatisticians...\" \"--yes, and she&#x27;s produced a map showing the radius within which we can send email to be slightly more than 500 miles.Pure gold. I love that the stats department put in such rigorous testing before submitting the ticket. reply anigbrowl 18 hours agoparentI imagine subsequent conversations included some extremely smug &#x27;I told you so&#x27; moments. reply snewman 18 hours agoprevThis excellent tale has appeared many times on HN; here&#x27;s dang, in 2021, listing some of the past threads:https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=29213472 reply kibwen 18 hours agoparentSometimes you just need to gather all the young&#x27;uns around the campfire and regale them with the tales of old, like The 500-Mile Email, or The Story of Mel. reply jihadjihad 16 hours agorootparentA \"modern\" addition I&#x27;d make to this list is the Grug Brained Developer [0]0: https:&#x2F;&#x2F;grugbrain.dev&#x2F; reply withinboredom 14 hours agorootparentThis is when I learn I’m grug brained. Great. reply johannes1234321 18 hours agorootparentprevToday&#x27;s lucky 10,000 https:&#x2F;&#x2F;xkcd.com&#x2F;1053&#x2F; reply zeristor 18 hours agorootparentprevIs this September Endless? reply Aloha 18 hours agorootparentEndless September, the time of the year we retell the old tales. reply audiodude 16 hours agorootparentWake me up when September ends? reply ShamelessC 18 hours agoparentprevIndeed. Seeing this on the front page is a good reminder I’ve been on this site far too long. reply antod 17 hours agorootparentI think my first exposure to it was on Slashdot, and I suspect that time wasn&#x27;t its first post (pun intended). reply zerr 10 hours agoprev [–] Can anyone summarize in a couple of sentences? reply zepolen 10 hours agoparent [–] No, read the damn thing. reply zerr 10 hours agorootparent [–] I don&#x27;t want to re-read it. reply akskos 10 hours agorootparent [–] paste to gpt and prompt to summarize replyApplications are open for YC Winter 2024 GuidelinesFAQListsAPISecurityLegalApply to YCContact Search:",
    "originSummary": [
      "The central issue, recounted by Trey Harris, was an inability within a campus email system to send emails beyond a distance of 500 miles.",
      "Harris uncovered this issue stemmed from a server upgrade that inadvertently downgraded the email system software, causing a timeout setting to be set to zero.",
      "The problem was ameliorated by adjusting this timeout setting, allowing emails to be sent without distance limitations."
    ],
    "commentSummary": [
      "The Hacker News article and discussions feature funny and unusual IT problems, including a malfunctioning screensaver and a crashing computer.",
      "Participants also share stories and experiences about email systems, regional blocking, and network issue debugging.",
      "Popular anecdotes, like \"The 500-Mile Email,\" are reminisced about, displaying a combination of humor and tech-related story sharing in the community."
    ],
    "points": 1032,
    "commentCount": 174,
    "retryCount": 0,
    "time": 1695157520
  },
  {
    "id": 37575204,
    "title": "Fixing for loops in Go 1.22",
    "originLink": "https://go.dev/blog/loopvar-preview",
    "originBody": "Skip to Main Content Why Go arrow_drop_down Learn Docs arrow_drop_down Packages Community arrow_drop_down Why Go navigate_next navigate_beforeWhy Go Case Studies Use Cases Security Learn Docs navigate_next navigate_beforeDocs Effective Go Go User Manual Standard library Release Notes Packages Community navigate_next navigate_beforeCommunity Recorded Talks Meetups open_in_new Conferences open_in_new Go blog Go project Get connected The Go Blog Fixing For Loops in Go 1.22 David Chase and Russ Cox 19 September 2023 Go 1.21 includes a preview of a change to for loop scoping that we plan to ship in Go 1.22, removing one of the most common Go mistakes. The Problem If you’ve written any amount of Go code, you’ve probably made the mistake of keeping a reference to a loop variable past the end of its iteration, at which point it takes on a new value that you didn’t want. For example, consider this program: func main() { done := make(chan bool) values := []string{\"a\", \"b\", \"c\"} for _, v := range values { go func() { fmt.Println(v) done <- true }() } // wait for all goroutines to complete before exiting for _ = range values { <-done } } The three created goroutines are all printing the same variable v, so they usually print “c”, “c”, “c”, instead of printing “a”, “b”, and “c” in some order. The Go FAQ entry “What happens with closures running as goroutines?”, gives this example and remarks “Some confusion may arise when using closures with concurrency.” Although concurrency is often involved, it need not be. This example has the same problem but no goroutines: func main() { var prints []func() for i := 1; i <= 3; i++ { prints = append(prints, func() { fmt.Println(i) }) } for _, print := range prints { print() } } This kind of mistake has caused production problems at many companies, including a publicly documented issue at Lets Encrypt. In that instance, the accidental capture of the loop variable was spread across multiple functions and much more difficult to notice: // authz2ModelMapToPB converts a mapping of domain name to authz2Models into a // protobuf authorizations map func authz2ModelMapToPB(m map[string]authz2Model) (*sapb.Authorizations, error) { resp := &sapb.Authorizations{} for k, v := range m { // Make a copy of k because it will be reassigned with each loop. kCopy := k authzPB, err := modelToAuthzPB(&v) if err != nil { return nil, err } resp.Authz = append(resp.Authz, &sapb.Authorizations_MapElement{ Domain: &kCopy, Authz: authzPB, }) } return resp, nil } The author of this code clearly understood the general problem, because they made a copy of k, but it turns out modelToAuthzPB used pointers to fields in v when constructing its result, so the loop also needed to make a copy of v. Tools have been written to identify these mistakes, but it is hard to analyze whether references to a variable outlive its iteration or not. These tools must choose between false negatives and false positives. The loopclosure analyzer used by go vet and gopls opts for false negatives, only reporting when it is sure there is a problem but missing others. Other checkers opt for false positives, accusing correct code of being incorrect. We ran an analysis of commits adding x := x lines in open-source Go code, expecting to find bug fixes. Instead we found many unnecessary lines being added, suggesting instead that popular checkers have significant false positive rates, but developers add the lines anyway to keep the checkers happy. One pair of examples we found was particularly illuminating: This diff was in one program: for _, informer := range c.informerMap { + informer := informer go informer.Run(stopCh) } And this diff was in another program: for _, a := range alarms { + a := a go a.Monitor(b) } One of these two diffs is a bug fix; the other is an unnecessary change. You can’t tell which is which unless you know more about the types and functions involved. The Fix For Go 1.22, we plan to change for loops to make these variables have per-iteration scope instead of per-loop scope. This change will fix the examples above, so that they are no longer buggy Go programs; it will end the production problems caused by such mistakes; and it will remove the need for imprecise tools that prompt users to make unnecessary changes to their code. To ensure backwards compatibility with existing code, the new semantics will only apply in packages contained in modules that declare go 1.22 or later in their go.mod files. This per-module decision provides developer control of a gradual update to the new semantics throughout a codebase. It is also possible to use //go:build lines to control the decision on a per-file basis. Old code will continue to mean exactly what it means today: the fix only applies to new or updated code. This will give developers control over when the semantics change in a particular package. As a consequence of our forward compatibility work, Go 1.21 will not attempt to compile code that declares go 1.22 or later. We included a special case with the same effect in the point releases Go 1.20.8 and Go 1.19.13, so when Go 1.22 is released, code written depending on the new semantics will never be compiled with the old semantics, unless people are using very old, unsupported Go versions. Previewing The Fix Go 1.21 includes a preview of the scoping change. If you compile your code with GOEXPERIMENT=loopvar set in your environment, then the new semantics are applied to all loops (ignoring the go.mod go lines). For example, to check whether your tests still pass with the new loop semantics applied to your package and all your dependencies: GOEXPERIMENT=loopvar go test We patched our internal Go toolchain at Google to force this mode during all builds at the start of May 2023, and in the past four months we have had zero reports of any problems in production code. You can also try test programs to better understand the semantics on the Go playground by including a // GOEXPERIMENT=loopvar comment at the top of the program, like in this program. (This comment only applies in the Go playground.) Fixing Buggy Tests Although we’ve had no production problems, to prepare for that switch, we did have to correct many buggy tests that were not testing what they thought they were, like this: func TestAllEvenBuggy(t *testing.T) { testCases := []int{1, 2, 4, 6} for _, v := range testCases { t.Run(\"sub\", func(t *testing.T) { t.Parallel() if v&1 != 0 { t.Fatal(\"odd v\", v) } }) } } In Go 1.21, this test passes because t.Parallel blocks each subtest until the entire loop has finished and then runs all the subtests in parallel. When the loop has finished, v is always 6, so the subtests all check that 6 is even, so the test passes. Of course, this test really should fail, because 1 is not even. Fixing for loops exposes this kind of buggy test. To help prepare for this kind of discovery, we improved the precision of the loopclosure analyzer in Go 1.21 so that it can identify and report this problem. You can see the report in this program on the Go playground. If go vet is reporting this kind of problem in your own tests, fixing them will prepare you better for Go 1.22. If you run into other problems, the FAQ has links to examples and details about using a tool we’ve written to identify which specific loop is causing a test failure when the new semantics are applied. More Information For more information about the change, see the design document and the FAQ. Previous article: WASI support in Go Blog Index Why Go Use Cases Case Studies Get Started Playground Tour Stack Overflow Help Packages Standard Library About Go Packages About Download Blog Issue Tracker Release Notes Brand Guidelines Code of Conduct Connect Twitter GitHub Slack r/golang Meetup Golang Weekly Copyright Terms of Service Privacy Policy Report an Issue go.dev uses cookies from Google to deliver and enhance the quality of its services and to analyze traffic. Learn more. Okay",
    "commentLink": "https://news.ycombinator.com/item?id=37575204",
    "commentBody": "Fixing for loops in Go 1.22Hacker NewspastloginFixing for loops in Go 1.22 (go.dev) 552 points by todsacerdoti 21 hours ago| hidepastfavorite397 comments jjwiseman 18 hours agoI know there are much earlier examples, but the earliest warning about this behavior I could find in 60 seconds of searching is from the comp.lang.lisp FAQ, posted more than 30 years ago, in 1992: Mar 21, 1992, 1:00:47 AM Last-Modified: Tue Feb 25 17:34:30 1992 by Mark Kantrowitz ;;; **************************************************************** ;;; Answers to Frequently Asked Questions about Lisp *************** ;;; **************************************************************** ;;; Written by Mark Kantrowitz and Barry Margolin ;;; lisp-faq-3.text -- 16886 bytes [...] ---------------------------------------------------------------- [3-9] Closures don&#x27;t seem to work properly when referring to the iteration variable in DOLIST, DOTIMES and DO. DOTIMES, DOLIST, and DO all use assignment instead of binding to update the value of the iteration variables. So something like (dotimes (n 10) (push #&#x27;(lambda () (incf n)) *counters*)) will produce 10 closures over the same value of the variable N. ---------------------------------------------------------------- reply sixthDot 12 hours agoparentD too https:&#x2F;&#x2F;issues.dlang.org&#x2F;show_bug.cgi?id=2043.That&#x27;s actually expected when capturing by reference. reply junke 9 hours agoparentprevIn the standard it is not specified if such loops mutate or rebind, and you have to assume it doesn&#x27;t rebind if you capture variables. I do think however that once you learn how it works it stops being a problem (in any case I can select the form, macroexpand it and it shows how it&#x27;s implemented) reply varjag 8 hours agorootparentIn theory sure. In practice it&#x27;s easy enough to make this mistake mindlessly. I had this happen to me after many years of practice just this year (in an elaborate extended LOOP form which has same semantics). reply AaronFriel 21 hours agoprevThe C# language team encountered this as well, after introducing lightweight closures in C# 4.0 it quickly became apparent that this was a footgun. Users almost always used loop variables incorrectly, and C# 5.0 made the breaking change.Eric Lippert has a wonderful blog on the \"why\" from their perspective: https:&#x2F;&#x2F;ericlippert.com&#x2F;2009&#x2F;11&#x2F;12&#x2F;closing-over-the-loop-var...I had a bit of trouble finding the original C# 5 announcement; that&#x27;s hopefully not been lost in the (several?) blog migrations on the Microsoft domain since 2012. reply nerdponx 20 hours agoparentMeanwhile Python has received this same feature request many times over the years, and the answer is always that it would break existing code for little major benefit https:&#x2F;&#x2F;discuss.python.org&#x2F;t&#x2F;make-lambdas-proper-closures&#x2F;10...Given how much of an uproar there was over changing the string type in the Python 2 -> 3 transition, I can&#x27;t imagine this change would ever end up in Python before a 4.0.Cue someone arguing about how bad Python is because it won&#x27;t fix these things, and then arguing about how bad Python is because their scripts from 2003 stopped working... reply travisd 19 hours agorootparentIt&#x27;s worth noting that it&#x27;s much less of a problem in Python due to the lack of ergonomic closures&#x2F;lambdas. You have to construct rather esoteric looking code for it to be a problem. add_n = [] for n in range(10): add_n.append(lambda x: x + n) add_n[9](10) # 19 add_n[0](10) # 19This isn&#x27;t to say it&#x27;s *not* a footgun (and it has bit me in Python before), but it&#x27;s much worse in Go due to the idiomatic use of goroutines in a loop: for i := 0; i >> [[(i, j) for i in \"abc\"] for j in range(3)] [[(&#x27;a&#x27;, 0), (&#x27;b&#x27;, 0), (&#x27;c&#x27;, 0)], [(&#x27;a&#x27;, 1), (&#x27;b&#x27;, 1), (&#x27;c&#x27;, 1)], [(&#x27;a&#x27;, 2), (&#x27;b&#x27;, 2), (&#x27;c&#x27;, 2)]] reply nerdponx 3 hours agorootparentRight, creating generators in a loop is not usually something you want to do, but it&#x27;s meant to demonstrate the complexity that arises from late binding rather than demonstrate something you would actually want to do in a real program. reply simiones 7 hours agorootparentprevI don&#x27;t think anyone is puzzled by the Go snippet being wrong.The bigger problem in Go is the for with range loop: pointersToV := make([]*val, len(values)) for i, v := range values { go func() { fmt.Printf(\"num: %v\\n\", v) } () &#x2F;&#x2F;race condition pointersToV[i] = &v &#x2F;&#x2F;will contain len(values) copies of a pointer to the last item in values }This is the one they are changing.Edit: it looks like they&#x27;re actually changing both of these, which is more unexpected to me. I think the C# behavior makes more sense, where only the foreach loop has a new binding of the variable in each iteration, but the normal for loop has a single lifetime. reply hinkley 18 hours agorootparentprevEveryone else solved this problem by using list comprehensions instead. Rob has surely heard of those. reply lmm 17 hours agorootparentOf the two comprehension syntaxes in Haskell, Python picked the wrong one. Do notation (or, equivalently, Scala-style for&#x2F;yield) feels much more consistent and easy to use - in particular the clauses are in the same order as a regular for loop, rather than the middle-endian order used by list comprehensions. reply eru 15 hours agorootparentHaskell has both do-notation and list comprehension.Comprehension in both Python and Haskell (for both lists and other structures) use the same order in both language, as far as I remember. reply lmm 14 hours agorootparent> Haskell has both do-notation and list comprehension.Right, and do-notation is the one everyone uses, because it&#x27;s better. Python picked the wrong one.> Comprehension in both Python and Haskell (for both lists and other structures) use the same order in both language, as far as I remember.It may be the same order as Haskell but it&#x27;s a terrible confusing order. In particular if you want to go from a nested list comprehension to a flat one (or vice versa) then you have to completely rearrange the order it&#x27;s written in, whereas if you go from nested do-blocks to flat do-blocks then it all makes sense. reply nerdponx 2 hours agorootparentBut Python doesn&#x27;t have any concept of a monad, so what would do-notation even be in Python? And who is the \"everyone\" using do-notation? I don&#x27;t see any analogous syntax in Lua, Javascript, Ruby, or Perl.In Python there is a nice tower of abstractions for iteration, but nothing more general than that, so it makes perfect sense IMO to use the syntax that directly evokes iteration.The existing syntax is meant to mirror the syntax of a nested for loop. I agree that maybe it&#x27;s confusing, but if you want to go from a multi-for comprehension to an actual nested for loop, then you don&#x27;t have to invert the order. reply eru 14 hours agorootparentprevI see what you mean, but I don&#x27;t find the order that confusing in neither Haskell or Python.However, I can imagine a feature that we could add to Python to fix this: make it possible for statements to have a value. Perhaps something like this: my_generator = \\ for i in \"abc\": for b in range(3): print(\"foo\") yield (i, b)or perhaps have the last statement in block be its value (just like Rust or Ruby or Haskell do with the last statement in a block), and make the value of a for-loop be a generator of the individual values: my_list = list( for i in \"abc\": for b in range(3): (i, b))Though there&#x27;s a bit of confusion here whether the latter examples should be a flat structure or a nested one. You could probably use a similiar mechanism as the existing &#x27;yield from&#x27; to explicitly ask for the flat version, and otherwise get the nested one: my_list = list( for i in \"abc\": yield from for b in range(3): (i, b))Making Python statements have values looks to me like the more generally useful change than tweaking comprehensions. You&#x27;d probably not need comprehension at all in that case. Especially since you can already write loop header and body on a single line like for i in range(10): print(i)if they are short enough. reply nerdponx 2 hours agorootparentnext [–]for i in range(10): print(i)But what would that return? [None] * 10?The limited whitespace-based syntax limits the potential for fun inline statement things, but it also completely dodges the question of what any particular statement should evaluate to when used as an expression. reply camgunz 9 hours agorootparentprevWhen I was starting in Python years ago I had to turn my brain inside out to learn how to write list comprehensions. Sometimes I wonder what it&#x27;s like to be a normal person with a normal non-programmer brain, having forgotten it entirely these last many years. reply panzi 17 hours agorootparentprevHow does list comprehension change anything here? This has the same problem: add_n = [lambda x: x + n for n in range(10)] add_n[9](10) # 19 add_n[0](10) # 19 reply billyjmc 16 hours agorootparentI’m not sure what they mean by list comprehensions, either, but for completeness’s sake, I must point out that this is solvable by adding `n` as a keyword argument defaulting to `n`: add_n = [lambda x, n=n: x + n for n in range(10)] add_n[9](10) # 19 add_n[0](10) # 10 reply drekipus 7 hours agorootparentThis is the wayAlso pylsp warns you about this reply o11c 16 hours agorootparentprevIt&#x27;s actually worse in Python since there&#x27;s no support for variable lifetimes within a function, so the `v2` workaround is still broken. (the default-argument workaround \"works\" but is scary)This makes it clear: the underlying problem is NOT about for loops - it&#x27;s closures that are broken. reply nerdponx 16 hours agorootparentIt&#x27;s not broken, it&#x27;s a different design. Maybe worse in a lot of cases, but it&#x27;s not broken. It&#x27;s working as intended. reply eru 15 hours agorootparentYou could say the design is broken, but the implementation is working as intended by the design. reply jshen 18 hours agorootparentprevDoesn’t go vet complain about your code? I’m not at my computer right now so can’t check. reply simiones 7 hours agorootparentWhy would it? It&#x27;s perfectly correct code, it&#x27;s just not doing what you&#x27;d expect.It might complain about the race condition, to be fair, but the same issue can be reproduced without goroutines and it would be completely correct code per the semantics. reply _ikke_ 10 hours agorootparentprev> Tools have been written to identify these mistakes, but it is hard to analyze whether references to a variable outlive its iteration or not. These tools must choose between false negatives and false positives. The loopclosure analyzer used by go vet and gopls opts for false negatives, only reporting when it is sure there is a problem but missing others.So it will warn in certain situations, but not all of them reply Frotag 15 hours agorootparentprevI&#x27;ve run into this once. IIRC the workaround was to add a n=n arg to the lambda reply Spivak 17 hours agorootparentprevIgnoring the strange nature of this code in the first place the more pythonic way to do it would be from functools import partial from operators import add add_n = [partial(add, n)) for n in range(10)] assert add_n[5](4) == 9Look ma, no closures. reply eru 15 hours agorootparent&#x27;partial&#x27; creates a closure for you. reply Spivak 14 hours agorootparentUnless you&#x27;re talking philosophically how classes and closures are actually isomorphic then no, it doesn&#x27;t. None of the variables in the outer scope are captured in the class instance.https:&#x2F;&#x2F;github.com&#x2F;python&#x2F;cpython&#x2F;blob&#x2F;main&#x2F;Lib&#x2F;functools.py...Here&#x27;s a simplified version of that code that demonstrates the pattern. class partial: def __init__(self, func, *args, **kwargs): self.func = func self.args = args self.kwargs = kwargs def __call__(self, *args, **kwargs): return self.func(*self.args, *args, **(self.kwargskwargs)) p = partial(add, 5) # -> an instance of partial with self.args = (5,) res = p(4) # -> calls __call__ which merges the args and calls add(5, 4) reply eru 12 hours agorootparentI was talking &#x27;philosophically&#x27; in that sense. The partial object does create a new scope that binds a few of those variables.But you are also right that the mechanisms in Python are different (on some suitable mid-level of abstraction) for those two. replysneak 19 hours agorootparentprevSomehow, Go managed to not break old code and also fix the problem.I think this is a good case of Python not fixing things, given that a fix exists that solves both problems. reply pcl 19 hours agorootparent> To ensure backwards compatibility with existing code, the new semantics will only apply in packages contained in modules that declare go 1.22 or later in their go.mod files. reply nerdponx 19 hours agorootparentRight, and Go has the luxury of being a compiler that generates reasonably portable binaries, while Python requires the presence of an interpreter on the system at run time. reply lloeki 5 hours agorootparent> Python requires the presence of an interpreter on the system at run time.A runtime interpreter does not prevent Perl to do similar things via `use 5.13`Python has `from future` with similar abilities, it would absolutely be possible to do the same as Perl and Go and fix what needs to be fixed without breaking old code. One could design a `import 3.22` and `from 3.22 import unbroken_for` and achieve the same thing. reply josephg 12 hours agorootparentprevThe same trick would work with python just as well. There’s nothing about Python’s status as an interpreter which would stop them from adding a python semantic version somewhere in each python program - either in a comment at the top of each source file or in an adjacent config file. The comment could specify the version of python’s semantics to use, which would allow people to opt in to new syntax (or opt out of changes which may break the code in the future).Eg # py 3.4 reply Cthulhu_ 9 hours agorootparentYeah, it would just mean that the interpreter - just like the Go compiler - would need to have the equivalent of \"if version > 3.4 do this, else do that\". Which is fine for a while, but I can imagine it adds a lot of complexity and edge cases to the interpreter &#x2F; compiler.Which makes me think that a Go 2.0 or Python 4 will mainly be about removing branches and edge cases from the compiler more than making backwards-incompatible language changes. reply josephg 7 hours agorootparentThis is the direction multiple languages are moving in. Go and Rust both have something like this. (In Rust they&#x27;re called \"editions\"). I think its inevitable that compilers get larger over time. I hope most of the time they aren&#x27;t too onerous to maintain - there aren&#x27;t that many spec breaking changes between versions. But if need be, I could also imagine the compiler eventually deprecating old versions if it becomes too much of an issue.Arguably C & C++ compilers do the same thing via -std=c99 and similar flags at compile time.Anyway, nothing about this is special or different with python. I bet the transition to python 3 would have been much smoother if scripts could have opted in (or opted out) of the new syntax without breaking compatibility. reply IshKebab 19 hours agorootparentprevPython could very easily have a similar mechanism. Hell even CMake manages to do this right, and they got \"if\" wrong.The Python devs sometimes seem stubbornly attached to bugs. Another one: to reliably get Python 3 on Linux and Mac you have to run `python3`. But on Windows there&#x27;s no `python3.exe`.Will they add one? Hell no. It might confuse people or something.Except... if you install Python from the Microsoft Store it does have `python3.exe`. reply rfoo 9 hours agorootparent> Except... if you install Python from the Microsoft Store it does have `python3.exe`.It&#x27;s worse. If you don&#x27;t install Python from the Microsoft Store there will still be a `python3.exe`. But running it just opens Microsoft Store.Imagine how confused one could be when someone typed `python3 a.py` over a SSH session and nothing happened. reply wrboyce 18 hours agorootparentprevI’ve not run “python3” in years on my Mac, and I’m almost certain I never type it into Linux machines either; either I’m losing my mind, or there are some ludicrous takes in this thread. reply turboponyy 7 hours agorootparentDepending on the package manager &#x2F; distribution, &#x27;python&#x27; might be symlinked to either Python 2 or Python 3. If you don&#x27;t have Python 3 installed, it might very well point to Python 2. These days it will almost certainly prefer Python 3, but I am also in the habit of actually typing &#x27;python3&#x27; instead of &#x27;python&#x27; because of what I assume are issues I&#x27;ve had in the past. reply rat9988 18 hours agorootparentprevYou are surely losing your mind then. Python3 isn&#x27;t something esoteric. reply wrboyce 18 hours agorootparentEntirely possible, but my point was I just type “python” and Python 3 happens. Do modern OS even come with Python 2 anymore?I’m not claiming any mystery about Python, just disputing how the modern version is invoked. reply lmm 17 hours agorootparent> I just type “python” and Python 3 happens.That was the old way. Python now recommends against installing Python3 in a way that does that, and most modern *nix don&#x27;t. reply jlokier 13 hours agorootparentprevJust tried \"python\" and \"python3\" on various Linux distros, which output respectively:On an Ubuntu 20.04 desktop VM: python => Python 2.7.18 (default, Jul 1 2022, 12:27:04) python3 => Python 3.8.10 (default, May 26 2023, 14:05:08)On an Ubuntu 19.04 server: python => -bash: python: command not found python3 => Python 3.7.5 (default, Apr 19 2020, 20:18:17)On an Ubuntu 20.10 server: python => -bash: python: command not found python3 => Python 3.8.10 (default, Jun 2 2021, 10:49:15)I no longer have access to some RHEL7 and RHEL8 machines used for work recently, but if I recall correctly they do this by default:Red Hat Enterprise Linux 7: python => Some version of Python 2 python3 => Some version of Python 3Red Hat Enterprise Linux 8: python => -bash: python: command not found # (use \"python2\" for Python 2) python3 => Some version of Python 3You can change the default behaviour of unversioned \"python\" to version 2 or 3 on all the above systems, I think, so if you&#x27;re running a Linux distro when \"python\" gets you Python 3, that configuration might have been done already.MacOS 10.15 (Catalina) does something interesting: python => WARNING: Python 2.7 is not recommended. This version is included in macOS for compatibility with legacy software. Future versions of macOS will not include Python 2.7. Instead, it is recommended that you transition to using &#x27;python3&#x27; from within Terminal. Python 2.7.16 (default, Jun 5 2020, 22:59:21) python3 => Python 3.8.2 (default, Jul 14 2020, 05:39:05) reply wrboyce 7 hours agorootparentprevI suspect my confusion stemmed from mostly invoking `ipython` which doesn&#x27;t include the 3 suffix (ok, part of the confusion may&#x27;ve been pub-related too :D). reply erik_seaberg 18 hours agorootparentprev13.5.2 has &#x2F;usr&#x2F;bin&#x2F;python3 (it’s 3.9.6) but not python2 or just python. Not sure when they changed, and YMMV with Homebrew. reply beeburrt 17 hours agorootparentprev> to reliably get Python 3 on Linux and Mac you have to run `python3`.This is not true on my Fedora 38 system, same with current Kali linux. Although, it is the case with Ubuntu 22.04.3. reply wnoise 17 hours agorootparent_reliably_, as in on the vast majority of machines. reply billyjmc 16 hours agorootparentIs that really python’s fault? It seems like it’s the distro making a design decision. reply wnoise 16 hours agorootparentWell, no, not python&#x27;s fault -- clearly the distros&#x27;, and they probably should be blamed. But a PEP saying python2 and python3 should invoke the correct interpreter would help motivate the distributions.(This is isomorphic to the usual victim-blaming discussion. Fault and blame vs some ability to make a difference; it&#x27;s a shame that correctly pointing out a better strategy is both used to attack victims and attacked for attacking victims in the cases when that wasn&#x27;t intended.) reply IshKebab 10 hours agorootparentprevWhat do you mean? Fedora 38 doesn&#x27;t have `python3`? Are you sure? reply baq 8 hours agorootparentprevPython probably could change this with a from __future__ import, i.e. in the same way. reply wrboyce 18 hours agorootparentprevBy letting you specify a language version requirement? Not exactly backwards compatible (because it is explicitly not, as per the article).Python doesn’t make breaking changes in non-major versions, so as mentioned by the upthread comment the appropriate place for this change would be in Python 4.Given the above, I’m really not sure what point you think you’re making in that final paragraph. reply carbotaniuman 18 hours agorootparentThis seems weird to given the number of breakages and standard library changes I seem to run into every version. reply wrboyce 18 hours agorootparentReally? I find that surprising. I don’t write as much code as I used to but I’ve been writing Python for a long time and the only standard library breakages that come to mind were during the infamous 2 -> 3 days.What sort of problems are have you faced upgrading minor versions? reply orbisvicis 18 hours agorootparentThe docs are full of remarks like \"removed in 3.0 and reintroduced in 3.4\" or \"deprecated in 3.10\", etc. A big one is the removal of the loop parameter in asyncio, but a lot of asyncio internals are (still?) undergoing significant changes, as getting the shutdown behavior correct is surprisingly difficult. Personally it&#x27;s never cause me any issues - I&#x27;m always on board with the changes. reply nerdponx 14 hours agorootparentAsyncio was explicitly marked as provisional for years and most of the incompatible changes happened during that time. Same goes for typing. The rest of the language is very very stable. reply nayuki 11 hours agorootparentprevOne of the few that I remember is fractions.gcd() -> math.gcd().See https:&#x2F;&#x2F;docs.python.org&#x2F;3.0&#x2F;library&#x2F;fractions.html#fractions... , https:&#x2F;&#x2F;docs.python.org&#x2F;3.5&#x2F;library&#x2F;fractions.html#fractions... , https:&#x2F;&#x2F;docs.python.org&#x2F;3.9&#x2F;library&#x2F;fractions.html (gone), https:&#x2F;&#x2F;docs.python.org&#x2F;3.5&#x2F;library&#x2F;math.html#math.gcd reply AlphaSite 12 hours agorootparentprevThey do and have made relatively small ones, e.g. promoting __future__ features to default, etc. reply kazinator 18 hours agorootparentprevIf the change &#x2F;doesn&#x27;t&#x2F; break old code, it&#x27;s also poorly justified.It means code doesn&#x27;t care about the issue being addressed.The feature is only justified if it changes existing code, such that bugs you didn&#x27;t even know about are fixed.I.e. people read about the issue, investigate their code bases and go, oh hey, we actually have a latent bug here which the change will fix. reply jjnoakes 15 hours agorootparentThere&#x27;s a second motivation in my opinion. Code might work today without the change, but it could be because the author originally wrote buggy code, caught it in testing, and had to waste time tracking it down and understanding nuances that don&#x27;t need to be there. Once they figured that out, they implemented an ugly workaround (adding an extra function parameter to a goroutine or shadowing the loop variable with n := n).Good language designers want to avoid both wasting developer&#x27;s time and requiring ugly workarounds. Making a change that does both, especially if it doesn&#x27;t break old code, is great imo. reply esrauch 16 hours agorootparentprevNew code written today will use the new version and have the correct behavior from day 1.Old code that is maintained will eventually be upgraded, which yes does come with work sometimes where you realize your code works on version X but not version X+10 and you do a combination of tests and reading patch notes to see what changed. reply kazinator 16 hours agorootparentThere is no \"correct\" behavior here; either one is a valid choice that can be documented and that programs can rely on and exploit.Code doesn&#x27;t care about when it&#x27;s written, only what you run it on, and with what compatibility options.E.g. one possibility is that ten-year-old code that wrongly assumed the opposite behavior, and has a bug, will start to work correctly on the altered implementation. reply masklinn 11 hours agorootparentprevPython is in a larger bind because it only has function scoping and variable declaration is implicit. It does not have sub-function scopes.So does not really have a good way to fix the issue, even by using a different keyword as JS did.OTOH default parameters being evaluated at function definition make mitigating it relatively simple. reply arnsholt 6 hours agorootparentPython does actually have a single instance of sub-function scopes: When you say `try: ... except Exception as e: ...` the `e` variable is deleted at the end of the `except` clause. I think this is because the exception object, via the traceback, refers to the handling function&#x27;s invocation record, which in turn contains a map of all the function&#x27;s local variables. So if the variable worked like normal variables in Python it&#x27;d create a reference cycle and make the Python GC sad. So if you need that behaviour, you need to reassign the exception to a new name [0].0: https:&#x2F;&#x2F;docs.python.org&#x2F;3&#x2F;reference&#x2F;compound_stmts.html#the-... reply codeflo 11 hours agorootparentprevYeah, block scoping is one of those \"weird CS ideas\" that I&#x27;m sure at some point early in Python&#x27;s design was deemed too complicated for the intended audience, but is also quite a natural way to prevent some human errors. JavaScript made the same mistake and later fixed it (let&#x2F;const). reply Cthulhu_ 9 hours agorootparentI&#x27;m not a computer scientist so I can&#x27;t rule whether function scope was a mistake, and can&#x27;t see how block scoping would be considered too complicated, I personally think it fits much better with my mental model. Then again, Python doesn&#x27;t have blocks in the traditional sense of the word IIRC, in C style languages the accolades are a pretty clear delineator.Parts of my previous job were terrible because it had JS functions thousands of lines of code long where variables were constantly reused (and often had to be unset before another block of code). That said, that wasn&#x27;t the fault of function scope per se, but of a bad but very productive developer. reply masklinn 9 hours agorootparentTBF you can have block scoping in an indentation-based language, though it probably help to merge the too, as in Haskell: `let…in` will define variables in the `let` clause, and those variables are only accessible in the `in` clause (similarly case…of) reply kzrdude 11 hours agorootparentprevI love python, but it&#x27;s one of the biggest annoyances. Local variables like in Lua make a lot of sense. reply orbisvicis 18 hours agorootparentprevIs it a bug? I&#x27;ve always depended on late-binding closures and I think even recently in a for loop, not that I&#x27;m going to go digging. You can do neat things with multiple functions sharing the same closure. If you don&#x27;t want the behavior bind the variable to a new name in a new scope. From the post I get the sense that this is more problematic for languages with pointers. reply lmm 17 hours agorootparentIMO it&#x27;s a misdesign in the same way as e.g. JavaScript&#x27;s \"this\". Most languages figured out 40 or so years ago that scoping should be lexical. reply orbisvicis 17 hours agorootparentThe scope is lexical, the lookup is dynamic. What you want is for each loop iteration to create a new scope, which I would categorize as \"not lexical\". reply lmm 15 hours agorootparentBy that argument a recursive function shouldn&#x27;t create a new scope every time it recurses, and a language that fails Knuth&#x27;s 1964 benchmark of reasonable scoping (the \"man or boy test\") would be fine. The loop body is lexically a block and like any other block it should have its own scope every time it runs. reply orbisvicis 2 hours agorootparentExcept that the for loop does not create a new scope and is not a block:https:&#x2F;&#x2F;docs.python.org&#x2F;3&#x2F;reference&#x2F;executionmodel.html#stru... reply Dylan16807 12 hours agorootparentprevAlso, loop bodies already did have their own scope each iteration.I wouldn&#x27;t say either behavior is non-lexical. The only thing changing is which lexical scope these variables go into. reply lmm 12 hours agorootparentIf the loop \"variable\" (and IMO thinking of it as a variable is halfway to making the mistake) is in a single scope whose lifetime is all passes through the loop body, that&#x27;s literally non-lexical; there is no block in the program text that corresponds to that scope. Lexically there&#x27;s the containing function and the loop body, there&#x27;s no intermediate scope nestled between them. reply Dylan16807 10 hours agorootparent> and IMO thinking of it as a variable is halfway to making the mistakeI used plural for a reason.> there is no block in the program text that corresponds to that scope.The scope starts at the for. There is a bunch of state that is tied to the loop, and if you rewrote it as a less magic kind of loop you&#x27;d need to explicitly mark a scope here.What&#x27;s non-lexical about it? You could replace \"for\" with \"{ for\" to see that a scope of \"all passes through the loop body\" does not require anything dynamic.And surely whether a scope is implicit or explicit doesn&#x27;t change whether a scope is lexical. In C I can write \"if (1) int x=2;\" and that x is scoped to an implicit block that ends at the semicolon.Would you say an if with a declaration in it is non-lexical, because both the true block and the else block can access the variable? I would just say the if has a scope, and there are two scopes inside it, all lexical. And the same of a for loop having an outer and inner scope. replysimiones 7 hours agorootparentprevThe problem isn&#x27;t with closures, the closure semantics are perfectly fine.The problem is in the implementation of for-range loops, where the clear expectation is that the loop variable is scoped to each loop iteration, not to the whole loop scope (otherwise said, that the loop variable is re-bound to a new value in each loop iteration). The mental mode approximately everyone has for a loop like this: for _, v := range values { &#x2F;&#x2F;do stuff with v }is that it is equivalent to the following loop: for i := range values { v := values[i] &#x2F;&#x2F;do stuff with v }In Go 1.22 and later, that is exactly what the semantics will be.In Go 1.21 or earlier, the semantics are closer to this (ignoring the empty list case for brevity): for i := 0, v := values[0]; i {1, 2, 3}; auto prints = std::vector>(); auto incrs = std::vector>(); for (auto x : v) { prints.push_back([&x]()->void {std::coutvoid {++x;}); } for (auto f : incrs) { f(); } for (auto f : prints) { f(); } &#x2F;&#x2F;expected to print 2, 3, 4; actually prints 6, 6, 6I would also note that this problem very much arises in functional languages - it exists in the same way in Common Lisp and Scheme, and I believe it very much applies to OCaml as well (though I&#x27;m not sure how their loops work).Tried it out, OCaml does the expected thing: open List let funs = ref [ ] ;; for i = 1 to 3 do funs := (fun () -> print_int i) :: !funs done ;; List.iter (fun f -> f()) !funs ;; &#x2F;&#x2F;prints 321 reply orbisvicis 2 hours agorootparentprevI think that&#x27;s a C-centric assumption which is moot as Python&#x27;s \"for\" does not create any new scopes. Just reading Knuth&#x27;s man-or-boy test I was struck by the alien nature of the ALGOL 60 execution model, even though to Python it can be considered a distant ancestor.https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Man_or_boy_test reply jerf 21 hours agoparentprevjaredpar on the C# team offered the very first comment on the Github issue for this proposal: https:&#x2F;&#x2F;github.com&#x2F;golang&#x2F;go&#x2F;discussions&#x2F;56010I think it played a large part in helping get past the default-deny that any language change proposal should have. The other big one for me was the scan done over the open source code base and the balance of bugs fixed versus created. reply em-bee 20 hours agorootparentas soon as i saw mention of c# going through the same thing, i realized that this was discussed before: https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=33160236 reply hinkley 18 hours agoparentprevJava also had this problem with anonymous classes. The solution is usually to introduce a functor. Being pass-by-value, it captures the state of the variables at its call time, which helps remove some ambiguity in your code.If you try to do something weird with variable capture, then any collections you accumulate data into (eg, for turning an array into a map), will behave differently than any declared variables.Go is trying to thread the needle by only having loop counters work this way. But that still means that some variables act weird (it&#x27;s just a variable that tends to act weird anyway). And I wonder what happens when you define multiple loop variables, which people often do when there will be custom scanning of the inputs. reply simiones 6 hours agorootparentJava has never had this problem with variables (either in a for loop or free-floating ones), since Java has never had support for closures.There is one somewhat similar problem in Java that you&#x27;re maybe thinking of: anonymous classes that reference fields of the current object. I don&#x27;t think that behavior is surprising, and there are very important use cases for it.What Go is doing is perfectly sensible. The ability to capture variables is extremely powerful, and often desired. It&#x27;s just the unexpected scoping of loop variables that introduces a problem. The following code is doing exactly what most people would expect, for example: a := 0 incr := func() {a += 1} print := func() {fmt.Printf(\"%d\", a)} print() &#x2F;&#x2F; prints 0 incr() print() &#x2F;&#x2F;prints 1 reply kaba0 5 hours agorootparentprev> An anonymous class cannot access local variables in its enclosing scope that are not declared as final or effectively final.So no, Java didn’t have this problem. reply eru 14 hours agorootparentprevWhich of the various meanings of the word &#x27;functor&#x27; are you using here? reply hinkley 12 hours agorootparentFunction that returns a function.You pass your counter into the function, it returns a function that remembers the original value, not the value as it keeps iterating later on in the caller. reply eru 9 hours agorootparentThat&#x27;s just a higher order function?That&#x27;s an interesting definition. I thought you would either go with https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Functor_(functional_programmin... or with https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Function_objecthttps:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Functor_(disambiguation) has a few more choices, but doesn&#x27;t seem to have yours. reply Sharlin 7 hours agorootparentFunctor must be one of the worst overloaded terms in all of computing. replytester756 20 hours agoparentprevIt is crazy that such behaviour even gets deployedIt is so unintuitive... reply wahern 19 hours agorootparentIt&#x27;s unintuitive to users of the language, but it&#x27;s very intuitive from the perspective of those implementing the language. Everybody seems to make this mistake. Lua 5.0 (2003) made this mistake, but they fixed it in Lua 5.1 (2006). (Lua 5.0 was the first version with full lexical scoping.) reply tester756 19 hours agorootparent>It&#x27;s unintuitive to users of the language, but it&#x27;s very intuitive from the perspective of those implementing the language.It sounds like a lack of dogfooding, lack of review? reply catach 18 hours agorootparentTo the degree the the implementers are also users they carry their implementer understanding into their use. Dogfooding doesn&#x27;t help when your understanding doesn&#x27;t match that of your users. reply skywhopper 17 hours agorootparentprevThe problem is that the error conditions are relatively rare. Most of the time it doesn’t break anything. So even with dogfooding you can miss it or not see it as a problem early on. But after 10 years of evidence that it was a mistake, that it’s almost never intended, and the fix won’t break much if anything, it’s time to fix it. reply masklinn 9 hours agorootparentprevNo, it’s just an obvious behaviour when you understand how the language works. reply tester756 5 hours agorootparent\"if you learned how this work, then you understand this behaviour\"I disagree with this approach, despite the fact that you can logically explain this,then it still is terrible design and as you see golang (and c# and other langs) designers realized it too and changed itSo, how can you even try to defend this design when even the designers decided to change it (despite the fact that changing lang is really hard)? reply masklinn 1 hour agorootparent> I disagree with this approachThat is not actually relevant to the point.> So, how can you even try to defend this designI&#x27;m doing no such thing, I&#x27;m pointing out that your reasoning is faulty: dogfooding does not help when the behaviour is logical and obvious to the designer-cum-user, and same with reviewing. replygtowey 19 hours agorootparentprevIt&#x27;s not crazy. It&#x27;s just the difference between a pointer and a value, which is like comp sci 101.I think the main things that make it such a trap is that the variable type definition is implicit so the fact that it&#x27;s a pointer becomes a bit hidden, and that easy concurrency means the value is evaluated outside of the loop execution more often. reply Cthulhu_ 9 hours agorootparent> It&#x27;s just the difference between a pointer and a value, which is like comp sci 101.That might be the case, but my comp sci 101 was 15 odd years ago now and since then I have _never_ had to think about pointers vs values, until I started a Go project a few years ago. But even that was more comprehensible than the pointer wizardry we had to do in C&#x2F;C++ back when.I don&#x27;t want to have to think about managing my application&#x27;s memory, I much prefer being in the code, thinking of variable scope and maintainability which in a lot of languages automatically translates to healthy memory usage. reply tester756 19 hours agorootparentprev>It&#x27;s not crazy.No. Full disagree.Array represents a concept of holding multiple values (let&#x27;s simplify) of the same type.Loop (not index based) over array represents concept of going *over* array&#x27;s elements and executing some code body for each of it.Now, if the behaviour isn&#x27;t that loop&#x27;s body is executed for each array element (let&#x27;s forget about returns, breaks, etc)then the design is terrible (or implementation, but that&#x27;d mean that it was a bug)I have totally no idea how can you design this thing in such a unintuitive way unless by mistake&#x2F;accidentally. reply jrockway 18 hours agorootparentThe loop semantics do not have anything to do with arrays. The point of confusion is whether a new slot for data is being created before each iteration, or whether the same slot is being used for each iteration. It turns out that the same slot is being used. The Go code itself is clear `for i := 0; i*i = *i + 1 goto loop if *i*secret = *secret + 1 goto loop if *secret The loop semantics do not have anything to do with arrays.Loop in general or \"for each\" style loop, that&#x27;s huge difference.The 2nd one has a lot to do with collections.>You can see that they are not crazy for picking the first implementation; it&#x27;s less instructions and less codeYes, it is not crazy when you&#x27;re looking at it from the reverse engineering &#x2F; implementation sidebut if you start thinking about it from user&#x27;s perspective then it is very bad behaviourbecause they used \"foreach\" like loop which is a concept of walking thru every element of collection. reply kweingar 11 hours agorootparentI still don&#x27;t see how looping over a collection is different from looping over a sequence of numbers from 1 to n. reply tester756 11 hours agorootparentDepends what do you actually mean by sequence, but mostly purpose.Normal \"for\" is like: repeat this code body as long as condition is satisfiedForeach is more like: walk thru this collectionLook (c#):foreach (var item in items) ...for (int i=0; i And it&#x27;s also a behavior that is never useful.False. There are cases where it is useful to have the loop variable available directly. For example, you can add one to the loop variable to skip an iteration, which would not work with an iteration-local loop variable. reply simiones 2 hours agorootparentIn a for-in-range loop, the variables are read-only inside the loop body, so there is no way to skip this.I do agree that there are reasons to modify the iteration variable in a C-style for loop, so I am surprised that those loops are being modified as well. C#, which went through a similar change, did NOT apply such a change for those for loops. reply eru 14 hours agorootparentprevAnd an optimizing compiler can reduce your latter case to the former, if they can prove it&#x27;s safe to do so. reply hinkley 18 hours agorootparentprevIf I understood the example, Java had this same problem. I&#x27;m wondering if C# does as well. reply xmcqdpt2 16 hours agorootparentIt would be hard to trigger it in Java. All references are pass-by-value, so you would have to do something like creating an array, passing that array and then replacing an element in it in on every loop iteration. Unless I got something wrong, it would be hard to do this by mistake IMO. reply hinkley 12 hours agorootparentIf you do an asynchronous callback in an inner loop that tries to log the loop counter and a calculated value at the same time, you will find that the loop counter has incremented underneath you and you&#x27;ll get for instance &#x27;20&#x27; for all of the logs. That was my introduction to this sort of problem.The solution as I said elsewhere is to pop out the inner block to a separate function, where the value of the counter is captured when the outer function is called, not when the inner one runs. reply simiones 5 hours agorootparentI don&#x27;t think you remember well how you triggered this error, since Java just doesn&#x27;t allow you to reference a non-final variable from an inner function. It sounds like you&#x27;re talking about code like this, but this just doesn&#x27;t compile: for (int i = 0; iTo ensure backwards compatibility with existing code, the new semantics will only apply in packages contained in modules that declare go 1.22 or later in their go.mod files. ... It is also possible to use &#x2F;&#x2F;go:build lines to control the decision on a per-file basis. reply sixstringtheory 20 hours agorootparentDoesn&#x27;t that mean that all code written so far can&#x27;t take up newer versions of the Go compiler for any other reason like new features&#x2F;bugfixes&#x2F;optimizations&#x2F;etc without a full audit of codepaths involving for loops? reply kevincox 16 hours agorootparentNo, the version declared in go.mod is different than the version of the toolchain used to compile the project. If you declare an older version even new toolchains will act like the previous versions. reply Cthulhu_ 9 hours agorootparentprevNo I don&#x27;t think so; any old working code will be using the x := x workaround, which will keep working when going to this version with the changed loop mechanics. What may happen is a form of... some adage, I forgot the name, where code accidentally relies on the old behaviour and breaks when that old behaviour is no longer there.(that same adage applies to e.g. browser manufacturers having to implement bugs to not break certain websites) reply Quekid5 6 hours agorootparentAre you thinking of Hyrum&#x27;s Law? reply ericpauley 19 hours agorootparentprevNo, it does not. Packages can compile using 1.22 and gain other benefits without opting into this change. reply sixstringtheory 18 hours agorootparentAh, I didn&#x27;t see the part about &#x2F;&#x2F;go:build reply acheong08 11 hours agorootparentWithout &#x2F;:go:build tags, you can just define 1.21 as your Go version in go.mod to opt out of new features while getting other benefits of the new compiler reply s17n 10 hours agorootparentprevThere isn’t really anything that you could actually use the old behavior for, any code that depends on it is probably wrong anyway. reply omeid2 21 hours agoparentprevI don&#x27;t know why you&#x27;re being down voted, but it is actually breaking the Go1 compat promise. Which says: It is intended that programs written to the Go 1 specification will continue to compile and run correctly, unchanged, over the lifetime of that specification. At some indefinite point, a Go 2 specification may arise, but until that time, Go programs that work today should continue to work even as future \"point\" releases of Go 1 arise (Go 1.1, Go 1.2, etc.). reply freedomben 21 hours agorootparentI upvoted the question to offset one of the downs because I agree it&#x27;s a fair question. However I would guess the downvotes are because TFA addressed this issue directly and comprehensively, so it&#x27;s a clear \"I didn&#x27;t read the article\" indicator :-) Possibly also because the downvoters can&#x27;t imagine a scenario where this would be desirable behavior (i.e. it&#x27;s always a bug) reply colejohnson66 20 hours agorootparentBut if it’s a bug, then the logic to not compile future versions is wrong, IMO. If it’s a feature change, then such logic would make sense. reply campbel 21 hours agorootparentprevYeah its fair, I didn&#x27;t closely read that section. Although, I&#x27;m not entirely convinced the approach is safe, maybe its worth it to fix such a common pitfall. reply efuquen 14 hours agorootparentprevIn a previous blog post they basically said they will never make a Go 2, and also addressed a lot of things about compatibility:https:&#x2F;&#x2F;go.dev&#x2F;blog&#x2F;compatIn particular they said:> The end of the document warns, “[It] is impossible to guarantee that no future change will break any program.” Then it lays out a number of reasons why programs might still break.> For example, it makes sense that if your program depends on a buggy behavior and we fix the bug, your program will break. But we try very hard to break as little as possible and keep Go boring. reply Cthulhu_ 9 hours agorootparent> In a previous blog post they basically said they will never make a Go 2No, they didn&#x27;t say that, they said it wouldn&#x27;t be backwards-incompatible with Go 1. Relevant quote:> [...] when should we expect the Go 2 specification that breaks old Go 1 programs?> The answer is never. Go 2, in the sense of breaking with the past and no longer compiling old programs, is never going to happen. Go 2 in the sense of being the major revision of Go 1 we started toward in 2017 has already happened. reply wrs 21 hours agorootparentprevNote the word “programs”, not “files”. If your program doesn’t declare go 1.22 in its go.mod, it will continue to work (or not work!), unchanged. reply robertlagrant 21 hours agorootparentIsn&#x27;t that \"working with future point releases\", though? If I don&#x27;t declare 1.22, am I not excluded from that point release? reply mrkstu 20 hours agorootparentNo, the compiler will revert to the original behavior, it only adopts the new behavior with the declaration. reply ben0x539 20 hours agorootparentprevI assume that if compiling with 1.22 or later, you still get all the benefits from that version like other new features, bug fixes or perf improvements, just not this particular change. reply skywhopper 17 hours agorootparentprevThis has all been addressed in the proposal. The research was done and this change will impact so few projects that it’s worth making a technical exception to the compatibility promise to fix a real design flaw. reply Cthulhu_ 9 hours agorootparentprevNo, it doesn&#x27;t break the promise; \"Go programs that work today should continue to work even as future \"point\" releases of Go 1 arise (Go 1.1, Go 1.2, etc.).\"You can install Go 1.22 and your program will compile and run as-is. That&#x27;s the promise. If however you opt-in to the changed for loop behaviour by adjusting your go.mod, the onus is on you to update your program accordingly.It&#x27;s only a backwards incompatible change if the developer makes a backwards incompatible change by updating the configured target version.(I&#x27;m aware I&#x27;m probably being pedantic here, I understand the language used seems to imply you can just set it to v1.22 and it works but it&#x27;s a bit more specific) reply campbel 21 hours agorootparentprevI don&#x27;t mind.Yeah, I thought this kind of change wouldn&#x27;t happen because of this promise. reply tgv 21 hours agorootparentprevI think it was downvoted precisely because of that. It&#x27;s a bit of a contentious issue. reply jacquesm 21 hours agorootparentprevAnd they do. You can specify the precise logic to use on a per-file basis. reply doctor_eval 20 hours agoparentprevTo add to the other comments, in the run-up to go1.21 they talked about how they’d analysed a very large corpus of Go code to see what would be affected, and it was a very very small number.I remember thinking that the number of people who have created inadvertent bugs due to this design (myself included) would be significantly greater than the number of people affected by the fix. reply nerdponx 20 hours agoparentprevPython has the same problem (to the extent that it&#x27;s actually a problem, which you might or might not agree with), and this is the #1 reason they won&#x27;t change it. reply beltsazar 10 hours agoparentprevYes, the loopvar change will break some programs, and hence the compatibility promise. But the Go team argues that the change will fix much more programs than it will break [1].This makes me wonder, though, what guarantees that a similar breaking change won&#x27;t ever happen again in the future? If any change with #(programs fixed) >> #(programs broken) is accepted, we might as well remove the compatibility promise page [2].---[1] https:&#x2F;&#x2F;github.com&#x2F;golang&#x2F;go&#x2F;issues&#x2F;60078[2] https:&#x2F;&#x2F;go.dev&#x2F;doc&#x2F;go1compat reply matthewmueller 21 hours agoparentprevIt&#x27;s only enabled for modules that run Go 1.22 and higher reply badrequest 21 hours agorootparentI also can&#x27;t imagine a case where it is useful or even truly intended to rely on this behavior. reply ben0x539 20 hours agorootparentYeah I don&#x27;t think it&#x27;s so much \"we explicitly rely on this behavior, how dare you change this\" as \"somewhere in our mountains of maintenance-mode code that haven&#x27;t seen the sun shine through an editor window in years, this behavior cancels out another bug that we never noticed\". Tooling should be able to detect when code relies on this, but it&#x27;s still gonna cost some non-zero amount of developer effort to touch ancient code and safely roll out a new version if it needs to be actively addressed. reply rsc 19 hours agorootparentIf you have tests and they break with GOEXPERIMENT=loopvar, then there is a new tool that will tell you exactly which loop is causing the breakage. That&#x27;s a post for a few weeks from now. reply kuchenbecker 15 hours agorootparentIf reply Cthulhu_ 9 hours agorootparentprevNeither can I, but there may be cases of code accidentally relying on it - there&#x27;s an adage that I forgot the name of that says just that, and I think compiler manufacturers are the most aware of that adage. reply omginternets 21 hours agorootparentprevYeah it’s def a code smell … reply minroot 21 hours agoparentprevSome time spent with Go gives a strong indication that Go team always has backwards compatibility in mind reply jacquesm 20 hours agorootparentThey do. Go has avoided most of the pitfalls that other language eco-systems have fallen for over the years (backwards compatibility issues, soft forks masquerading as language improvements, re-booting the whole language under the same name, aggressively pushing down on other languages etc). They&#x27;ve done remarkably well in those respects, and should deserve huge credit for it. reply baq 8 hours agoparentprevYou may also wonder how many would it fix if it wasn&#x27;t hidden behind a flag? reply skywhopper 17 hours agoparentprevThe original proposal for this change went into great detail about the research they did into existing uses of this syntax. In my memory, they found vanishingly few cases in the Google codebase or GitHub code where the change would violate the expected behavior. The decision to break the backwards compatibility here came only after determining how few codebases would be affected and developing a mechanism in Go itself (the version specification in go.mod) to require actively modifying the code to build with the new behavior. reply omginternets 21 hours agoparentprevSeems like yes, though hopefully that should be rare. reply kzrdude 20 hours agoprevI have run into this problem in Python too, but not recently. I&#x27;m not sure if Python has changed or if I just caught on to the problem.This should be enough to show that it still can wind up as a problem in Python: funcs = [(lambda: x) for x in range(3)] funcs[0]() # outputs: 2 reply paulddraper 20 hours agoparentThat is correct.Python used to be worse; it used to share scope outside the list comprehension. reply nightfly 18 hours agorootparentIt still does for regular loops right? reply thatguysaguy 15 hours agorootparentYeah loops don&#x27;t get their own scopes (unless you add one using this thing I made as a joke: https:&#x2F;&#x2F;github.com&#x2F;davisyoshida&#x2F;360blockscope) reply pulvinar 20 hours agoparentprevGPT-4 says: The behavior you&#x27;re observing is due to the late binding nature of closures in Python. When you use a lambda inside a list comprehension (or any loop), it captures a reference to the variable x, not its current value. By the time you call funcs[0](), x has already been set to the last value in the range, which is 2.To get the desired behavior, you can pass x as a default argument to the lambda: funcs = [(lambda x=x: x) for x in range(3)] funcs[0]() # outputs 0 reply up2isomorphism 6 hours agoprevGo is such a weird language in a sense it is so opinionated and so non opinionated at the same time. reply parhamn 21 hours agoprev> as a consequence of our forward compatibility work, Go 1.21 will not attempt to compile code that declares go 1.22 or later. We included a special case with the same effect in the point releases Go 1.20.8 and Go 1.19.13, so when Go 1.22 is released, code written depending on the new semantics will never be compiled with the old semantics, unless people are using very old, unsupported Go versionsHow does this work? If I pull in a package that decided to pin 1.22 (as they should) and I compile with 1.18, would it compile or error that I need to use the 1.22 compiler? reply icholy 18 hours agoparentThey did something sneaky. In go 1.21, they changed the version number format in the `go.mod` files. So trying to build with go 1.18 will result in: go: errors parsing go.mod: go.mod:3: invalid go version &#x27;1.21.0&#x27;: must match format 1.23However, this will only happen if you use the `go mod init` to create your module. If you manually specify `go 1.21` in your `go.mod`, it will build without complaining. reply jchw 20 hours agoparentprevInterestingly, though, if you use Go 1.21 and a module declares a later version of Go, the default behavior is actually to go fetch a newer toolchain and use it instead[1]. It&#x27;s a pretty cool feature, but I am a bit on the fence due to the fact that it is surprising and phones home to Google-controlled servers to fetch the binaries. That and the module proxy are for sure two of the most conflicting features in Go and I&#x27;d feel a lot better about them if Go was controlled by a foundation that Google merely had a stake in. Alas.edit: Actually, though, I just realized what I am talking about is different than what you and your quote is talking about, which is what happens when you have a dependency that declares a different version, not the current module. Oops.[1]: https:&#x2F;&#x2F;go.dev&#x2F;blog&#x2F;toolchain reply yankput 20 hours agoparentprevThey way I understand this, with go 1.18, 1.22 module as a dependency will compile and produce errorneous logic (!!) if it depends on this featureThus it will be actively dangerous using go 1.18. I understand it like that.With go 1.19, you will get a compiler error.But as go is not fixing security bugs in old releases and std library, I think it is dangerous to use them anyway. reply jerf 20 hours agorootparent\"But as go is not fixing security bugs in old releases and std library, I think it is dangerous to use them anyway.\"A bit of a harsh way to phrase that. In my experience, the backwards compatibility promises have been very good, and the way you stay up-to-date with security fixes and bugs in the standard library is to upgrade Go.I know that may strike terror in the hearts of developers used to the nightmare that major version upgrades can be in other languages, where a major version upgrade gets a multi-week task added into the task tracker, but it&#x27;s completely routine for me to upgrade across Go major versions just to get some particular fix or to play with a new feature. I expect it to be a roughly five minute task, routinely.The only thing that has bitten me about it is arguably not even Go&#x27;s fault, which is its continuing advances in TLS security and the increasing fussiness with which it treats things connecting with old-style certificates. I can&#x27;t even necessarily disagree... I would also like to upgrade them but while it&#x27;s my server, the clients connecting to it are using certs that are not mine and it&#x27;s out of my control. reply yankput 20 hours agorootparent> A bit of a harsh way to phrase that. In my experience, the backwards compatibility promises have been very good, and the way you stay up-to-date with security fixes and bugs in the standard library is to upgrade Go.I don’t think we disagree? There is no reason to use old version of go.I speak about grandparent comment who wanted to still run go1.18. It is not a good idea to still run go1.18, as it doesn’t get security updates. reply tedunangst 20 hours agoparentprevYou should get a compile error.But your code, when compiled with go 1.22, will still have go 1.18 semantics. reply packetlost 21 hours agoparentprevYes. reply scottlamb 21 hours agoprevI&#x27;ve written a tiny bit of Go and am aware of the general problem this solves. I don&#x27;t get their more subtle examples (the letsencrypt one or \"range c.informerMap\" vs \"range alarms\".When you do \"for k, v := range someMap\", is \"v\" of the map&#x27;s value type (and one binding for the whole loop, copied before each iteration)? This would explain the problem, but I would have expected \"v\" to be a reference into the map, and I couldn&#x27;t find the answer in a quick skim of the \"For statements with range clause\" in the spec. I&#x27;m probably looking in the wrong place because I touch Go rarely...[1] https:&#x2F;&#x2F;go.dev&#x2F;ref&#x2F;spec#For_statementsedit: oh, the answer is in the \"code block\"-formatted table. Guess I had banner blindness. \"v\" is the copied value, not a reference. I&#x27;m surprised! reply erik_seaberg 20 hours agoparentGo doesn’t support pointers to map keys or values. It does support pointers to array slots, but for-range copies each slot rather than giving you a pointer to it. reply scottlamb 20 hours agorootparentI suppose that makes sense when I think about it for a bit. My recent expectations come from work in Rust. There the language prevents you from mutating a map while holding a reference into it. Go doesn&#x27;t have a mechanism to prevent that (except the one you said, simply not supporting those references at all). If you had a reference into a map that was resized because of a subsequent mutation, your reference would have to keep the whole previous map alive and point to different memory than a reference acquired since then. Both seem undesirable.With array slots, the same issue is present but is a bit more explicit because those resizes happen with `mySlice = append(mySlice, ...)`. reply konart 12 hours agorootparent>If you had a reference into a mapMaps in golang are of reference type, just to be clear.https:&#x2F;&#x2F;go.dev&#x2F;blog&#x2F;mapsimplementation: https:&#x2F;&#x2F;go.dev&#x2F;src&#x2F;runtime&#x2F;map.go reply erik_seaberg 19 hours agorootparentprevI think the slice append semantics are very error-prone, and it would have been better if a slice was a shareable reference to a single mutable thing, like a map (or a list from Python or Java or …) reply tedunangst 21 hours agoparentprevIf you have a map of string to int, then v is of type int. It&#x27;s a value. It&#x27;s not pointer to int. reply scottlamb 20 hours agorootparentIs the expectation that you simply won&#x27;t create a `map[...]expensivetocopyvalue`, but instead always do `map[...]*expensivetocopyvalue`? reply konart 20 hours agorootparentNo expectations whatsoever. You can use pointer or a values. It&#x27;s up to you. reply scottlamb 20 hours agorootparentThat&#x27;s silly. Language constructs and APIs are always made with expectations for how they&#x27;re used, stated or not. You can write code that compiles without understanding and matching those expectations but it probably won&#x27;t be good code.I&#x27;m asking because I think if it were expected that folks used large&#x2F;expensive-to-copy map values, this construct would return a reference instead of copying. In Rust for example, the std library&#x27;s \"normal\" [1] iterators return references.[1] not those returned by into_* or drain. reply konart 20 hours agorootparentHere an example: https:&#x2F;&#x2F;go.dev&#x2F;play&#x2F;p&#x2F;He0lBEYZJ03Value is always a copy. Either a copy of a struct (in case of map[T]struct{}) or a copy of a pointer (in case of map[T]*struct{}) reply morelisp 20 hours agorootparentprevReturning references to storage within the map would be a substantial footgun without borrowing. reply scottlamb 20 hours agorootparentThanks, useful reply. I just realized that myself: https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37576558The peer comments along the lines of \"the expecation is it does what it does\" are not so helpful from a perspective of learning to write code that is in harmony with the language philosophy. reply tedunangst 20 hours agorootparentprevThe expectation is the compiler does what you tell it? If you want pointers in your map, you can do that too. reply Arnavion 19 hours agorootparentThey&#x27;re asking that, if the programmer wants the map to store expensivetocopyvalue semantically but also doesn&#x27;t want to have iteration generate expensive copies, does the programmer have to change the map to store *expensivetocopyvalue instead?Anyway I believe the answer is that expensivetocopyvalue is not a type that exists in golang, because golang&#x27;s \"copy\" operation is always a simple bitwise copy ala C struct copy &#x2F; Rust&#x27;s Copy trait, not like C++ copy ctor &#x2F; Rust&#x27;s Clone trait that can be arbitrarily expensive. reply morelisp 19 hours agorootparentIn Go, `expensivetocopyvalue` can still be achieved via an enormous (e.g. multi-KB&#x2F;MB) structure (which is most literally expensive to copy) or something containing a lot of pointers (which is not really expensive to copy but will start to pressure the GC). replyassbuttbuttass 3 hours agoparentprevI managed to track down these code snippets. Feel free to check out these links if you&#x27;re curious:https:&#x2F;&#x2F;github.com&#x2F;adobe&#x2F;kratos&#x2F;blob&#x2F;93246f92d53feba73743dbf...https:&#x2F;&#x2F;github.com&#x2F;StalkR&#x2F;goircbot&#x2F;blob&#x2F;6081ed5d1d74f01767d7...Basically the compiler is translating go a.Monitor(b)into (&a).Monitor(b)due to automatic dereferencing reply cb321 6 hours agoprevThis is indeed an ancient problem. I loved the 1992 Lisp FAQ comment by jjwiseman. :-)Nim handles this with `closureScope` and `capture` ( https:&#x2F;&#x2F;nim-lang.org&#x2F;docs&#x2F;system.html#closureScope.t,untyped ).It&#x27;s debatable if anything non-automatic counts as a \"fix\".Nim has for-loop macros that should make it possible to instead say `for i in captured(0..5): ...` or maybe `for closed(i) in 0..5: ...`. That might be a bit nicer, but would still be non-automatic. So, unnecessary qualifications can exist &#x2F; persist.Speaking of persistence, sometimes loop bodies evolve and the x:=x magic used to be needed but is no longer. Version control history might help decide if the extra step was unnecessary or vestigial, though it would surely slow things down (and perhaps run into intermediate uncompilable states of the code). No idea if David Chase and rsc looked at that aspect in their analysis. reply wwarner 16 hours agoprevFeel a great sense of relief reading this. This fixes the single biggest wart in Go. reply maccard 5 hours agoparentNo, the biggest wart is error handling. foo, err := getFoo() if err != nil ... bar, err := getBar() fmt.Println(bar)Misses an error check on getBar. Scoping rules mean that if foo, err := getFoo(); err != nilGets untenable with nesting fairly quickly.It also introduces invalid states - what does getFoo return if it returns an error too. Do we change the API to return a pointer and return nil, or do we have a partially constructed object that is in an invalid state? reply darren0 16 hours agoparentprevNext they can fix nil checks on interfaces. reply cyphar 9 hours agorootparentUnfortunately, the distinction is sometimes (though rarely) useful and would be a far more disruptive change than this one. I think you would actually need a Go v2 to change it. reply continuitylimit 3 hours agoprevnext [–]&#x2F;&#x2F; FIXME: this apparently needs to be “fixed” .. for _, v := range intvals { go func(v0 int) { fmt.Printf(“v:%v v0:%v\\n”, v, v0) }(v) } reply matthewmueller 21 hours agoprevAnyone know how this will impact loop performance? reply jsmith45 20 hours agoparentMost commonly no impact. It can require an additional heap allocation per iteration if taking the address or capturing in a closure, but even in those cases escape analysis may be able to determine that the value can remain on the stack because it will not remain referenced longer than the current loop iteration. If that happens then this change has no impact.I&#x27;m not sure how thorough Go&#x27;s escape analysis is, but nearly all programs that capture the loop variable in a closure and are not buggy right now could be shown to have that closure not escape by a sufficient thorough escape analysis. On the other hand for existing buggy programs, then perf hit is the same as assigning a variable and capturing that (the normal fix for the bug).Google saw no statistically significant change in their benchmarks or internal applications.https:&#x2F;&#x2F;github.com&#x2F;golang&#x2F;go&#x2F;wiki&#x2F;LoopvarExperiment#will-the... reply tedunangst 21 hours agoparentprevNonexistent? It can still reuse the memory if you don&#x27;t capture it. And if you were capturing it \"properly\" it was already making a copy. reply fyzix 18 hours agoprevThis will result in more memory allocations but it&#x27;s well worth it. reply icholy 17 hours agoparentThere&#x27;s no reason it can&#x27;t be optimized away when they&#x27;re not necessary. reply orblivion 21 hours agoprevFor migrating, I wonder if there are any tools that could, let&#x27;s say, go through your codebase and add a \"&#x2F;&#x2F; TODO - check\" to every place that might be affected. reply Cthulhu_ 9 hours agoparentI know for previous code changes they had a tool that would just do a find & replace for you.But you&#x27;re describing a linter, which just outputs a line on your terminal with a warning; I wouldn&#x27;t want a tool like that to add churn and tasks to my codebase (even though I&#x27;m guilty of adding TODOs myself and leaving them for years because ultimately they&#x27;re not important enough) reply tgv 21 hours agoparentprevI think there&#x27;s a linter for it, perhaps more than one, in golangci-lint. It might be exportloopref and&#x2F;or loopclosure. reply mongol 18 hours agoprevIs this a common way to fix problems in language syntax? It seems unintuitive to me. Now you need to know what version is declared in one file to understand behavior in another file. I understand they want to fix this but I did not know this way was allowed. reply kevincox 16 hours agoparentI don&#x27;t think it is common. But probably the best option in this case.The next best alternative is introducing a new construct for this version. But then you either risk people still using the old one or you need to break lots of fine code by removing the old construct. So in this case the \"in place\" upgrade made the most sense.Tying it to the declared compiler version is much like Rust&#x27;s edition system or Perl&#x27;s versioning, except tacked into an existing identifier rather than a separate variable. (The downside being that you are forced to make this upgrade at some point if you want to raise your minimum toolchains version. ) reply 21 hours agoprevnext [2 more] [deleted] MatthiasPortzel 20 hours agoparentJavaScript had a very similar problem. If the loop variable is declared with the old `var` then it will not capture the variable. “New-style” variables declared with `let` are scoped to the loop. Although, I have to point JS started talking about making this change almost 20 years ago. As a JS developer, it’s surprising to me to see Go having to make this change now. reply hexo 7 hours agoprevIf it behaves like that it is not a closure. reply peoplefromibiza 6 hours agoparenta closure can capture either the value or the reference of the variables.in this case it captured the reference which at the time of invocation always pointed to the same value. reply assbuttbuttass 20 hours agoprevnext [–]for _, informer := range c.informerMap { informer := informer go informer.Run(stopCh) } for _, a := range alarms { a := a go a.Monitor(b) }Not sure what the difference could be, but let me take a guess. In one case, the loop variable is a pointer, and in the other case a value. The method call uses a pointer receiver, so in the value case the compiler automatically inserts a reference to the receiver? reply pdimitar 4 hours agoparentSince iterating on maps in Go always results in copying the value then I&#x27;d guess the first piece of code does what is expected due to that, and the second does not because `a` will only ever have the value of the last element of `alarms` (the original problem described in the article). reply Cthulhu_ 9 hours agoparentprevI&#x27;m looking at the naming, the top one is a map, the bottom one is a slice; that&#x27;s where my internal knowledge ends though. I know a slice will have a backing array on the heap so there&#x27;s some pointers &#x2F; references involved. reply thebears5454 13 hours agoparentprevIt&#x27;s definitely something like that where the compiler knows to grab the value. reply assbuttbuttass 3 hours agoparentprevI managed to track down the original code containing these snippets using the GitHub code search tool:https:&#x2F;&#x2F;github.com&#x2F;adobe&#x2F;kratos&#x2F;blob&#x2F;93246f92d53feba73743dbf...https:&#x2F;&#x2F;github.com&#x2F;StalkR&#x2F;goircbot&#x2F;blob&#x2F;6081ed5d1d74f01767d7...The difference is that in one case, informer is an interface, so the method call resolves informer.Run immediately and there&#x27;s no issue. In the other case, a is a struct Alarm, and gets copied by value, and the Monitor method takes a pointer receiver. So my original intuition was right, the compiler is essentially translating go a.Monitor(b)into go (&a).Monitor(b)Which has a reference to the loop variable, and creates an issue. reply ravivooda 21 hours agoprevSimilar: https:&#x2F;&#x2F;github.com&#x2F;ravivooda&#x2F;gofor reply chen_dev 20 hours agoparentthe &#x27;fix&#x27; to the example in the README should be obvious, but for reference:- for _, e := range es {- pumpUp(&e)}+ for i := range es {+ pumpUp(&es[i])} reply dangoodmanUT 20 hours agoprevThank god!!! reply raydiatian 19 hours agoprevCan somebody please explain to me why this doesn’t constitute a major version due to a breaking change? Maybe I didn’t read precisely enough but it sure sounds like a breaking semantic, esp. with the fact that “this will only work for versions 1.22 and later.” Sounds like a version upgrade trap to me? What am I missing?Or is it just because it’s Golang and they’re “we’ll never release a go v2 even if we actually do release go v2 and call it v1.x” reply ben0x539 18 hours agoparentSeems like a pragmatic decision where the breakyness of the change is mitigated by the module versioning thing. Old code gets the old behavior, code written in newly created or updated modules gets the new behavior. Everybody is happy, compared to the alternative where this ships in a mythical go v2 which nobody uses while this sort of bug keeps sneaking people&#x27;s actual work. reply raydiatian 17 hours agorootparentThanks, must have missed the module versioning bit reply Cthulhu_ 9 hours agoparentprevIn practice it won&#x27;t break anything, unless there is code that accidentally relies on this behaviour. Most of the code affected by this will already have a workaround - the `x := x` mentioned - which can be removed after applying this change. reply DonnyV 20 hours agoprevGO syntax is so hard to look at. reply guessmyname 19 hours agoparent> GO syntax is so hard to look at.What do you mean by “hard”?I find Rust syntax challenging to grasp in a specific way. Rust employs numerous symbols and expressions to convey statements, which makes reading Rust code a process of constantly navigating between different keywords, left and right. I have to create a mental map of what certain statements are accomplishing before I can truly comprehend the code.In contrast, I find Go code relatively straightforward, especially for those familiar with C-like programming languages. This clarity is due to the deliberate verbosity of the language, which I personally appreciate, as well as the use of early return statements.But don’t get me wrong. I enjoy programming in both Rust and Go when they are suitable for the task at hand, but I usually spend more time grappling with Rust’s syntax than with Go’s, because I often invest more time in understanding the structure and logic of Rust programs compared to their Go counterparts. reply tuetuopay 18 hours agorootparentI guess it depends on the way the brain works. I have very bad memory, but I prefer the expressiveness of Rust to the verbosity of Go. I value much more having the whole context on the screen that navigating countless words of boilerplate code. I do agree that it gets a bit of getting used to, but I find it easier to recognize by eye. reply ShamelessC 18 hours agorootparentprevAt least part of the issue for me was that many keywords&#x2F;syntax rules don’t match anything I’m familiar with, even considering “C-like” languages.I have similar issues with Rust actually. There’s a lot of sugar used that you have to grok and that takes some time.On the other hand Python, C#, Java all stick with a set of fairly familiar conventions. In terms of syntax (and only syntax), the learning curve is more intense with Go; perhaps similar to the initial alienation provided by JavaScript.My experience has been that once you are being paid to learn a language these problems mostly disappear. Alas, no one ever paid me to learn Go. reply knodi 20 hours agoparentprevIf you hate readability, sure. reply nzoschke 21 hours agoprevThank you Go team and project!Go continues to be my favorite language and experience to build and maintain in.They got so much right from the start, then have managed to make consistent well reasoned, meaningful and safe improvements to the language over the years.It’s not perfect, nothing is, but the “cost” of maintaining old code is so much lower compared to pretty much every other language I have used. reply devjab 20 hours agoparentGo is such a productive language to work with, it&#x27;s absolutely mind blowing how little adoption it has around where I live. Well I guess Lunar went from node to java to go, and harvested insane benefits from it, but a lot of places have issues moving into new languages. Not that I think that you should necessarily swap to a new hipster tech, I really don&#x27;t, but Go is really the first language we&#x27;ve worked with that competes with Python as far as productivity goes. At least in my experience.We&#x27;ll likely continue using Typescript as our main language for a while since we&#x27;re a small team and it lets us share resources better, but we&#x27;re definitely keeping an eye on Go. reply rcv 19 hours agorootparentI typically develop in Python, C++, and Typescript, and recently had to implement some code in Go. So far I&#x27;ve found it a pretty unpleasant language to use. It feels pedantic when I don&#x27;t need it to be, and yet I have to deal with `interface{}` all over the place. Simple things that would be a one-liner Python or TS (or even just an std::algorithm and a lambda in C++) feel like pulling teeth to me in Go.I&#x27;d love to hear of any resources that can help me understand the Zen of Go, because so far I just don&#x27;t get it. reply badrequest 19 hours agorootparentI write Go every day, and can count the number of times per year I have to involve an `interface{}` literal on one hand. Unless you&#x27;re doing JSON wrong or working with an API that simply doesn&#x27;t care about returning consistently structured data, I can&#x27;t fathom why you&#x27;d be using it \"all over the place.\" reply coffeebeqn 18 hours agorootparentMe too. We have around a dozen go services and I have maybe used or seen interface{} once or twice for a hack. Especially after generics. I think the parent comment is suffering from poor quality go code. It’s like complaining about typescript because things in your codebase don’t have types reply xarope 11 hours agorootparentDealing with databases and data scanning into custom structs, you would be writing lots Scanner&#x2F;Valuer custom functions which use interface{}If you are the lucky ones not dealing with databases, I sort-of envy you...! reply kiitos 4 hours agorootparentApplications should basically never need to write custom Scanner&#x2F;Valuer functions that deal in interface{}, if you find yourself doing that it&#x27;s a red flag reply Spiwux 19 hours agorootparentprevYou discovered the Zen of Go. There are no magic one liners. It&#x27;s boring, explicit and procedural.Proponents argue that this forced simplicity enhances productivity on a larger organisational scale when you take things such as onboarding into account.I&#x27;m not sure if that is true. I also think a senior Python &#x2F; Java &#x2F; etc resource is going to be more productive than a senior Go resource. reply pharmakom 19 hours agorootparent... so the code ends up being really long then. reply Spiwux 19 hours agorootparentYes, pretty much. It&#x27;s a pain to write, but easy to read. On a larger scale the average engineer likely spends more time reading code than writing code reply tuetuopay 19 hours agorootparentI don&#x27;t find go that easy to read. It is so verbose that the actual business logic ends up buried in a lot of boilerplate code. Maybe I&#x27;m bad at reading code, but it ends up being a lot of text to read for very little information.Like a one-line list comprehension to transform a collection is suddenly four lines of go: allocation, loop iteration, and append (don&#x27;t even start me on the append function). I don&#x27;t care about those housekeeping details. Let me read the business logic. reply Cthulhu_ 8 hours agorootparentIt&#x27;s a tradeoff; I too find one-liner list comprehensions like simple transforms or filters easier to read than the for loop equivalent.However, it&#x27;s a dangerous tool that some people just can&#x27;t be trusted with. Second, if you go full FP style, then you can&#x27;t just hire a Go developer, they need additional training to become productive.Here&#x27;s an example of functional programming within Go taken far: https:&#x2F;&#x2F;github.com&#x2F;IBM&#x2F;fp-go&#x2F;blob&#x2F;main&#x2F;samples&#x2F;http&#x2F;http_tes.... It basically adds a DSL on top of Go, which goes against its principles of simplicity.There was another great resource that explains why functional programming in Go is a Bad Idea; one is function syntax (there&#x27;s no shorthand (yet?)), the other is performance (no tail call optimization), and another is Go&#x27;s formatter will make it very convoluted; I think it was this one: https:&#x2F;&#x2F;www.jerf.org&#x2F;iri&#x2F;post&#x2F;2955&#x2F; reply kiitos 15 hours agorootparentprevGo offers a programming interface at a lower level of abstraction than languages like Python or Ruby. What you call boilerplate or housekeeping, I consider to be mechanical sympathy.Modulo extremes like Java, the bottleneck for programmers understanding code is about semantics, not syntax -- effectively never the literal SLoC in source files. It&#x27;s not as if for i := range x { x[i] = fn(x[i]) }is any slower to read, or more difficult to parse, or whatever, than e.g. x.transform(fn)in any meaningful sense. reply tuetuopay 4 hours agorootparentYou don&#x27;t need to go the python or ruby route to get such benefits. I daily write rust that has a pretty comprehensive iterator system, while still getting the nitty-gritty in your hands. As some other commenter put it, `x.iter().map(function).collect()` is mentally translated to \"apply function to the collection x\" at a glance.between var y []int for _, x := range x { y = append(y, function(x)) }and let y = x.iter().map(function).collect();I&#x27;ll take the second form any day. You express the flow of information, and think about transformations to your collections. reply saagarjha 14 hours agorootparentprevSo my 2¢ as someone who&#x27;s just been skimming this thread: I read the second example faster. I mean it&#x27;s like 2 seconds vs 5 seconds, but in the first I have to actually read your loop to see what it&#x27;s doing, whereas in the latter I can just go \"oh apply fn over x\". reply xmcqdpt2 15 hours agorootparentprevYour example is very simple though.What&#x27;s the go equivalent to x.map(fn).filter(predicate)ie returning a new collection of transformed items which is filtered by some predicate? Now we are talking more like 5-6 lines of Go. reply kiitos 8 hours agorootparent> What&#x27;s the go equivalent to x.map(fn).filter(predicate)Probably something like var output []T for _, val := range input { if newval := transform(val); allow(newval) { output = append(output, newval) } }No problem? reply xmcqdpt2 6 hours agorootparentIt&#x27;s definitely less clear though, in that it involves an if statement with an assignment, three temporary variable declarations, etc. Also, type inference won&#x27;t detect the type of the output automatically from the transform function type, and this of course assumes you wanted to collect into a slice, but it could be a set, or a list.For some operations, the Go style of explicit, mostly in-place mutations produces more complicated code. Whether that&#x27;s balanced out by the code being \"simpler\" is not clear to me, but I haven&#x27;t worked with Go. reply kiitos 4 hours agorootparentI see it as unambiguously more clear, because it makes explicit what the machine will be doing when executing the code. Whether map&#x2F;filter copy values, or mutate in-place, or etc. etc. is non-obvious. I mean I&#x27;m not saying my way is the only way and I appreciate that other people have different perspectives but I just want to make it clear that \"clear\" in code isn&#x27;t an objective measure, that&#x27;s all. reply Cthulhu_ 8 hours agorootparentprevOne caveat; if `fn` is declared inline when calling that function, it&#x27;s not very pretty because Go doesn&#x27;t have a function shorthand (yet?): x.transform(func(value int) string { return fmt.Sprintf(\"%b\", value) })This quickly becomes more difficult to read, especially if you want to chain some operations this way.But this applies to other languages as well, in JS (which has a function shorthand) I prefer to extract the predicates and give them a meaningful name. reply pdimitar 4 hours agorootparentI don&#x27;t write much Golang -- mostly using it for my own needs because it allows quick iteration but haven&#x27;t made a career out of it -- but for any such cases I just extract out the function. I deeply despise such inline declarations, they are a sign of somebody trying to be too clever and that inevitably ends up inconveniencing everyone else, their future selves included. reply pharmakom 19 hours agorootparentprevI think that shorter code is easier to read - to a point! on balance most code is too long, not too short. reply goatlover 19 hours agorootparentprevGo seems like the antithesis to Lisp. reply gtowey 19 hours agorootparentprevGo is the language that&#x27;s not made for you, it&#x27;s made to make the life of the next guy who has to maintain your code easier! :-) reply Cthulhu_ 8 hours agorootparentThat&#x27;s a great way to phrase it, I&#x27;m going to steal that :D reply vineyardmike 19 hours agorootparentprevOne of the big things that I’ve found helped is to “stop being an architect”. Basically defer abstraction more.People, esp from a Java-esque class based world want class inheritance and generics and all that jazz. I’ve found at work like 50% of methods and logic that has some sort of generic&#x2F;superclass&#x2F;OOP style abstraction feature only ever has 1 implemented type. Just use that type and when the second one shows up… then try to make some sort of abstraction.For context, I can’t remember the last time that I actually used “interface{}”. Actual interfaces are cheap in go, so you can define the interface at use-time and pretty cheaply add the methods (or a wrapper) if needed.If you’re actually doing abstract algorithms and stuff every day at work… you’re in the minority so I don’t know but all the CRUD type services are pretty ergonomic when you realize YAGNI when it comes to those extra abstractions.Edit: also f** one liners. Make it 2 or three lines. It’s ok. reply devjab 12 hours agorootparentprevIf I asked you to carve wood, would you prefer a carving knife or a Victorinox multipurpose tool? I get that it’s a bit or a cheesy analogy, but it’s basically why I liked Go. To me it’s the language that Python would have been if Python hasn’t been designed so long a go and is now caught in its myriad of opinions. Because I certainly get why you wouldn’t like an opinionated language, I really do. It’s just that after more than a decade, often spent cleaning up code for businesses that needed something to work better, I’ve really come to appreciate it when things are very simple and maintainable, and Go does that.Similarly I’m not sure you would like working with Typescript in my team. Our linter is extremely pedantic, and will sometimes force you to write multiple lines of code for what could probably have been a one liner. Not always, mind you, but for the things we know will cause problems for some new hire down the line. (Or for yourself if you’re like me and can’t remember what you ate for breakfast). The smaller the responsibility, the less abstraction and the cleaner your code the easier it’ll be to do something with in 6+ months. Now, our linter is a total fascist, but it’s a group effort. We each contribute and we alter it to make it make sense for us as a team, and that’s frankly great. It’s nice that the ability to do this, and the ability to build in-house packages, is so easy in the Node ecosystem, but it’s still a lot of work that Go basically does for you.So the zen is in relinquishing your freedom to architect the “linguistics” of your code and simply work on what really matters.I’ve never used Interface{}. reply kiitos 16 hours agorootparentprevinterface{} is a pretty strong code smell. reply mseepgood 13 hours agorootparentprevSince the advent of generics I rarely ever use `interface{}`. reply hagbarth 20 hours agorootparentprevOne of the reasons I like Go is that it really doesn&#x27;t try to be a hipster language. It&#x27;s kinda boring, which is great! reply Philip-J-Fry 19 hours agorootparentBoring is good when you want to build things that are",
    "originSummary": [
      "Go 1.22, the next release of the Go programming language, will modify the scoping of 'for' loops to prevent a common programming error where the loop variable assumes an undesired value. This change aims to manage references to loop variables outliving their iteration.",
      "The revised semantics of 'for' loops will be applicable only to packages within modules that declare Go 1.22 or later, ensuring backward compatibility as older code will operate as before.",
      "A preview of the scoping change is included in Go 1.21 and can be activated with the GOEXPERIMENT=loopvar environment variable. Some code and tests may require modifications to align with the new loop semantics."
    ],
    "commentSummary": [
      "The article engages in in-depth discussions about the advantages and disadvantages of different programming languages, particularly focusing on Go and Python.",
      "Topics covered include loop semantics, scoping, code readability, and productivity - key elements in code quality and programming efficiency.",
      "Through debates on potential problems and alternative solutions, the article aims to shed light on the ways to improve code quality and tackle design flaws in programming languages."
    ],
    "points": 552,
    "commentCount": 397,
    "retryCount": 0,
    "time": 1695152049
  },
  {
    "id": 37573332,
    "title": "We are retroactively dropping the iPhone’s repairability score",
    "originLink": "https://www.ifixit.com/News/82493/we-are-retroactively-dropping-the-iphones-repairability-score-en",
    "originBody": "Skip to main content Fix Your Stuff Join the Community Store USD / EN Join Log In 27 COMMENTS Add Comment It should be noted that security is not a valid reason to pair a touch/face ID sensor either; replacing them doesn't magically give anyone the ability to unlock your phone without you present. It's like changing the keyboard on a locked PC; it doesn't just magically unlock it. Google do pair their fingerprint sensors on their Pixel phones, but only because of calibration, and to this end they do at least give a way for an end user to re-pair and re-calibrate this sensor ( https://pixelrepair.withgoogle.com/udfps ) - but this isn't, IMO, repair friendly enough as Google is well known for randomly killing products. It would be silly and ashame if this end-user recalibration tool got removed once the Pixel line was no longer being made. Samsung have also started to pair things to phones, and I hope ifixit takes a proper stand against this practise irrespective of who's doing it. Though Apple's had it coming for a long time! Ashley - yesterday Additionally, there are issues with the 14 series in terms of back glass replacement. Even if you use an OEM pull back glass with the NFC coil preinstalled, there is an IC that must be transferred or any video taken with flash will no longer save to your camera roll. It's stupid, that coil has nothing to do with camera functionality. We have not confirmed that this is still an issue on iOS 17, but it was prior. Fruit Fixed iPhone Repair - 23 hours ago More people should sign ‘The Right To Repair’ bill! Phil Phil - 22 hours ago Apple doesn't care as long as they keep raking in the profits. A more effective strategy would to stop supporting their business until they make real changes. Dufus McQuack - 21 hours ago They can talk about being green all they want. If you can not repair your own phone they are forcing you to buy a new phone: I consider that very wasteful. Very good for sales. Mother Earth Barullo - 4 hours ago Load more comments Add Comment Post comment iFixit About Us Customer Support Careers Feedback Newsletter API Resources Press News Participate Pro Wholesale Retail Locator For Manufacturers Legal Accessibility Privacy Terms Stay in the loop Learn something new every month! Subscribe Let me read it first! Help translate Repair is noble © iFixit — Licensed under Creative Commons",
    "commentLink": "https://news.ycombinator.com/item?id=37573332",
    "commentBody": "We are retroactively dropping the iPhone’s repairability scoreHacker NewspastloginWe are retroactively dropping the iPhone’s repairability score (ifixit.com) 513 points by fraXis 23 hours ago| hidepastfavorite341 comments mschuster91 23 hours agoThere is also another issue why Apple is restricting \"part harvesting\": theft. iCloud locks or Samsung&#x27;s KNOX lock entered the field because the manufacturers were pretty pissed that customers using their devices in public became a target for \"enterprising\" robbers who&#x27;d factory-wipe the devices and flip them to a pawn shop or second-hand store in a matter of half an hour. When people are afraid to use your products because it paints a phone-sized target on them, they won&#x27;t buy your product.That cut down on a lot of the robbery bullshit, but then criminals simply found new buyer classes - they&#x27;d simply part stolen devices out and resell everything but the iCloud&#x2F;Knox&#x2F;whatever locked mainboard. Displays, cameras, speakers, batteries, flex cables, cases, everything.So now, at least Apple is tagging the most \"valuable\" parts in new phones, simply to make stealing them unattractive for thieves, which frankly sucks but is necessary because it&#x27;s a public safety issue.(If anyone at Apple is reading this: ffs, allow the legitimate owner of a device to \"unpair\" all components in their phone in iCloud so that legitimate second-hand shops can strip a broken device at least for its parts) reply toxik 23 hours agoparentWhile anti-consumerist practices such as this authentication mechanism sometimes accidentally protect the consumer, it is not the reason why companies do it. If it were, they would also allow you to say “yes this replacement is desired.” Similarly, if it was about security and preventing backdoored parts, they could allow you to authorize the replacement.But no, it is of course about money grabbing, and then the consumer is the opponent. reply falsenapkin 23 hours agorootparentSuch an ignore button would allow theft to continue and would allow users to make poor security decisions. I agree that something needs to happen to enable easier or maybe more privacy focused 3rd party repairs but I also appreciate my device being less of a target. reply tumult 23 hours agorootparentWhat? How is someone who snatched your phone out of your hand and ran away going to know your password and authentication information needed to authorize a parts replacement? reply sneeze-slayer 22 hours agorootparentI think the point is that an unsuspecting buyer of, e.g. a screen replacement, could end up going to a shady repair shop that uses stolen parts, sees the message once, clicks \"OK\", and moves on. The reasoning being that this scenario would cause some demand for black market parts.The suggestion from OP whereby the seller of a used phone logs in and \"unpairs\" the parts could avoid this, unless a robber forces you to do it under duress. reply UseStrict 22 hours agorootparentApple could just unpair parts when the phone itself is reset&#x2F;deactivated. And new genuine Apple parts could at least have a one-time automatic pairing when signing in with your Apple ID.Stolen phone? The phone is still activated, part can&#x27;t pair with new phone. Not perfect, but at least somewhat less anti-consumer. reply londons_explore 20 hours agorootparentBut if that were the case, there would be plenty of people willing to sell you a refurbished screen for your 2 year old iphone for $100.By restricting the reuse of parts, when you crack the screen of your old phone, you are faced with a $500 repair bill, and decide to just pay your phone company $50&#x2F;month for a new contract that comes with a new phone. reply red_trumpet 22 hours agorootparentprev> unless a robber forces you to do it under duress.Isn&#x27;t that possible with the full iPhone atm? reply i_love_cookies 22 hours agorootparentYes, it&#x27;s actually made phone theft even worse as a victim. instead of running with the device muggers are demanding pin&#x27;s and passcodes at gun&#x2F;knife pointit&#x27;s resulted in a few deaths in chicago at least reply ghostpepper 21 hours agorootparentGot a source on this? Quick google search for \"Chicago death iPhone mugging\" did not turn up anything about robbers specifically asking for PIN codes, or killing someone for not providing it. reply fortran77 21 hours agorootparentprevSee this story: https:&#x2F;&#x2F;www.nbcnews.com&#x2F;nbc-out&#x2F;out-news&#x2F;patrons-nyc-gay-bar... reply jrockway 21 hours agorootparentThis thread transformed from \"multiple dead people in Chicago\" to \"5 people in NYC&#x27;s banks are out $5000\".Overall I think it&#x27;s pretty safe to pull out your smartphone in public these days, which was not the case years ago. reply lotsofpulp 21 hours agorootparentprevHence why you should not use bank&#x2F;brokerage websites or apps on phone other than maybe a checking account with a small amount of money in it. reply dylan604 21 hours agorootparentfor paypal, i only ever use a login through the website on the rare occasions i have to use it. for other apps like cashapp&#x2F;venmo, do they even have a non-app method of using them? reply lotsofpulp 20 hours agorootparentFor those, I would only connect them to a bank account with a relatively small amount of money in it. reply dylan604 20 hours agorootparentyou just described every single account i have =( reply fortran77 21 hours agorootparentprevYes! On my travel checklist I have \"REMOVE BROKERAGE APPS FROM PHONE\" reply lotsofpulp 20 hours agorootparentUnless you are a day trader, I do not see a reason to ever have them on your phone. reply fortran77 19 hours agorootparentYou&#x27;re probably right. I rebalance my account 4 times&#x2F;year. I&#x27;m thinking it may be best to have one \"secure PC\" that I do my balancing on, and even remove the passwords from my password manager. replyamluto 21 hours agorootparentprevI think you’re misunderstanding. The user who previously owned the part would need to unpair it. reply eptcyka 9 hours agorootparentprevNew owners wouldn&#x27;t OK a stolen part, the part would have to unpaired from the Apple account (on device or online) from the previous owner first. reply falsenapkin 22 hours agorootparentprevMy comment is in response to your “yes this replacement is desired.” button in a world where parts can be harvested from a phone and used in a different one. My understanding of what you mean is if phone A were stolen and parts removed from it and installed in phone B then phone B would get the “yes this replacement is desired.” button instead of whatever is in place now. My feeling is this button would be no different from just not having a button at all. The user of phone B will almost never care what that prompt says and will just click through, they&#x27;re certainly not going to consider the parts were stolen from phone A. reply lcnPylGDnU4H9OF 22 hours agorootparentChange \"replacement\" to \"removal\" and it should work as intended. I haven&#x27;t authorized my stolen phone&#x27;s parts to be removed so they can&#x27;t be installed in any other phone. reply bonzini 22 hours agorootparentBut if the phone doesn&#x27;t turn on you can&#x27;t authorize the removal. And if it turns on but a factory reset is enough to let you authorize the removal, you&#x27;re back to square 1. Either way it&#x27;s not feasible. reply sciolistse 22 hours agorootparentthe phone is likely linked to an apple account. seems reasonable that if the components are approved for a specific phone and that phone is linked to an icloud account, that account could permit a swap? reply bonzini 7 hours agorootparentThat assumes that you managed to ask the previous owner to log into iCloud on another phone and \"free\" the previous one for repairs. I guess you could do that if he&#x27;s buying a new iPhone from you, but still... it is similar to the Macs that are stuck on the previous owner&#x27;s enterprise account. reply circuit10 22 hours agorootparentprevIt&#x27;s a better solution than always rejecting it, at least reply snypher 15 hours agorootparentprevI thought person A&#x2F;ex-phone A would get the \"someone is using your old battery, allow?\" via iCloud account reply thinkling 23 hours agorootparentprevThey&#x27;re going to snatch your phone, break it up into parts, and install those into other people&#x27;s phones, and those people will happily approve the new part. reply jiminymcmoogley 22 hours agorootparentapprove them on your behalf? theyd still be paired to your device reply BoorishBears 22 hours agorootparentprevYou should search what happens when these phones are stolen with Apple&#x27;s lock on them.It&#x27;s almost always the same play book:- moves to some US address nearby- turns off for days- shows up in Shenzhen or GuangzhouUsually from there are a few attempts to phish the owner with fake iCloud alerts (and sometimes outright threats) before they strip it for parts.To be clear it&#x27;s not like the phone theft itself is part of some concerted effort by Chinese actors: there are only so many places where the tools and skills to strip down, repackage, and resell something as specific as an iPhone speaker unit are so common reply stevenwliao 13 hours agorootparentWhen my phone was taken in an armed robbery, it ended up in Ho Chi Minh City.No threats though... I assume they just parted it out. reply sbuk 22 hours agorootparentprevWhat is your stance on government backdoors in encryption? reply ASalazarMX 12 hours agorootparentprevThieves who really want your iPhone will make you unlock it (or just point it to your face) and remove it from your iCloud account. Much better than using it for parts. reply ribosometronome 12 hours agorootparentDoes that happen? I&#x27;ve not heard of that. Regardless, that does iPhones are still immune to everything short of armed robbery. That your front door lock doesn&#x27;t stop thieves from smashing the window to get in doesn&#x27;t mean it doesn&#x27;t serve a purpose. reply misnome 23 hours agorootparentprev> If it were, they would also allow you to say “yes this replacement is desired.”How does that not completely bypass any of the reasons for wanting to do this?And it is “anti-consumerist” to make my property a less desirable target for theft? reply picture 23 hours agorootparent> How does that not completely bypass any of the reasons for wanting to do this?Do it from your iCloud account. Presumably thieves will not hold you at gun point to log in to iCloud and allow pairing of your phone&#x27;s components to a ready recipient iPhone reply w0m 22 hours agorootparentThis. If Apple was honest, they&#x27;d have an &#x27;unlock from account&#x27; security, not an &#x27;accept new to account&#x27; pairing. reply dylan604 21 hours agorootparentbut you&#x27;d have to make it to not be something to be done from an iDevice. it would have to be through the website. otherwise, how do you know it&#x27;s not a still a malicious approval? reply w0m 4 hours agorootparentYep, a web portal similar to what apple does with Find My would cover it nicely I think. reply Clamchop 20 hours agorootparentprevTruly, they could put up any roadblock---a time delay, requiring a phone call, MFA up one side and down the other---and it would be a much better look for them.I don&#x27;t buy the anti-theft angle that can only be solved by buying a brand-new genuine part direct from Apple. reply circuit10 22 hours agorootparentprev> And it is “anti-consumerist” to make my property a less desirable target for theft?That&#x27;s not the main purpose, it&#x27;s an excuse. You can tell because they don&#x27;t take relatively simple steps to make things easier for non-stolen parts replacement like the one being suggested reply Brian_K_White 23 hours agorootparentprevThis. The proof is in the actions.No need to try to defend them based on unsupportable benefit of the doubt possibilities. If their motivations were actually for the users benefit, then the user would have these options and be benefitting. reply teaearlgraycold 23 hours agorootparentprevYes. I could see a better system being made. Perhaps alerting you that the screen was marked as stolen and refusing to have it operate. Hell, for screens in particular you could display a “please return to ” message and nothing else. reply circuit10 22 hours agorootparentI think this is being downvoted as it initially reads as a snarky way to say \"the way it works now is fine\", but reading closer I think they are saying it should only happen when the screen is marked as stolen which seems reasonable reply peyton 21 hours agorootparentprevCan’t Apple grab money by raising prices? Why do they need to do this? reply Gibbon1 20 hours agorootparentprevThe solution for a phone is put a vin on the display and other valuable parts and upload those to the carrier&#x2F;manufacturer.Imagine how happy someone would be if they had their display replaced with a stolen one and next thing they know their phone is both bricked and of no value even for parts. reply notanormalnerd 23 hours agoparentprevI don&#x27;t know why iFixit doesn&#x27;t even touch on that point.I live in Barcelona and phones are being pickpocketed every day here. Not being able to wipe or unlock or else is a mayor deterrent for the pickpockets, because noone will take the phone off of them, so it&#x27;s not worth it. Phones are still being stolen but imagine if they could sell to a global market of repair shops.You couldn&#x27;t go to any tourist location without having your phone stolen if it wasn&#x27;t bolted to your person.I get the iFixit point as well but if I have a 1500€ phone, I don&#x27;t want to think about it being stolen, when I am on vacation, because someone needs some parts (oh the human trafficing&#x2F;organ harvesting similarity...)Apple should offer a better repair program and offer the ability to \"unlock and relock\" it in a apple store with proper proof of ownership. Or anything else in that direction. reply flanked-evergl 23 hours agorootparent> I get the iFixit point as well but if I have a 1500€ phone, I don&#x27;t want to think about it being stolen, when I am on vacation, because someone needs some parts (oh the human trafficing&#x2F;organ harvesting similarity...)Do you think thieves are that descending? I know someone whos iPhone 14 was stolen in London. If this helped protect against theft, then why did they steal the phone anyway? reply zaroth 22 hours agorootparentOf course thieves are discerning. They are running a profitable criminal enterprise. They are in it for big money and are extremely sophisticated and not going to risk stealing worthless junk.An example of one theft is not evidence that the policy doesn’t reduce theft, or that the purpose of the policy isn’t to reduce theft. reply flanked-evergl 22 hours agorootparent> Of course thieves are discerning. They are running a profitable criminal enterprise.I can promise you the person who stole this iPhone doesn&#x27;t run a profitable criminal enterprise. But I am also not disputing that someone along the theft value chain, someone will likely be discerning. However, your claim seems to conflate a criminal enterprise and the theft value chain with an individual thief.Also, I find the notion that it is very risky to steal something in London hard to believe, but if you have some data to back that up I would be happy to change my mind. reply nemothekid 22 hours agorootparentprev>If this helped protect against theft, then why did they steal the phone anyway?They are plenty of stories on Reddit and TikTok where the stolen phone ends up in China, and then the owner is phished into disabling iCloud so that the phone could be wiped. If not the sold is phone for parts. To me the very fact that you need an entire phishing ring to make stealing iPhones profitable means that there is some cost that deters thieves from targeting iPhones.Barring phishing, the next best thing is to scrap it for parts. I can see Apple&#x27;s reasoning here - if most of your growth is going to come from poorer nations it makes sense you don&#x27;t your customer base worry about carrying a year&#x27;s salary in their pocket.I&#x27;m also unconvinced it&#x27;s a \"money grab\" on Apple&#x27;s part. Locking down repairs will not come anywhere close to replacing the lost revenue from the consumer&#x27;s slowing upgrade cycle.[1] https:&#x2F;&#x2F;www.reddit.com&#x2F;r&#x2F;india&#x2F;comments&#x2F;10zg2o7&#x2F;how_a_typica...[2] https:&#x2F;&#x2F;www.reddit.com&#x2F;r&#x2F;iphone&#x2F;comments&#x2F;yoataa&#x2F;ever_since_m...[3] https:&#x2F;&#x2F;www.reddit.com&#x2F;r&#x2F;iphone&#x2F;comments&#x2F;rwlznf&#x2F;warning_stol...[4] https:&#x2F;&#x2F;www.reddit.com&#x2F;r&#x2F;iphone&#x2F;comments&#x2F;rwlznf&#x2F;warning_stol... reply circuit10 22 hours agorootparentYou can tell the theft thing is an excuse from Apple because they don&#x27;t do things like allowing you to unlock parts you own, or even buy genuine new parts that definitely stolen without silly restrictions like needing to put in a serial number first and then contact Apple to pair it (this is probably done to make it almost useless for repair shops because they want to push their even more restrictive \"independent\" repair program) reply nemothekid 21 hours agorootparent>tell the theft thing is an excuse from Apple because they don&#x27;t do things like allowing you to unlock parts you ownThis would only make sense if Apple had an existing system for customers to unlock their own parts and then disabled it. The system you are talking about doesn&#x27;t exist, and the idea that they built X but didn&#x27;t include X+1 because of \"greed reasons\" isn&#x27;t entirely credibly.While you could argue that maybe someone brought the idea up and it was shot down by some devilish exec, it&#x27;s equally likely to me that(1) no one at apple thought of the idea(2) since the product would be customer facing it is some apple design hell along with the iPad calculator(3) no one cared enough to spend the political points to push for the product(4) the problem just isn&#x27;t prevalent enough to justify the cost.There are plenty of reasons why Apple could be building this to reduce theft while also not building some other auxiliary system. reply circuit10 21 hours agorootparentSomething Louis Rossmann who advocates for right to repair, says (I&#x27;m paraphrasing of course) is that it&#x27;s not necessarily that they explicitly go out of their way to say \"let&#x27;s make repair harder\", but when there are no incentives to improve the situation it won&#x27;t be worked on at all and that has the same effect, so it&#x27;s still important to push them to do it reply flanked-evergl 22 hours agorootparentprevHow do the thieves get the contact details of the person whose phone they stole to fish them? And why did they steal the iPhone I mentioned without having the contact details of the person? reply jabroni_salad 21 hours agorootparentIn the last link, the user explains in the comments that when they marked the device as stolen, they could choose some text to display on the screen and they chose to include a phone number that they had access to.Plenty of people hope for a good samaritan interaction and will do something like that.also idk if they ever changed it, but a long time ago I found a phone that was locked and no identifying information shown. I asked siri to call &#x27;my&#x27; mother and she arranged a pickup. reply flanked-evergl 21 hours agorootparentIf thieves have to rely on people seeing thieves as good Samaritans and trusting thieves with their contact details after they were robbed by them, we definitely have entered a realm of absurdity. But while this hypothetical realm is devoid of all reason and logic, theft still remains. reply shagie 20 hours agorootparentprevhttps:&#x2F;&#x2F;krebsonsecurity.com&#x2F;2023&#x2F;05&#x2F;re-victimization-from-po...Granted, that&#x27;s dealing with stolen iPhones getting sold and an entirely set of other problems. You&#x27;ll note that 26.8% of them were either unlocked, easily guessable, or in one instance had the credentials there (compare shoulder surfing before stealing the phone).> Of phones they won at auction (at an average of $18 per phone), the researchers found 49 had no PIN or passcode; they were able to guess an additional 11 of the PINs by using the top-40 most popular PIN or swipe patterns. reply codetrotter 21 hours agorootparentprev> How do the thieves get the contact details of the person whose phone they stole to fish them?If the phone is set to display notifications when locked, you can see the usernames of friends of theirs in notifications on the screen.I found a locked iPhone on the ferry one time and saw Snapchat notifications from their friends on the lockscreen. I sent a message request to one of the users on the notifications, and told them that I found the phone on the boat and that the owner of the phone should contact the ferry company to retrieve the phone as I would hand it over to the crew of the ferry.Similarly, if your goal was to be a thief instead of being helpful you might keep an eye on the Instagram notifications of the phone, and then cross-reference friends of those people to figure out who owns the phone. reply nemothekid 21 hours agorootparentprev1. The Emergency card (the first user was contacted when the user&#x27;s father&#x27;s iphone was stolen).2. You can read the phone number off the sim card3. Many people upon losing their phone will set their phone to lost mode and include a number. reply flanked-evergl 21 hours agorootparent> 1. The Emergency card (the first user was contacted when the user&#x27;s father&#x27;s iphone was stolen).Yet the father was the one being fished.> 2. You can read the phone number off the sim cardHow?> 3. Many people upon losing their phone will set their phone to lost mode and include a number.Losing it is not the same as having it stolen, though. reply nemothekid 20 hours agorootparent>Yet the father was the one being fished.Not sure I understand. The father&#x27;s phone was stolen, and the son was contacted, and the son logged into the account.>How?Anyone can pop out the sim card and plug it into any dumbphone, navigate to settings and read the phone number. I assume there&#x27;s probably a USB device to dump data on a sim card.>Losing it is not the same as having it stolen, though.Your phone is lost until you attain the information that it was stolen. I fail to find it now, but there was a tiktok of a woman who lost their iphone at festival and it turned up in china where she also was unsuccessfully phished. reply codetrotter 20 hours agorootparentprev> Losing it is not the same as having it stolen, though.Your phone could disappear and you would assume it fell out of your pocket or that you left it somewhere, when in fact someone could have stolen it from you while you were not paying attention.And besides, most people probably don’t expect that a thief would respond and trick them into unlocking the phone for them. Instead the expectation might be that a thief would not respond, and that if someone responded they are a good samaritan trying to help you. replyshortcake27 22 hours agorootparentprevI’m highly dubious of anyone claiming this reduces crime.Things being easy to steal and sell aren’t the _cause_ of crime, they’re a symptom. If someone has felt the need to resort to a life of crime for whatever reason, how is lowering their “salary” (so to speak) going to reduce crime? Surely they now need to steal more phones to make up the difference? I guess you could argue they might commit a different crime instead? reply musictubes 21 hours agorootparenthttps:&#x2F;&#x2F;www.imore.com&#x2F;iphone-theft-drops-40-san-francisco-25...Activation lock made a huge difference. The next step to talking profits out of stolen iPhones is to make harvesting parts difficult.I absolutely give Apple the benefit of the doubt when it comes to I this. Back in the bad old days iPhone theft was incredibly common and that has come down a lot over the years. reply flanked-evergl 21 hours agorootparent> The next step to talking profits out of stolen iPhones is to make harvesting parts difficult.I would 100% buy this if you showed me data that indicates that part harvesting is behind most of the remaining theft of iPhones, which it very well may be, but if we have the data we would not have to guess. reply stouset 13 hours agorootparentFFS, what else do you think people are stealing them for? To make abstract art? Kleptomania? To stop the 5G towers from giving them COVID?People steal stuff because they can use it or because they can turn around and sell it. If they can’t do either, they eventually stop stealing those things. reply baq 20 hours agorootparentprevI’m buying this right now, this is how a lot of car theft works also - parts are a good source of cash. reply mschuster91 19 hours agorootparentEspecially catalytic converters. Can be stolen from an unprotected (i.e. no massive baseplate) car in below 30 seconds, and nets you about 1000$ a piece from junkyards willing to ignore the sawzall marks.[1] https:&#x2F;&#x2F;www.pbs.org&#x2F;newshour&#x2F;nation&#x2F;watch-catalytic-converte... reply phi0 21 hours agorootparentprevFew people would choose a life of crime as a hobby, or if it wasn&#x27;t paying much better than an average entry-level office job, so it&#x27;s not like someone decides to resort to crime and then later considers the financial aspects. Most get into it because of the quick money.To use a hyperbolic example, if the median profit for stealing a phone would suddenly drop to $10, where their only value are the easily extractable raw materials, a 20-fold increase in theft would be less likely then a rapid drop in theft.Currently there are avenues to remove iCloud lock, where licensed repair shops or Apple employees remove them for some extra cash [1], so the value of stolen iPhones is greater than the raw materials, making it attractive. But with higher regulation, that could change.[1]: https:&#x2F;&#x2F;www.vice.com&#x2F;en&#x2F;article&#x2F;jgmygb&#x2F;checkm8-info-remove-i... reply riversflow 22 hours agorootparentprevIt’s not that it reduces crime overall, it’s that it reduces a specific, very inconvenient crime to be the victim of. Having your phone stolen, especially on vacation, is significantly worse than many other sorts of theft. reply flanked-evergl 21 hours agorootparentAnd yet people still have their iPhone 14s stolen while on holiday. reply stouset 13 hours agorootparentAnd people still die of infection despite the existence of antibiotics. Crazy, right?Please tell me you understand that reducing the value of an iPhone on the black market will reduce incidence of theft even if it doesn’t eliminate it entirely. reply ChadNauseam 20 hours agorootparentprevMaybe people resort to a life of crime because it makes them money and they like money, not because they have no other option. People readily accept that rich people do morally wrong things (like exploit their employees etc) for more money. So why assume that the only reason people in general would do morally wrong things is because they need to to feed their family? reply autoexec 18 hours agorootparent> So why assume that the only reason people in general would do morally wrong things is because they need to to feed their family?I don&#x27;t think anyone has ever made that claim, but people do tend to do what&#x27;s easy&#x2F;convenient and it&#x27;s a lot easier and more convenient to put in 8 hours in a safe climate-controlled office where you get medical benefits and a salary you can depend on than it is to go out every night mugging people or trying to pick pockets, then trying to figure out how to sell your stolen goods, all without getting killed, robbed yourself, or caught by police.Most people need to make money somehow and nobody is picking the most dangerous, risky, effort intensive means to make that money when they have other options readily available.The harder it is for someone to make money doing anything other than commit crimes the more likely they will be to commit crime and for some people (those with few resources, and addictions and&#x2F;or past criminal records for example) it can be very very hard to get and maintain legitimate employment. reply stouset 13 hours agorootparentprevBecause most pickpockets and phone thieves probably aren’t making the equivalent of an office salary. reply midoridensha 13 hours agorootparentMost of the people in that line of work wouldn&#x27;t be able to get and hold an office job. reply stouset 12 hours agorootparentThat’s kind of the point. reply mcphage 20 hours agorootparentprev> Surely they now need to steal more phones to make up the difference?Not necessarily. If they can&#x27;t make enough money from stealing iPhones, they may quit and go into management. reply _ph_ 21 hours agorootparentprevIts like poisenous plants. Being poisenous doesn&#x27;t prevent the single plant from getting eaten. But it makes it very unlikely, that a lot plants of that species get eaten. So while a single iPhone might get stolen, overall there are less if many thieves targetting iPhones. They don&#x27;t bring money, but increase the risk of landing in prison. reply flanked-evergl 21 hours agorootparent> So while a single iPhone might get stolen, overall there are less if many thieves targetting iPhones.Do we have data to show this?> They don&#x27;t bring money, but increase the risk of landing in prison.I also don&#x27;t think the risk of going to prison for theft in London is that high. Sure, stealing an iPhone increases it, but an increasing an insignificant risk by a factor of 10 could still leave it being insignificant. reply musictubes 21 hours agorootparenthttps:&#x2F;&#x2F;www.imore.com&#x2F;iphone-theft-drops-40-san-francisco-25... reply flanked-evergl 21 hours agorootparentThis article predates the technology being discussed, so it can&#x27;t be data that shows that this technology is preventing crime. reply elliottkember 21 hours agorootparentprevThere is probably a \"trailing indicator\" effect at play here. I believe people don&#x27;t sell the phone immediately, but try and find a buyer later. It will take a few thefts of un-sellable iPhones before the thief realises that the risk is not worth the reward. These changes don&#x27;t trickle down immediately. reply flanked-evergl 21 hours agorootparent> It will take a few thefts of un-sellable iPhones before the thief realises that the risk is not worth the reward.But his only bears out if thieves can easily discern an iPhone 14 from other phones, which I&#x27;m not sure is that easy in the context they operate. And it also requires it to be risky to seal in London, and I think if that were the case then theft would be less prevalent there. And I think if the people in London cared about having their iPhones stolen, they would take political action to that effect.But sure, it all sounds very plausible, though I would still like to see data to back it up. It may be, but it also may not be. reply dTal 20 hours agorootparentprev>I live in Barcelona and phones are being pickpocketed every day here. Not being able to wipe or unlock or else is a mayor deterrent for the pickpocketsDoesn&#x27;t sound like it. reply ilyt 22 hours agorootparentprevIf they are being stolen it doesn&#x27;t work.If the whole part won&#x27;t be used it will be stripped to components and resold to the same repair shops anyway. Yeah the profit margins will be smaller per phone but they will just steal more.Apple doesn&#x27;t want phones fixed because Apple wants to sell more phones, plain and simple. There is no other incentive. reply RajT88 21 hours agorootparent> Yeah the profit margins will be smaller per phone but they will just steal more.The risk of getting caught scales with that increased volume. The extra friction of parting out a phone for less money compared to selling the whole phone beggars belief that \"stealing more\" is the most common response.\"iPhone theft getting less profitable raises the rate of theft\" just doesn&#x27;t make sense. reply stouset 13 hours agorootparentprev> but they will just steal moreYes, classically, thieves just scale up their operations tenfold when their profit per theft goes down. This is why iPhone theft has skyrocketed in the past decade, to the point where the general public is anxious to ever wield such a device in public for fear of being immediately snatched.Oh, wait, that’s not what happened at all. reply MostlyStable 22 hours agoparentprevWhat is the relative rates of occurrence of phone theft vs. phones breaking in a way that requires repair? I&#x27;m going to go out on a limb and say that far far far more people have a phone that needs to be repaired than have a phone that gets stolen.So making repair worse to make theft \"better\" seems like a bad tradeoff to me. And that&#x27;s even presuming that this stated goal actually works. I would expect that a very non-trivial amount of phone theft happens without knowing the model. Assuming that&#x27;s the case, having 1 manufacturer make selling parts non-viable doesn&#x27;t really help that much.So A) even if it was 100% effective that seems like a bad tradeoff to me and B) I&#x27;m skeptical of how much difference this actually makes in theft rates.I know that I personally, if choosing between a phone that I knew for a fact would 100% never be stolen, but also couldn&#x27;t be repaired, vs. a phone that could easily be repaired but was subject to theft, I would choose the repairable phone every time. It&#x27;s an anecdote, but I&#x27;ve never had a phone stolen and literally every single phone I&#x27;ve ever had has needed repair at one point or another. reply hbn 22 hours agorootparent> I&#x27;m going to go out on a limb and say that far far far more people have a phone that needs to be repaired than have a phone that gets stolen.Perhaps because it&#x27;s known to many thieves that iPhones are a useless thing to steal due to Apple&#x27;s tight account-tied software locks? reply MostlyStable 22 hours agorootparentGo back five years and I&#x27;d guess this is still true. I do not think Apple&#x27;s policy has changed this. reply ribosometronome 12 hours agorootparenthttps:&#x2F;&#x2F;www.zdnet.com&#x2F;article&#x2F;fcc-report-apple-iphone-activa...This article predates some of the parts behavior but shows that similar efforts have deterred theft. reply hbn 22 hours agorootparentprevI&#x27;d bet it&#x27;s even more true now. reply crazygringo 22 hours agorootparentprev> I&#x27;m going to go out on a limb and say that far far far more people have a phone that needs to be repaired than have a phone that gets stolen.I&#x27;d say the polar opposite, as long as you&#x27;re excluding screen and battery replacement which aren&#x27;t what&#x27;s being talked about here.I don&#x27;t know anybody who&#x27;s ever had a non-screen&#x2F;battery component replaced. On the other hand, I know tons of times someone&#x27;s phone has been stolen. reply flaburgan 21 hours agorootparent>as long as you&#x27;re excluding screen and battery replacement which aren&#x27;t what&#x27;s being talked about here.You did not read the iFixit post then, it is what is being talked about here. The post has nice screenshots of the phone complaining that the battery is not \"a genuine Apple battery\". reply stouset 13 hours agorootparentprevLuckily, for like $4&#x2F;mo (and $29 per incident), Apple will replace the screen for you. You can break your screen every year and it will cost you less than the $100 that screen would cost on the open market. reply TylerE 22 hours agorootparentprevPersonal anecdote: times I’ve had a phone need a repair besides a screen: zeroTimes I’ve been mugged and had my phone taken: one reply circuit10 22 hours agorootparentWhy do screens not count? reply weaksauce 22 hours agorootparentprev> What is the relative rates of occurrence of phone theft vs. phones breaking in a way that requires repair?i would think having a permanently useless phone would stop the first rate from ever increasing much. you are walking around with a grand in your pocket everywhere you go so to lower the risk of violent robbery is good. reply acover 22 hours agorootparentprevBeing robbed at gunpoint is much worse than having to buy a new phone. reply MostlyStable 22 hours agorootparentPeople were robbed at gunpoint before cell phones and will continue to be robbed at gunpoint even if every single manufacturer adopts this policy. This is not some magic bullet that stops crime. There is another commenter in this very thread describing being mugged at gunpoint and his mugger forcing him to go through the Apple unpairing process in order to make the phone completely flippable as a whole device.Not to mention that it is not infinitely worse. There is some relative amount of needing repair to being robbed at which it becomes a bad tradeoff. Where that point is is probably different for different people. But that line exists somewhere for everyone. reply midoridensha 13 hours agorootparent>People were robbed at gunpoint before cell phones and will continue to be robbed at gunpoint even if every single manufacturer adopts this policy.Only in crappy countries where lots of people own guns. reply ejstronge 22 hours agoparentprev> (If anyone at Apple is reading this: ffs, allow the legitimate owner of a device to \"unpair\" all components in their phone in iCloud so that legitimate second-hand shops can strip a broken device at least for its parts)I was robbed at gunpoint (but not in a &#x27;problematic&#x27; part of town) and the thief outlined all the steps he needed me to take to remove my phone from Find My and from iCloud. I think a lot of these mitigation measures could make sense but there&#x27;s no perfect solution. reply shortcake27 22 hours agorootparentI’m sorry that happened to you.IMHO this is a huge problem. A thief just wants to steal your phone. To ensure the value of the device, it’s now common to force you to provide your passcode. This gives access to all your data, can be used to reset your Apple ID password, lock you out of your account, and erase and lock all your other devices. This problem never existed before, and it’s significantly worse! Like, way way way worse. It’s so bad I wonder if I should really be signed into my Apple ID on my phone at all. Because I don’t give the slightest care of someone stealing my phone. But I do care if they have access to all my data, erase and lock me out of all my other devices. I really care about that. And this problem only exists because Apple locks down the device and all parts. reply lazycouchpotato 19 hours agorootparentThey don&#x27;t need to force anyone to do anything. They can just shoulder surf you entering your PIN.https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=QUYODQB_2wQ reply jwells89 20 hours agorootparentprev> And this problem only exists because Apple locks down the device and all parts.It would likely be a problem even without the lockdowns and official parts flowing freely, because even if Apple is selling the parts with zero margin, black market and gray market parts supplied from stolen devices are still going to be cheaper, which means there will still be a demand for them from unscrupulous repair shops that use cheap parts of questionable origin to gain an upper leg on shops playing by the rules. There will also always be individuals doing DIY repairs who won’t care where parts come from so long as they’re cheap. reply PrimeMcFly 21 hours agorootparentprevIt sounds like the solution for your problem is not to use an Apple phone. Use an Android rom that gives you significantly more power and granularity. reply TheHappyOddish 16 hours agorootparentI&#x27;m unsure how your device being Android means you won&#x27;t hand over the keys when prompted at gunpoint. Can you explain your line of thought? reply PrimeMcFly 16 hours agorootparentIt&#x27;s much easier on Android to setup all kinds of alternatives. You could setup a &#x27;dummy&#x27; key that if entered would alert the police, for example. Failing that, you can setup different keys for different services with different levels of access, as well as have third party equivalents to &#x27;Find my iPhone&#x27;.Not being in the walled garden provides a lot of freedom and flexibility to setup contingencies. reply TheHappyOddish 2 hours agorootparentMaybe... But ignoring the fact this lgel of customisation is unlikely for any normal and most tech people, you&#x27;d likely require root to override the core system and password auth I&#x27;d imagine. I believe this ends up invalidating what is core functionality for most people - banking, wildvine, etc.If we&#x27;re moving into the realm of the ultra paranoid, high security over convenience focused user - sure. In fact I dare say such a user might prefer a Linux phone with physical keyboard, or no phone at all. But if we&#x27;re talking average iPhone or Android users here, I can&#x27;t imagine the scenario would change much at gunpoint. reply PrimeMcFly 1 hour agorootparent> But ignoring the fact this lgel of customisation is unlikely for any normal and most tech people,This is HN though...surely there are a lot of people who care about security and have experience using custom roms.> you&#x27;d likely require root to override the core system and password auth I&#x27;d imagineHonestly, even a simple solution would be putting on something like Prey, which is free and easy to use, and using a third party applocker tool. Those two things don&#x27;t need a custom rom or any other customization. replyLorenPechtel 22 hours agorootparentprevApple should have a duress system. You have say 48 hours to contact Apple and tell them the change was made under duress--and you do so with the *old* credentials, not the new ones. All changes to your account revert and the phone locks itself to your account once it sees the network. reply withinboredom 20 hours agorootparentPeople would instantly use this for insurance fraud. reply LorenPechtel 49 minutes agorootparentLegitimate buyer would file a police report for fraud. reply Joeri 22 hours agorootparentprevUnpairing a device from icloud should probably require a second factor or a mandatory safety wait period. Same for every potentially really harmful action. reply Spivak 22 hours agorootparentprevI mean the perfect solution (from a theft perspective) would just be only allowing Apple to remove the phone from your iCloud account at a physical location when presented with ID. Annoying for people selling their phone, sure. But that plus the hardware paring would make it functionally worthless to anyone but you. reply Dylan16807 21 hours agorootparentYou can add a delay. reply danaris 22 hours agorootparentprevThere&#x27;s a significant difference in risk in robbing someone at gunpoint vs just slipping their phone out of their pocket. It&#x27;s awful that that happened to you, but it&#x27;s important to realize that just because a specific security measure could not prevent what happened to you, that doesn&#x27;t mean it&#x27;s wholly ineffectual or not worth having. reply ejstronge 9 hours agorootparent> , but it&#x27;s important to realize that just because a specific security measure could not prevent what happened to you, that doesn&#x27;t mean it&#x27;s wholly ineffectual or not worth having.I think you are missing the point of the comment. The GP says that Apple should allow parts to be unpaired to allow re-use of components; this example suggests that there is utility to keeping the existing security system. reply jchw 23 hours agoparentprevI do not accept this as a reasonable answer. I&#x27;ve lived in not even very good areas, with very lax physical security (often not locking my car) and have never had this issue, ever. Nobody has ever stolen my phone. Not in downtown Detroit, not in not-downtown-Detroit, not in SF, not in Chicago. If crime really is this bad, it&#x27;s not an Apple or Samsung problem. It&#x27;s a societal problem that extremely badly needs to be addressed seriously and not just worked around with convenient anti-consumer garbage.Sell me the phone that can be stolen please. reply vineyardmike 23 hours agorootparent“No one has stolen my phone so I don’t believe that actions to stop phone theft is necessary”I’ve heard plenty of stories of people getting their phones stolen in public. Especially when I was in school, we’d hear of plots like kids coming up to students and asking to call their parents because they’re scared and alone only to run over to a car waiting around the corner and drive away.You can argue it’s unnecessary, but it certainly chilled the market for stolen phones. They’re pretty obvious targets and they’re very personal. Not worrying about it as much is a big win, but some people have other priorities and that’s ok too. reply jchw 22 hours agorootparentI didn&#x27;t make that argument at all, so it&#x27;s pretty annoying that you&#x27;ve cornered me into arguing it. I really don&#x27;t respect when people do this.I never, ever argued against \"actions to stop it\". I argued against this action. I never argued that my anecdata that my phone has never been stolen means that all action against theft are unnecessary, but I believe it is good cause for me to want a phone that doesn&#x27;t have excuse-driven anti-consumer anti-repair garbage built into it to \"prevent theft\" that has never been my problem.I am, however, arguing that this is not how we should be dealing with problems like this. It, in fact, should be illegal. reply vineyardmike 17 hours agorootparentNo one is forcing you to argue that position. You said “my phone has never been stolen… Apple shouldn’t solve this… sell me a steal-able phone”.My counter is that a primary reason you never had a stolen phone is the anti-theft solutions implemented by private companies.Personally, I think removing the incentives to theft is a great way to reduce it, and this is particularly effective. Sure repair-ability would be nice, but I repair it so infrequently and it’s sufficiently cheap that I don’t mind. As an example, expecting the police to successfully hunt and remedy every petty theft of all the phones that would be stolen instead would be a lot less resource efficient for society. We have enough crime as is that the police have better things to do than fail to find a lost phone. reply jchw 2 hours agorootparent> No one is forcing you to argue that position. You said “my phone has never been stolen… Apple shouldn’t solve this… sell me a steal-able phone”.Once again, no I didn&#x27;t. Hell, the snippet \"Apple shouldn’t solve this\" doesn&#x27;t even appear in my text.At this point, I&#x27;m beginning to wonder if maybe you&#x27;re being deliberate in doing this, because I don&#x27;t understand the need to paraphrase me. If I didn&#x27;t think all of those details and qualifiers were necessary, I would&#x27;ve just left them out myself. And while I understand that my writing is not succinct, it&#x27;s not like I wrote a novel, so why not just quote what I actually said? Otherwise, it feels like I&#x27;m just having to explain how my position differs from the one you&#x27;re arguing against.> My counter is that a primary reason you never had a stolen phone is the anti-theft solutions implemented by private companies.I will quote myself:> I never, ever argued against \"actions to stop it\". I argued against this action.Note that while I have owned a couple iPhones, the last iPhone I owned only had one \"paired part\" that I am aware of. I am not arguing against iCloud locking as a concept. I am not arguing against all anti-theft measures.I can see why someone may miss this from the first comment I made, since well, I didn&#x27;t explicitly say that part. However, at this point, I don&#x27;t understand what else I can say.> Personally, I think removing the incentives to theft is a great way to reduce it, and this is particularly effective. Sure repair-ability would be nice, but I repair it so infrequently and it’s sufficiently cheap that I don’t mind. As an example, expecting the police to successfully hunt and remedy every petty theft of all the phones that would be stolen instead would be a lot less resource efficient for society. We have enough crime as is that the police have better things to do than fail to find a lost phone.I am not suggesting police go and try to find every lost phone. I am suggesting that we have a serious societal problem and we&#x27;re not really doing anything about the problem itself. The fact that police can&#x27;t handle every single case suggests to me that it&#x27;s completely out of control. It&#x27;d worse if this was the same for e.g. shoplifting, or breaking and entering... which it is, in some areas. But we don&#x27;t accept that as \"normal\", and we shouldn&#x27;t accept this as normal either.I realize you were explicit about the fact that police action was just an example of something that one could do, but I find it interesting that it is the example you would go to. While a lot could be said about Japan, with far less prisoners and prosecution, they have generally a lot less issue with crimes like these in particular based on both anecdotal evidence and published statistics, yet it feels like it is a foregone conclusion that there&#x27;s nothing that can be done about all of this petty theft. I call shenanigans.Furthermore, while this may sound reasonable in an era of disposable phones and new shiny toys every year, I think it&#x27;s a horrid long-term outlook. To me paired parts isn&#x27;t worth it: it&#x27;s a threat to sustainability and civil rights, as I think Apple&#x27;s practices tend to be widely emulated regardless of whether or not the outcome for consumers is ultimately good. It&#x27;s already getting harder and harder to buy computers, new or used, that do what you tell them to. Paired parts is just another dark step in the wrong direction.In the future, Apple product launches will be measured in the volume increase they make to landfills. reply MenhirMike 23 hours agorootparentprevI have never been murdered, and none of my friends have been either, so I don&#x27;t believe that actions to stop murder are necessary.(We _do_ need laws to allow customers that can prove their purchase to unlock their parts though.) reply ArtemZ 22 hours agorootparentLet&#x27;s lock you up in your house, it will ensure that you are safe reply Spivak 22 hours agorootparentThat&#x27;s not what this is and you know it. The equivalent would imagining a fictional world where we could say just raise the dead or Borderland&#x27;s style instantly print you a new body at the phone-booth down the street. In that world there&#x27;s no point to murdering you, they get no benefit it&#x27;s only an inconvenience to the person being murdered.In that world you need very little actual protection against murder because there&#x27;s no incentive to do it. That&#x27;s the current state of iPhones, you don&#x27;t need to lock them up, use those chest pickpocket proof bags, or strap them to your wrist because no one wants to steal them. reply hedora 23 hours agorootparentprevPhone theft was pretty common in the US 10 years ago. This article (based on a population of 20 million people) says about 1 million phones were stolen in 2013:https:&#x2F;&#x2F;www.digitaltrends.com&#x2F;mobile&#x2F;fcc-smartphone-theft-re...It&#x27;s much less common now, since all the major brands brick themselves when stolen (though it&#x27;s starting to be common to either shoulder surf the pin, or to grab an unlocked phone out of people&#x27;s hands, then rapidly reset 2FA and email passwords).I agree with the GP comment that it should be possible to make phones theft-proof and also repairable though. reply kstrauser 23 hours agorootparentprevCounter anecdote: My coworker in SF had his phone stolen by someone who grabbed it from his hand and leapt through a closing BART door, so that my friend had to watch the thief walk off as the train pulled away from the platform.Most people haven&#x27;t had their phone stolen. That doesn&#x27;t mean phones aren&#x27;t stolen. reply TylerE 22 hours agorootparentReplace SF with DC and that’s what happened to me circa 2013 or so. reply kemayo 22 hours agorootparentI had someone grab mine from my hand in a coffee shop and sprint out the door last year.(I got it back via chasing after them and a minor physical altercation. This was definitely an unwise choice on my part, because the thief was then in the news a few days later for murder.) reply circuit10 22 hours agorootparentprevI&#x27;d guess that most people have broken their phone though reply RajT88 21 hours agorootparentprev> It&#x27;s a societal problem that extremely badly needs to be addressed seriously and not just worked around with convenient anti-consumer garbage.The societal problem is that people got used to paying over a grand for a thing that fits in their pocket.> Nobody has ever stolen my phone.Put yourself in the position of the thieves. You would want an easy target; one that if push came to shove that they wouldn&#x27;t be able to injure or detain you. How big are you, physically?My wife had her iPhone stolen in the north side of Chicago maybe 15 years ago - in a good area no less. Some big guy followed her to her apartment asking to make a phonecall for some made up emergency. She&#x27;s 5&#x27;2\" and was like 90 pounds at the time. She did the math on how it was likely to go and just handed it over, as it was late at night and she was alone. Predictably, he ran off. (As an aside, I think it&#x27;s hard for men to understand exactly how vulnerable women feel in general - as ne&#x27;erdowells see them as easy targets compared to even men of similar size)The same thief may have thought twice if it was me - because I&#x27;m a man rather closer to 6&#x27; and 200lbs. He may win that fight and get the phone, but not without me getting some licks in - an unattractive proposition, since a broken orbital or finger cuts into those profits. reply sneeze-slayer 22 hours agorootparentprevIt&#x27;s a big world. Haven&#x27;t you seen videos of phones getting stolen out of peoples hands from thieves on scooters in places like Brazil? Or the millions of tourists in Spain and Italy whose cell phones would become major targets. reply cstejerean 23 hours agorootparentprevIn other parts of the world where the cost of a new iPhone is much more expensive relative to local earning power it does happen. I&#x27;ve had coworkers who had their phones stolen in Spain and Brazil for example. reply thatfrenchguy 23 hours agorootparentprevPickpocketing in the Us is highly uncommon compared to say, Paris. reply shagie 23 hours agorootparentThursday, August 17, 2023 - Undercover officers arrest group accused of stealing cellphones at Lollapalooza, Chicago police say https:&#x2F;&#x2F;abc7chicago.com&#x2F;lollapalooza-stolen-cell-phones-2023...There are phone theft groups at every festival of sufficient size.A year prior https:&#x2F;&#x2F;www.fox32chicago.com&#x2F;news&#x2F;4-charged-with-stealing-ph...> Four people from out of state face charges for allegedly stealing phones during Lollapalooza in Chicago over the weekend.> ...> When police asked Bardales about the phones, he allegedly told them he bought them at the music festival for $50 each and planned to sell them for parts, CWB Chicago reports, citing prosecutors.https:&#x2F;&#x2F;cbsaustin.com&#x2F;news&#x2F;local&#x2F;stolen-cell-phones-from-acl...> AUSTIN, Texas — Austin Police are investigating an international crime ring that targeted Austin City Limits Music Festival. Authorities believe a half-dozen people worked together to steal approximately 1,000 cell phones from festival attendees. Police say five people have been arrested but more suspects are involved. reply nanidin 21 hours agorootparentprevI had my phone grabbed out of my hand at a concert in the US. But yeah pick pocketing is much more common in Europe, had people try it twice there. Once in Milan and once in Barcelona.The big target here now is music festivals where teams will rove looking for vulnerable&#x2F;inattentive people and get into their pockets or bags and bolt. reply doctorpangloss 20 hours agorootparentprev> not in SFSomeone tip toed carefully into my house while I was sleeping in it, in the Mission near Valencia St., and cat-burgled* my wife&#x27;s phone off her nightstand, at around 3am. We have some pictures of his legs (?) that he took in some bathroom later that evening. Finally it winds up pinging its location at a Mission phone repair shop, which of course the guy there is saying he has no idea what we&#x27;re talking about and maybe the phone is \"upstairs.\"We didn&#x27;t report, because last time I reported someone breaking into my garage, the two SFPD officers were talking about people interested in my \"printer.\" Nothing was stolen, because it woke me up and I yelled at them from above.I don&#x27;t really know what the economy is around stolen phones. It surely exists. I don&#x27;t know why you would want to die on this hill of ignorance. It&#x27;s a quintessentially social media thing to do! You have no dog in this race.*Our cat helpfully ran out the door for fun. reply webworker 22 hours agorootparentprevThere have been recent stories about how thieves were looking at people entering their passcodes into their phones, snatching the phone when it was unlocked and using the pin to disable iCloud&#x2F;Find My. reply danaris 22 hours agorootparent...You can&#x27;t use the device PIN to disable iCloud. You have to put in the iCloud password. And you really do have to put it in; even if the iPhone is unlocked, security features like that always require the password. reply jbombadil 22 hours agorootparentI think they were doing something like going to settings -> Apple ID try to change the password incorrectly many times (or something like that). That would basically lock you out of your own iCloud account (at least for a while) so you couldn’t lock or track it via find my.I recommend using the “Screen Time” feature on iPhones to protect against this. You can basically set a _different_ 4 digit pin to access some of the settings of the iPhone, including the Apple ID one. (The setting becomes grayed out and inaccessible until you disable screen time). reply vineyardmike 17 hours agorootparentprevSo it’s possible, and there’s countless articles explaining how.But at face level… your phone is so personal that it’s pretty easy to mess with basically all of your life.When you have someone’s unlocked phone, you can usually get access to their emails, and use that to reset most accounts. Finances, social, emails, often work etc.Here’s the WSJ explanation if you want:https:&#x2F;&#x2F;www.wsj.com&#x2F;articles&#x2F;apple-iphone-security-theft-pas... reply kccqzy 22 hours agorootparentprevhttps:&#x2F;&#x2F;www.wsj.com&#x2F;articles&#x2F;apple-iphone-security-theft-pas... reply MilaM 22 hours agorootparentprevThis is exactly how it works. If a thief knows the passcode (be it numerical or more complex), he can change your iCloud Account password without knowing the current password and disable Find My without.Apple acknowledges this and seem to be ok with it [1].[https:&#x2F;&#x2F;www.macrumors.com&#x2F;2023&#x2F;04&#x2F;19&#x2F;apple-responds-to-iphon...] reply m463 22 hours agorootparentprevYour sample size is pretty small. That said, the self-selecting population of people whose phones were parted out in the bug report have the exact opposite experience. reply tantalor 23 hours agoparentprevSpeculation.If that were true, Apple would only require the replacement part to be verified, but they also require the device receiving the part to be verified. That&#x27;s the \"pair\" in \"pairing\". reply Kirby64 23 hours agorootparentNot speculation at all. I can tell you for certain this is what they&#x27;re trying to combat.The \"require the device receiving the part to be verified\" is just a consequence of how it&#x27;s currently implemented. There are ways to implement this without the need to do per-device pairing, but doing so in a secure way is quite difficult. I suspect they&#x27;ll eventually remove the requirement to pair devices using system configurator, if only because this removes the need to have chat assistance with pairing. That&#x27;s costing them money to have a call center, and they want to avoid it I suspect. reply drtz 22 hours agorootparent> I can tell you for certain this is what they&#x27;re trying to combat.> There are ways to implement this without the need to do per-device pairing, but doing so in a secure way is quite difficult.Is this based on first-hand knowledge? I&#x27;m skeptical on both fronts because I neither see any evidence this is what&#x27;s being combatted, nor do I see the technical difficulty of being able to self-authorize your phone&#x27;s parts to be used in repairs.Sure it takes some engineering effort to get there, but I wouldn&#x27;t expect it to be particularly challenging from a technical point of view. The phone is already linked to a user account, and the phone&#x27;s parts are apparently already linked to the phone that&#x27;s currently using them. reply Kirby64 22 hours agorootparentSo, the technical challenge is related to managing the following things (all simultaneously):* Apple wants to make sure components in an authentic phone are not capable of being stolen and resold (this is a problem today, even with the pairing, although it is less valuable due to pairing)* Apple wants to make sure that if you change components, that the replacement component is authentic* Apple wants to make sure that if you change components, that the replacement component is not stolenI can&#x27;t comment on specific implementations, but allowing users to just re-pair devices in the current state would not allow the above 3 goals to be met. By restricting who has access to the pairing tools, they can achieve those 3 with the downside being obviously it leads to a crappy user experience for repair. reply Dylan16807 21 hours agorootparentIf you send a permanent unlock code for parts being re-used in a repair, then that fully accomplishes 2 and 3 and almost entirely accomplishes 1. With no need to know anything about the host device.And brand new parts could lock themselves to the first device they&#x27;re put into.It wouldn&#x27;t be ideal for repair but it would be much better. reply Kirby64 21 hours agorootparentMy point is that Apple currently does not appear to have tight control over the serial numbering or whatever on the external components (display, etc) in a truly secure way. If you let anyone re-pair devices, then that opens the floodgates to 3rd party vendors being able to make devices that appear as &#x27;authentic&#x27; components, which does not accomplish #2.As it stands today, you can already use any random components, you&#x27;ll just get a pop-up telling you it can&#x27;t be authenticated. replyKirby64 22 hours agoparentprevThe problem, as I see it, with having a method to &#x27;pair&#x27; and &#x27;unpair&#x27; components right now... is that I don&#x27;t think Apple is really doing anything too special to &#x27;pair&#x27; devices. My guess is they&#x27;re just using a serial number of the device (display, camera, whatever) and making sure that serial matches the what is programmed into the mainboard. If you allow any random person to change the paired serial number for say, the display, then you no longer have any guarantee that the new display is actually an authentic device. Maybe someone aftermarket makes a bunch of devices with 0xDEADBEEF as the serial number so you just always pair that.If Apple knows that serial number 0x12345678 was sold to you, and that it is the component you want to install, then they have a guarantee that this part is authentic and should work properly.So, Apple needs a way for you to pair a serial number, but also that the serial number you&#x27;re pairing is authentic. I&#x27;m not sure they have the second piece today. reply jimkoen 23 hours agoparentprevThe rationale of putting engineering time into developing sophisticated anti-repair schemes instead of selling spare parts directly under some threat of a part black market is completely bonkers to me.Sorry, I&#x27;m not buying it, this is Apple protecting their exclusive repair turf and nothing else. reply peyton 21 hours agorootparentThe execs are actually focused on a giant, sophisticated fraud ring in China doing several bn $. The repairs lose money. reply TheKarateKid 4 minutes agorootparentInteresting. Where can I read more about this? reply JohnFen 2 hours agoparentprevEven if that&#x27;s their motivation, doing that is still a terrible practice at least in the way they&#x27;re doing it. It&#x27;s certainly one of the big reasons why I won&#x27;t buy these devices. reply justinclift 3 hours agoparentprevIf Apple has a record of the individual serial numbers on parts contained in each phone, that seems like a wonderful way of backtracking stolen phone parts to the thieves.\"Oh you&#x27;re trying to replace your phone screen with one from a stolen item. Please provide your contact details so we can pass that on to the police.\"Doesn&#x27;t seem like a bad idea at all. ;) reply hedora 23 hours agoparentprevIt seems pretty easy to implement the \"unpair\" functionality you ask for.If \"Find My iPhone\" (the anti-theft subsystem) is disabled, then the serial numbers for all the parts could be sent to an Apple database, and&#x2F;or the components could have a \"ready to be re-used\" bit set that caused them to factory reset themselves if the phone they&#x27;re plugged into changes (so any state on the re-used thing wouldn&#x27;t somehow leak into the other phone).I&#x27;m not sure how to define \"phone they&#x27;re plugged into\" though. Whatever board has the NAND + security coprocessor on it, maybe? reply mrweasel 22 hours agorootparentThat does sound like a pretty good solution, if it can be done for a broken phone. The major issue I see is that refurbish companies are already complaining about \"bricked\" MacBooks, because nobody actually cared enough to ensure that those laptops where reset before being sold. I don&#x27;t see the same industry being capable of guiding users through resetting permissions for spare parts.A better solutions is to take the direction FairPhone has chosen and make the things that break user-serviceable and offer the parts for sale on Apples own website. If the issue is that phones are being stolen and sold for parts, just flood the market with cheap parts. The new iPhones are absolutely massive, so I&#x27;m not buying that you can&#x27;t make them a bit thicker and allow a user to take them apart. How many people use their phone without a cover anyway?If Apple is serious about being more environmentally friendly, then make a user serviceable phone. Not replacing your phone because fixing it is either impossible or impossibly expensive is going to have a much bigger impact than buying carbon credits for people who charge their watch. My best guess is that Apple is so obsessed with just-in-time production and so hostile to the idea of stocking parts, that they can even see the potential benefits. reply hedora 22 hours agorootparentAccording to iFixit, they&#x27;ve solved the \"this is physically hard to repair\" problem. Also, Apple aggressively recycles components, and is making bold claims about carbon neutrality of manufacturing this release cycle. On top of that, the cost of repairs is dramatically lower for the new models (again, according to the iFixit article).So, I think those issues are mostly fixed, or at least best-in-class.The problem of \"I bought your laptop, but you didn&#x27;t disable anti-theft\" is questionable. Here&#x27;s how to sell a macbook so that it can be used by the purchaser and so that your data is wiped:https:&#x2F;&#x2F;support.apple.com&#x2F;en-us&#x2F;HT212749It takes 4 clicks (and probably a password entry), and it&#x27;s easy for the purchaser to confirm it was done before forking over cash (assuming they turn on the machine to confirm it can POST). If the seller forgets to do this, they can initiate the wipe + unlock remotely via iCloud.Apple parts are pretty cheap already, so that&#x27;s not the issue either.As far as I can tell, all the complaints boil down to people wanting to fix phones without Apple&#x27;s authorization. Its a valid complaint, but it only really impacts independent repair shops at this point.I&#x27;d also like to see better support for third-party replacement parts (like with PC&#x27;s), but I don&#x27;t think there is any realistic market demand for that, and it is not what people are asking for. reply pulisse 22 hours agorootparentprev> It seems pretty easy to implement the \"unpair\" functionality you ask for.Implementing any functionality over two billion devices is non-trivial, especially when it requires aspects of transactional behavior (as this would). reply eddythompson80 23 hours agoparentprevThis was an interesting listen on the iPhone theft industry https:&#x2F;&#x2F;youtu.be&#x2F;3Ws3YptLmLQ?si=KuVt1DBvxiBXa3Vl reply amartya916 23 hours agoparentprevI would be surprised if Apple does what you suggested, but I do think it&#x27;s an excellent suggestion, thank you. It just won&#x27;t be a priority unless some sort of legislation forces their hand. reply gchamonlive 22 hours agoparentprevYou can try to push that as a marketing strategy, but I would say the share of the market that looks for smartphones specifically because they are less of a target for theft is minuscule, the reason being because nobody shop for phones thinking about getting robbed. They shop mainly guided by ecosystem (android Vs ios) brand perception (how good their aftersales support is), budget and cost-effectiveness. In this sense, device lockdown is clearly a anti-consumer practice, not pro-consumer. reply Pet_Ant 22 hours agorootparentYou can do a search and you&#x27;ll find many articles and comments about how back in the day people were warned not to wear the white iPod ear buds as not to be a target for thefts.> West Midlands police have issued a stark warning to iPod users: ditch the white headphones or pay the price.https:&#x2F;&#x2F;www.theregister.com&#x2F;2004&#x2F;03&#x2F;30&#x2F;ipod_this_seasons_mus...Apple could be very well front-running this and trying to prevent it before it becomes a problem. This is clearly a possibility. reply gchamonlive 2 hours agorootparentEarpods and phone parts in this context are fundamentally different because earpods are a peripheral whereas cameras, batteries and such are components for an embedded system. I can&#x27;t see how they apply to the discussion. reply spinningarrow 22 hours agorootparentprev> nobody shop for phones thinking about getting robbedI don’t know the safety situation of where you live but I literally had this conversation with friends two weeks ago where we loved the idea that the iPhone is a better purchase because it’s less prone to theft (because of the reasons GP mentioned). reply gchamonlive 22 hours agorootparentEnough for non-anecdotal people to shift their entire ecosystem to a diffent brand? People in general won&#x27;t just switch from Android to iPhone because \"filthy criminals are after my brand new phone for parts\". If apple wasn&#x27;t going to lock their parts and Samsung would, people would still keep buying iPhones. reply layer8 22 hours agorootparentprevIf iPhones didn’t have that protection, but Android phones did, would you and your friends switch to Android and love the idea that Android phones are the better purchase? reply crazygringo 22 hours agoparentprev> (If anyone at Apple is reading this: ffs, allow the legitimate owner of a device to \"unpair\" all components in their phone in iCloud so that legitimate second-hand shops can strip a broken device at least for its parts)If you&#x27;ve lived in certain places, you&#x27;d know this isn&#x27;t a solution at all.Thieves will start holding people at gunpoint forcing you to unpair it all while they wait. reply mmastrac 22 hours agorootparentAre thieves currently forcing people at gunpoint to iCloud-unpair&#x2F;unlock their devices right now? reply crazygringo 22 hours agorootparentOh absolutely. Happened to a friend of mine, and there&#x27;s another commenter here who had it happen to them.Crime is real. Obviously its frequency is going to depend on where you live&#x2F;travel. reply circuit10 22 hours agorootparentSo if they can already do that, they&#x27;ll just sell the whole unlocked phone and not worry about parts? Unless it&#x27;s broken to the point of being unsellable, I guess reply crazygringo 21 hours agorootparentThat&#x27;s a good point. You&#x27;re right -- since you can already force someone to unpair, being able to unlock the individual parts isn&#x27;t going to make a difference. Thanks. replycameldrv 22 hours agoparentprevThey can already \"unpair\" the phone by removing it from iCloud, as you say. The phone could simply check whether the serial number on a part is already associated with an iCloud registered device and if not, allow it to pair. Fairly obviously, they don&#x27;t do this because it would reduce the demand for their parts, which is a multibillion dollar business. reply tzs 21 hours agoparentprev> iCloud locks or Samsung&#x27;s KNOX lock entered the field because the manufacturers were pretty pissed that customers using their devices in public became a target for \"enterprising\" robbers who&#x27;d factory-wipe the devices and flip them to a pawn shop or second-hand store in a matter of half an hour.It wasn&#x27;t just the manufacturers who were pretty pissed at that. Minnesota passed a law requiring smartphones to have a kill switch that would allow the owner to remotely render the phone inoperable [1]. Then California did, with the California law also making kill switch support be turned on by default. Those laws have been in effect since mid 2015 and were quickly followed by a huge drop in smartphone thefts.[1] https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Smartphone_kill_switch reply accrual 22 hours agoparentprevPhone theft is also a big deal at music festivals. Last year an entire backpack full of phones was recovered. People who lose them either never hear from them again, or see them in Find My as a brief blip somewhere hundreds or thousands of miles away. Sometimes they&#x27;re shucked on site and all you find is your empty phone case on the ground.It&#x27;s already awful to lose your phone, but even more so when you&#x27;re at a multi-day event you paid hundreds to attend.https:&#x2F;&#x2F;www.wftv.com&#x2F;news&#x2F;local&#x2F;lost-your-cell-edc-backpack-... reply apexalpha 21 hours agoparentprev>That cut down on a lot of the robbery bullshit, but then criminals simply found new buyer classes - they&#x27;d simply part stolen devices out and resell everything but the iCloud&#x2F;Knox&#x2F;whatever locked mainboard. Displays, cameras, speakers, batteries, flex cables, cases, everything.This would be way less valueble to do if the companies just sold the parts are reasonable prices.The extreme ways fixers have to go to to source parts for legitimate repairs concerns is insane.The entire reason there even is a whole ecosystem of people picking apart phones in Shenzen is because it&#x27;s so darn difficult to source it any other way! reply raxxorraxor 8 hours agoparentprev> it&#x27;s a public safety issue.Absolutely not. The cases for repairs vastly outnumber the cases for theft to a degree it isn&#x27;t comparable in the slightest. This should be the basis for any honest discussion.Not putting that in perspective cannot lead to sensible considerations. reply mvdtnz 21 hours agoparentprevDoesn&#x27;t this \"logic\" apply to literally every product ever? That&#x27;s not a world I want to live in. reply exabrial 22 hours agoparentprevI&#x27;m sorry, but I think this is Bullshit. Litreally _exactly_ how many people were robbed and please point us to a source? reply mschuster91 19 hours agorootparentIn 2022, there was a phone theft every six minutes in London [1], for example.[1] https:&#x2F;&#x2F;www.bbc.com&#x2F;news&#x2F;uk-england-london-65105199 reply Macha 23 hours agoparentprevI have to think that if replacement parts were more widely available, it would reduce the market for parted out stolen phones. reply dmitrygr 23 hours agorootparentCar parts are available. Cars still get jacked and chopped up. reply Kretinsky 21 hours agoparentprevWhat is the resell value of the parts for a whole phone? It can&#x27;t be more than 1&#x2F;10th, even less when factoring the time spent dismounting the phone.Another solution would be to have a database of parts, and a repair using a stolen part wouldn&#x27;t work. reply gandalfian 20 hours agoparentprevOr they could just sell official replacement screens for $50. The price of an entire budget smartphone. Thefts of iPhones would plummet. The phones would be worth more to consumers. A small drop in sales perhaps due to more repairs. reply r0m4n0 22 hours agoparentprevWell I think you hit the nail on the head. They aren’t working on the most important aspect of the puzzle (your last point), not because they aren’t reading HN comments, but because that would have a very negative effect on their bottom line. reply stjohnswarts 3 hours agoparentprevIt&#x27;s really stupid. How many people get their devices not stolen vs stolen. I would bet 99% is conservative? sounds like an excuse to just make it harder to repair and make the product useless much earlier. reply callalex 16 hours agoparentprevCan you link me to any public communication from Apple making this claim? reply brundolf 22 hours agoparentprevWhat if they locked the parts individually, but not until an iCloud lock happened? reply Eduard 23 hours agoparentprev> When people are afraid to use your products because it paints a phone-sized target on them, they won&#x27;t buy your product.\"iPhone&#x27;s have become too mainstream to steal, I rather get a crappy phone nobody wants“ – nobody said. reply fortran77 21 hours agoparentprevI agree, and I think there&#x27;s a compromise. Allow the pairing of harvested parts, but also allow users to report their unit as \"stolen\" so the parts can&#x27;t be paired.However, this is probably fraught with problems that Apple doesn&#x27;t want to deal with. Users will want to know if someone tried to pair their parts and they&#x27;ll be hit with a large number of subpoenas daily from people who want to know which repair shops had their stolen phones. reply pierat 22 hours agoparentprevHow much were you paid to shill Apple for this top post?If this were a real issue, then I as the device owner should be able to toggle this on and off as needed. But that hits deeper, since this is a device that&#x27;s being sold as \"purchase\" when I don&#x27;t have real control - Apple does.At best, this is a rental being mis-advertised as a purchase. reply mschuster91 19 hours agorootparent> How much were you paid to shill Apple for this top post?Unfortunately, I don&#x27;t get paid by anyone except my employer lol. 16k HN and 160k Reddit karma points in about a decade isn&#x27;t exactly influencer-worthy.> If this were a real issue, then I as the device owner should be able to toggle this on and off as needed.Phone theft is a real issue, even in places not suffering from open street markets with people fencing stolen shit, like London [1].[1] https:&#x2F;&#x2F;www.bbc.com&#x2F;news&#x2F;uk-england-london-65105199 reply jameshart 21 hours agorootparentprevJust put a big sticker on the back of your phone case that says ‘no parts left in phone overnight’ reply natymad 22 hours agoprevI completely fail to understand the anti-theft argument, help me out here.So the theory is that, once thieves will see you&#x27;re carrying an Iphone, they won&#x27;t bother taking it. But why? You&#x27;re already being mugged, everything that&#x27;s even remotely valuable will be taken. Why would they let their victims go, just because their valuables are more difficult to flip? \"Give me all your valuables - oh wait, that&#x27;s an iphone, nvm my bad you&#x27;re free to go\" is that the idea here?And on being less of a target for getting robbed in the first place - you&#x27;re carrying an expensive af iphone, chances are you can afford to carry a lot of other expensive valuables too. If you&#x27;re worried about getting robbed, start with not carrying a device that&#x27;s more expensive than a fridge.My condolences to everyone who actually had to survive through a robbery. But I doubt it could&#x27;ve been avoided just because your Iphone was currently difficult to sell. People can get robbed regardless of their perceived wealth, it&#x27;s a happen-stance crime. reply reubenmorais 22 hours agoparent> oh wait, that&#x27;s an iphone, nvm my bad you&#x27;re free to go\" is that the idea here?In Brazil I&#x27;ve heard stories of muggers holding up e.g. a bus and not bothering to get iPhones. This was a while ago, before the trade routes to get stolen phones across the world for disassembly and parts resale were as developed as they are today. reply wyldberry 21 hours agoparentprevThere are more robberies than a mugging. Pick pockets are a real scourge. If you have a reliable way to turn stolen goods into currency, you are incentivized to take that item. Jewelry -> pawn shops for example.The anti-theft measure here makes it not profitable, or much harder to profit, from taking a phone because you can&#x27;t resell it or strip the valuable parts. I had a friend get pick pocketed in spain, and the next day the phone was several countries away.Just because people can get mugged regardless of perceived wealth doesn&#x27;t mean that we don&#x27;t try to reduce the risk. reply pzo 21 hours agorootparentDo you think pickpocketer take your phone out of your pocket, check it then say \"oh shit this is iphone 15 with DRM\" and put it back to your pocket ?Pickpocketers will fish anything that is in your pocket and in crowded public transport immediately pass to other partner in crime.Same with thefts on scooter that rob woman with bags - they don&#x27;t check if it&#x27;s prada bag or if has any valuables inside.Same with thefts that can even break your car window to get some bag that they see is inside but in the end has only groceries. reply austhrow743 18 hours agorootparentAny impact isn&#x27;t going to happen on the individual pickpocket level. It would be by making the industry unprofitable. reply wyldberry 18 hours agorootparentprevMoving stolen electronics for phone components has been a consistent revenue stream for a long time and there&#x27;s a lot of organization that goes into it. No one is pretending this solves the problem, rather that it creates a negative incentive for targeting phones specifically.The world of scamming and petty theft is vast. I&#x27;ve known some real slick thieves, and they are of the opinion that lifting a phone is just not worth it these days. However, this deterrent is obviously going to be effective on a spectrum. If someone is trying to sell you stolen goods, are you going to buy a new iphone from them on the off chance you can get parts out of it? reply mholm 18 hours agorootparentprevIt&#x27;s about EV per phone. The more security, the lower the EV. Eventually, it isn&#x27;t even worth it for informed, career pickpockets to take it. There&#x27;ll always be pickpockets, but phones are much less of a target because of measures like these. reply aendruk 21 hours agoparentprevI was under the impression that a typical theft is more of a grab-and-run. At least all the thefts I’ve witnessed have been that way. So picture not a back alley mugging from the movies but tourists in a crowded area or commuters on public transit, already holding their phones out in front of them. reply musictubes 21 hours agoparentprevhttps:&#x2F;&#x2F;www.imore.com&#x2F;iphone-theft-drops-40-san-francisco-25... reply tzs 20 hours agoparentprevIt sounds like you are visualizing the typical robbery as a thief stops you in some location secluded enough that they have time to get you to remove all your valuables and hand them over.It actually is typically a grab and run in a crowd.We know making smartphones harder to flip deters this because in 2015 when it become mandatory for smartphones to require a remote kill switch the owner could use to kill a stolen phone the theft rate for such phones dropped significantly. reply eviks 5 hours agoparentprev> You&#x27;re already being mugged, everything that&#x27;s even remotely valuable will be taken. WhyThat&#x27;s your mistake right there, the challenge to steal isn&#x27;t identical for different things, and also depends on the things.For examle, there are plenty of cases where the thiefs snatch the phone from your hand (even while you&#x27;re still talking), so making resale value low helps here> you&#x27;re carrying an expensive af iphone, chances are you can affordThat&#x27;s the second easy mistake - the \"chances\" can be low, so the fact that you hypotheticall can afford doesn&#x27;t help the actual criminal much (if you&#x27;re jogging with a phone chances that you carry much valuable besides the phone is very low). reply Casteil 19 hours agoparentprev> You&#x27;re already being muggedA lot of phone thefts are quick pickpocketing&#x2F;snatch-and-run, or snatch-off-a table, not some Hollywood \"stick-em-up, give me everything you have\" type of situation.People target expensive phones, period.. but having fewer ways to turn those stolen phones into enough money to justify the risk means people will be less inclined to directly target them (especially when other brands&#x27; expensive flagship phones may be easier).Similar concept in general physical security&#x2F;theft deterrent, really.. put up a bigger challenge than others in your vicinity and you&#x27;re less likely to be targeted. reply winrid 21 hours agoparentprevNo, people just walk by and take it off your table. What are you gonna do? reply inemesitaffia 4 hours agoparentprevThieves used to return blackberries reply whatwhaaaaat 22 hours agoparentprevIt makes no sense at all and is clearly just an excuse.Criminals do not want your iPhone. It is an instant tracking device that even if they sold it in an hour would still lead the cops to where they sold it.I was robbed at gunpoint in the late 2000s and even then the criminals did not want the phone. They did want everything else tho.It’s anti consumer bullshit and absolutely nothing else. reply s3p 23 hours agoprevReminds me of a Louis Rossman video [0] where he shares his frustration with Apple&#x27;s independent repair shop program. He says that to get access to genuine Apple parts (and the ability to pair them to devices), Apple requires that his shop not be able to do certain things like fix a broken angle detection sensor.It&#x27;s utter BS, and the lip service companies are paying to right-to-repair bills in state legislatures honestly confuses me given their directly antithetical behavior. Hope strong repair bills get passed and they are fined to hell and back :) reply diabeetusman 23 hours agoparentSorry, which video? Your [0] doesn&#x27;t go anywhere :) reply ryanluker 19 hours agorootparentMight have been this video? Sometimes Rossman&#x27;s videos ain&#x27;t easy to search for, hah. https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=MHhGBvfGams reply s3p 21 hours agorootparentprevAh so sorry! Got deleted: https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=Vn_v-VxXNoI reply paulmd 20 hours agoparentprev> He says that to get access to genuine Apple parts (and the ability to pair them to devices), Apple requires that his shop not be able to do certain things like fix a broken angle detection sensor.is this a loaded framing for the proposition that \"you can&#x27;t perform component-level repairs if you&#x27;re presenting yourself as an apple authorized service center\"? because the point of apple authorized service centers is you get the apple authorized service, not someone drilling and reflowing your board to replace components.it&#x27;s great that rossman can do this, but he&#x27;s N=1, and apple can&#x27;t make their entire network out of rossmans. I think it&#x27;s pretty obvious why they have to enforce minimum standards and standardized repair protocols in an authorized service program.this is the \"rossman doesn&#x27;t like any repair solution in which rossman doesn&#x27;t get paid\" thing in action. component-level repair isn&#x27;t the only kind of repair, it&#x27;s just the one that results in rossman getting paid the most. reply rasz 20 hours agorootparentBut you do know that apple authorized service center service is often worse because instead of reflowing components they go for stuffing your device with shoe rubber to push chips with defective connections tighter to the pcb? https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=XaGHcBZjmWA reply paulmd 20 hours agorootparent> But you do know that apple authorized service center service is often worseit seems incredibly dishonest to frame that as being something that happens often. can you provide statistics about how many apple authorized repairs come back with shoe rubber inside?like if I go to a best buy for apple authorized service, you&#x27;re telling me they have a big box of shoe rubber in the back they&#x27;re using for repairs? Doubt. reply rasz 19 hours agorootparentBest Buy doenst repair anything, they sent it to Apple Houston, Texas repair center (CSAT sweatshop), those are the guys putting rubber because its faster than soldering. replyadesanmi 22 hours agoprevWhen people stop robbing phones for them to end up in Shenzen and stripped for parts, this will stop. This is a deterrent to make stealing iPhones less convenient and I’m all for it.People already have to try to phish people’s iCloud details after stealing their devices to resell, costing them time and money and making it more annoying to try and steal.I do think people who want to repair their phone should have access to a version without this stuff and deal with the consequences themselves.For everyone else, including myself, please continue to make it annoying for thieves to target iPhones. reply LightHugger 22 hours agoparentThis is complete nonsense, if apple cared about phones being stolen for parts, they would just start selling the damn parts so people could repair their phones. Right now the reason parts are so valulable is because there&#x27;s no other way to get them! Apple&#x27;s unrepairability policy FUELS theft not the other way around. reply audunw 22 hours agorootparent> they would just start selling the damn parts so people could repair their phones.They do. Have you been living under a rock?https:&#x2F;&#x2F;www.selfservicerepair.com&#x2F;en-US&#x2F;homeAnd there’s no way for Apples policy to fuel theft when the stolen phone and parts from that phone can’t be used for anything. You might have had a point a few years ago when they neither sold parts nor did the pairing stuff.I think they’re moving in the right direction. But like many here have pointed out they should allow you to unpair parts in a phone you own.There are comments here from people who have been robbed at gunpoint and forced to unlock their phone and disconnect it from iCloud. I think Apple could solve it by making it a 24 hour process that can be reversed. But that just illustrates that it’s actually a hard problem to solve properly.I don’t care at all about 3rd party parts. I’ve been burned too many times. It’s not environmentally friendly if you buy a brand new shitty part that you end up discarding along with the phone a few months later because the part was bad. Just force Apple to sell good quality genuine parts at a low price. The sum of the parts should equal the price of the phone. Yes that will be unprofitable for Apple, but governments can force it through regulation in the name of sustainabilityIf they stop selling parts then they should be forced to disable parts pairing for that model… then relying on 3rd party market as a fallback is an fallback reply kmeisthax 21 hours agorootparentThe problem with SSR is that they give you the shit AASPs&#x2F;Genius Bar gets, which is finished assemblies designed to be swapped out by low-skill workers for minimum wage. This dramatically increases the price of the repair because you&#x27;re now swapping out a large number of components instead of just one.Louis Rossmann used to beat Apple on the price of repair specifically by desoldering individual chips and swapping them, which is far cheaper per repair. But it&#x27;s more expensive to train workers to do this kind of repair, and Apple doesn&#x27;t like paying for skilled labor in America, so they just make the consumer eat the cost of whole assemblies.At the same time Apple has also insisted on locking down their supply chains so that you cannot buy factory original components at all. They don&#x27;t want you to be able to buy the chips that go into their phones, because they&#x27;re worried you might pull a Strange Parts and cobble together a whole iPhone out of them.It&#x27;s oddly convenient how all of these things - the need to stop iPhone chop-shopping, the need to stop product cloning, and the need to have cheap labor costs - all just so happen to result in a really shitty repair experience that makes buying a new one always the best option. reply riscy 21 hours agorootparent> they give you the shit AASPs&#x2F;Genius Bar gets, which is finished assemblies designed to be swapped out by low-skill workers for minimum wage> all just so happen to result in a really shitty repair experienceYou&#x27;re saying getting genuine parts and instructions directly from Apple that are simple for a low-skill person to install is a shitty repair experience?All this uproar is about is needing to contact Apple for them to link the part to my phone. How is that a shitty experience? reply lesuorac 20 hours agorootparent> You&#x27;re saying getting genuine parts and instructions directly from Apple that are simple for a low-skill person to install is a shitty repair experience?He&#x27;s saying when the screen doesn&#x27;t work because a 1&#x2F;5 penny transistor broke he&#x27;d rather pay $15 in labor for the tech to replace it than >$15 for a new screen assembly.And related, people are saying they&#x27;d rather be able to pay the $15 in labor when Apple End-of-Lifes the device and no longer produces that assembly. reply adesanmi 22 hours agorootparentprevI assumed the reason Apple’s phones are stolen for parts are that, unlike a lot of Android counterparts that can be reset, Find My is so bulletproof that (without phishing) iPhones are essentially expensive paperweights in terms of reselling whole. So people started getting creative and selling the parts, so Apple started to serialise those too.Either way, I don’t think Apple set out to make the iPhone unrepairable just because. There just weren’t letting repairability getting in the way of the design and aesthetic they want, and I think it’s fine for them to have this opinion. They couldn’t achieve both so they biased towards design, and look to slowly iterate towards repairability compromising as little on design as possible.Sounds like a sensible strategy. reply jestarray 13 hours agorootparentThen \"just because\" is profit. You can&#x27;t excuse inventing a new screw and passing it off as \"security.\" reply adesanmi 12 hours agorootparentI think inventing a new screw would be a design thing? In a perfect world a screw that is easily replaced and allows them the design they want would be used.However if that doesn’t exist, as an engineer, I am aware of the concept of tradeoffs and ever since that company has existed they’ve always biased towards design.They would rather 1mm of thinness or an angle a specific shape and if that means that this normally standard screw won’t fit, then “oh well”. Like I said above, it’s an opinion. My FairPhone has the opposite opinion where everything in the design was made around repairability.Both of them have different, diverse, opinions on what design is. Neither are right or wrong, per se. That’s why the market is so awesome, go to the stall that fits your need, don’t try to make all the stalls make the same thing.The “security” feature is the serialisation of said screws, no? Even if they were standard and freely available, the serialisation would still cause this issue. Unless it’s somehow not possible to serialise a standard screw but I don’t know how that would differ from the process of doing it to custom screws. reply triceratops 22 hours agorootparentprevThe counterargument to that is cars are regularly stripped for parts even when spares are easily available to buy. reply deely3 22 hours agorootparentDoes this counterargument mean that DRM is actually good, and in the future all cars should be unfixable without approval of producer? reply kmeisthax 21 hours agorootparentElon Musk seems to think this way, and every other car manufacturer has let this cancer metastasize in otherwise perfectly fine EV designs because dealers won&#x27;t sell a car without something to keep people coming back every six months for maintenance. reply eddythompson80 22 hours agorootparentprevPhones are stripped for parts that can be sold, which almost never include the main board or the TouchID or FaceID modules. reply kemayo 22 hours agorootparentprev> This is complete nonsense, if apple cared about phones being stolen for parts, they would just start selling the damn parts so people could repair their phones.They did that. https:&#x2F;&#x2F;selfservicerepair.com&#x2F;en-US&#x2F;home reply specialist 22 hours agorootparentprevBoth you and u&#x2F;agentultra are correct. Manufacturers must make parts available and reasonably priced. reply lm28469 18 hours agoparentprevnone of my phones have been stolwnall of them had parts replaced, some of them multiple timesI&#x27;d much rather pay for theft insurance than have to pay 10x for parts replacement reply M4v3R 22 hours agoparentprevI’ve heard that take many times, but is there any actual data to back this claim? I mean think about it - your average thief is not the kind of person that will know what part setialization is or how to tell iPhone models apart to know which ones to steal. They steal your purse, bag or just anything and sight and only then deal with the loot, discarding what’s useless. I would be very surprised if serializing the battery or screen is putting any significant dent in the number of stolen iPhones worldwide.Apple has already created a pretty good deterrent to prevent iPhone theft - the Find My iPhone system. It’s better because it’s actually useful to the user and works even if you turn the phone off. The way I see it there’s absolutely no need to serialize the parts as an additional measure to prevent theft (given also what I said in the first paragraph) reply quenix 22 hours agorootparent> I mean think about it - your average thief is not the kind of person that will know what part setialization isIt doesn&#x27;t matter. The market will dictate behaviour. As soon as the value of iPhone parts drops at the end of the chain (Shenzhen et. al) this will propagate all the way up to the street criminals.Perhaps they will not discriminate by iPhone submodel (will not matter after a while of the serialisation policy), but they will (and do) discriminate by brand.Much smartphone theft includes robbers grabbing the phone out of unsuspecting victims&#x27; hands,",
    "originSummary": [
      "This summary revolves around the challenges of phone repairs, specifically regarding touch/face ID sensors and back glass replacement.",
      "The post criticizes Apple's practices, which are not conducive to repair, sparking discussions about the potential benefits of the \"Right to Repair\" bill.",
      "The author also raises environmental concerns tied to wastefulness and implies that a boycott of Apple's products could be an effective leverage for change."
    ],
    "commentSummary": [
      "The debate centers on Apple's policy of limiting \"part harvesting\" to curb theft and the resale of stolen components, which has led to iPhones getting a lower repairability rating.",
      "Participants in the discussion question the underlying motive for this policy, with some suggesting it's more profit-driven than consumer-focused, and its effectiveness in reducing theft. Alternative security measures are also proposed.",
      "The discussion also navigates the issues of the availability of authentic parts for repairs and the struggle to strike a balance between innovative design and repairability."
    ],
    "points": 512,
    "commentCount": 340,
    "retryCount": 0,
    "time": 1695144846
  },
  {
    "id": 37584399,
    "title": "Car allergic to vanilla ice cream (2000)",
    "originLink": "http://www.cs.cmu.edu/~wkw/humour/carproblems.txt",
    "originBody": "For those of us who understand that the obvious is not always the solution, and that the facts, no matter how implausible, are still the facts ... A complaint was received by the Pontiac Division of General Motors: \"This is the second time I have written you, and I don't blame you for not answering me, because I kind of sounded crazy, but it is a fact that we have a tradition in our family of ice cream for dessert after dinner each night. But the kind of ice cream varies so, every night, after we've eaten, the whole family votes on which kind of ice cream we should have and I drive down to the store to get it. It's also a fact that I recently purchased a new Pontiac and since then my trips to the store have created a problem. You see, every time I buy vanilla ice cream, when I start back from the store my car won't start. If I get any other kind of ice cream, the car starts just fine. I want you to know I'm serious about this question, no matter how silly it sounds: 'What is there about a Pontiac that makes it not start when I get vanilla ice cream, and easy to start whenever I get any other kind?'\" The Pontiac President was understandably skeptical about the letter, but sent an engineer to check it out anyway. The latter was surprised to be greeted by a successful, obviously well-educated man in a fine neighborhood. He had arranged to meet the man just after dinner time, so the two hopped into the car and drove to the ice cream store. It was vanilla ice cream that night and, sure enough, after they came back to the car, it wouldn't start. The engineer returned for three more nights. The first night, the man got chocolate. The car started. The second night, he got strawberry. The car started. The third night he ordered vanilla. The car failed to start. Now the engineer, being a logical man, refused to believe that this man's car was allergic to vanilla ice cream. He arranged, therefore, to continue his visits for as long as it took to solve the problem. And toward this end he began to take notes: he jotted down all sorts of data, time of day, type of gas used, time to drive back and forth, etc. In a short time, he had a clue: the man took less time to buy vanilla than any other flavor. Why? The answer was in the layout of the store. Vanilla, being the most popular flavor, was in a separate case at the front of the store for quick pickup. All the other flavors were kept in the back of the store at a different counter where it took considerably longer to find the flavor and get checked out. Now the question for the engineer was why the car wouldn't start when it took less time. Once time became the problem -- not the vanilla ice cream -- the engineer quickly came up with the answer: vapor lock. It was happening every night, but the extra time taken to get the other flavors allowed the engine to cool down sufficiently to start. When the man got vanilla, the engine was still too hot for the vapor lock to dissipate. Moral of the story: even insane-looking problems are sometimes real.",
    "commentLink": "https://news.ycombinator.com/item?id=37584399",
    "commentBody": "Car allergic to vanilla ice cream (2000)Hacker NewspastloginCar allergic to vanilla ice cream (2000) (cmu.edu) 525 points by isomorph 3 hours ago| hidepastfavorite176 comments jjbinx007 1 hour agoWe had a similar problem at work in the late 90s. A member of staff reported that their mouse would stop working between certain hours of the day. It had apparently been okay in the morning, stopped working over lunchtime then started again later.On some days it would work perfectly all day long, but on others it would stop working between those hours.The biggest clue was it would always work perfectly on overcast days, but on sunny days this strange behaviour would manifest again.Turns out the problem was related to the mouse being a cheap mouse. The case had very thin plastic.The mouse was a ball mouse, and it worked by shining an LED into a sensor on each of the X and Y axes. On sunny days the sun would completely overpower the sensor due to the plastic case being very thin and on overcast days it would not. On sunny days the mouse would only work when the sun had moved around the sky to cast a shadow over where the mouse was being used.Perfectly logical but baffling at first. reply 98codes 38 minutes agoparentI had a similar problem, but in the opposite direction. My cable internet speeds at home were fairly good (for the US, anyway), but sometimes would absolutely bottom out. Not dead, just glacially slow. After troubleshooting everything under the sun, I came to realize that the problems would happen not when it was raining per se, but when it was heavily foggy or misting. Normal to heavy rain was fine.Called the cable company, tech came out. Everything inside was fine, but the cable from the main line to the house had a tiny cut in one spot, not enough to really affect the connection, but enough for ambient moisture to work its way in and foul the connection. reply lostlogin 9 minutes agorootparentMoisture in copper cables is what slowed me down too. It was in a section up the road from me. However now that fibre is installed, it’s glorious and works in the rain. reply MalcolmDwyer 59 minutes agoparentprevWe have a countertop ice maker that gets jammed up and overloaded with ice on sunny days for a similar reason.There&#x27;s an infrared beam and sensor. When the ice tray is full, it is supposed to block the beam, and then the machine stops making ice.On a sunny day, there&#x27;s enough bright light in our kitchen to fool the sensor so it keeps making ice.We have a random magazine that we put on top of it to make it work correctly. reply m463 51 minutes agorootparentI have a garage door that will not close on sunny days.Same sort of problem. The obstruction sensor at the bottom of the door is confused by the strong sunlight and the door stops closing part way and re-opens.I&#x27;ve tried a toilet-paper tube around the sensor but that isn&#x27;t always successful. I really wish there was a laser sensor to replace it with. reply 13of40 14 minutes agorootparentprevI had a VCR back in the day that refused to function if you opened its case. It turned out that instead of using physical switches inside it used pairs of lights and detectors that would give false positive results when ambient light shined on them. reply asddubs 42 minutes agoparentprevAnother similar anecdote I heard before was related to a wireless device, and some employees flying a drone during their break, generating interference. reply ethbr1 21 minutes agorootparentMy parents have some old Gateway amplified computer speakers. Came with the 386!They still work perfectly... except for a regular pop of noise every few seconds that would intermittently show up, that scaled with the volume setting.It turned out, their portable phone (read: landline with short-distance wireless RF handset) would ping from the base station to the handset, if it were off the cradle, which was being picked up by the unshielded line-level audio cable and amplified.Moved the base station further from the cable, pop disappeared. reply dumbfounder 1 hour agoprevThis is a secondhand anecdote, but it’s pretty funny. Back in the days of server rooms, a friend’s server for his company would reboot every day around 5pm. They checked everything they possibly could with the OS, they would be logged in and running checks on it and it would spontaneously go offline for about 5 minutes and reboot every day. Finally they decided to go stand in the presence of the server around the time it goes down every day. They watched a cleaner come into the room, unplug the server rack, plug in their vacuum and vacuum around the servers, and then plug the server rack back in. reply krisoft 1 hour agoparentOh I have a similar one. This one is first hand, I was in the room when we were debuging the issue.We were developing a smart camera product which were counting traffic on a road. So for example a city council would install this camera somewhere on a road and it would generate statistics of how many lorries, and passenger vehicles, and motorbikes used that road.One of our cameras exhibited a problem where it restarted every day around roughly the same time. It wasn&#x27;t exactly the same second though, in fact there was a clear pattern to it. One day it would restart at 19:12:10 and the next day two second later, then again the third day two more seconds later. (not the real timestamp and i don&#x27;t remember the real time deltas either, but there was a clear progression)After much debuging we learned that the issue was that as the sun was settling some street furniture projected a shadow in front of our camera. Our software wrongly concluded that it is a vehicle and started collecting information about it for classification. But of course shadows creep a lot slower than real vehicles so it run out of memory before the \"shaddow vehicle\" has passed out of the frame. And once we run out of memory the system froze and then got restarted by a watchdog.Turns out the pattern we have seen in the timestamps was caused by the angle of the sun changing which made the shadow trick our algorithm just a little bit later every day. reply drivers99 1 hour agoparentprevDefinitely an urban legend at this point. A reddit thread[0] mentions it being collected in 1990 from computer stories going around in the 80s[1][0] https:&#x2F;&#x2F;old.reddit.com&#x2F;r&#x2F;talesfromtechsupport&#x2F;comments&#x2F;5yrs1...[1] https:&#x2F;&#x2F;www.goodreads.com&#x2F;book&#x2F;show&#x2F;3227607-the-devouring-fu... reply bhickey 1 hour agorootparentThe story probably endures because things like this actually happen [0, 1]0. https:&#x2F;&#x2F;www.cnn.com&#x2F;2023&#x2F;06&#x2F;27&#x2F;us&#x2F;janitor-alarm-freezer-rens...1. http:&#x2F;&#x2F;www.st-v-sw.net&#x2F;Obsidian&#x2F;Martin&#x2F;gravity.htm (search sprinkler) reply permo-w 1 hour agorootparentprevwould it be surprising if this has happened more than once? reply drzaiusapelord 1 hour agorootparentprevEssentially all these stories are apocryphal. Even this vapor lock story.Sorry but even before today, having a automotive engineer sent to a random person&#x27;s home over what clearly sounds like a quack letter seems implausible to me. The dictates of capitalism, human resources, and the politics of the workplace would make this difficult if not impossible. Even in the past when there was more human capital in support positions and more of a sense of customer service.Way, way too many suspicious stories involve high-level people being involved in trivial issues. I just find it all pretty suspicious. Real stories tend to start with poor customer service at the dealership and being mocked by managers and mechanics. Not some unrealistic ideal white knight manager sending off engineers to people&#x27;s homes. Imagine how many weird letters a place like pontiac gets. They don&#x27;t have the manpower to do this if they actually chose to do it, and engineers might balk at the idea of doing at-home support too.Pretty much any \"idealized Americana\" business story should set off BS alarms in us. \"Oh a trivial problem with your car? No problem ma&#x27;am, I&#x27;m sending our top engineers over tomorrow,\" doesn&#x27;t happen because its costly and unsustainable. Instead ask anyone who has odd car problems. Its endless painful calls and visits to dealerships and mechanics. There&#x27;s a reason we have lemon laws for cars. Its because whats described in this story doesn&#x27;t actually happen and people demand restitution.I don&#x27;t doubt that someone had a famous vapor lock shopping story (ive heard different versions of this story, usually about a housewife picking up her child from a nearby elementary school), but over the years these stories get modified into memetic structures based on dishonesty because most people are social capital seeking and having a humorous story provides them the immature ego boost they need. So \"wow my car had vapor lock when I make quick trips\" became \"So the CEO of Ford came to my house to look at my ice cream car...\" The latter is just more interesting in the market of storytelling.That is to say, the ONLY reason this story is here is because its been modified to be memeticly attractive. A \"boring\" (i find old technology faults interesting, personally), but a \"boring\" story about vapor lock wouldn&#x27;t make it to places like HN or reddit, which are memetic responders (upvote&#x2F;downvote mechanisms) and lowest-common denominator (by this demographic) popularity machines. But dress up that boring story and now everyone is repeating it, often times claiming its their story and they know the people in it! The same way the comment you&#x27;re responding to probably doesn&#x27;t actually know the famous \"unplug the server at 5pm\" person. reply AlbertCory 1 hour agorootparentWow, you used \"memetic\" three times. Very erudite. reply skipkey 1 hour agoparentprevI personally had a similar situation. We had an accounting firm whose servers we were maintaining, and occasionally the print server would reboot, always between 9 and 10 am. So I sat in there for a week between those hours and noticed the light would dim and occasionally the reboot would happen.It turned out that the lawyer next door would come in, turn on his PC, printer and coffee pot simultaneously because they were all on the same power strip, and the drain was causing an undervoltage on the circuit the server was on during startup. We had it on a UPS, but it turns out that at the time consumer grade UPS systems only handled outages.I measured drops as low as to 85 volts, in practice anything under 95 or sou would reboot. reply iforgotpassword 1 hour agoparentprevMan I&#x27;ve heard this story so many times, this guy must have a million friends in a hundred countries he&#x27;s told this story to. :-) reply dkarl 1 hour agorootparentI think it&#x27;s more like a common experience. My wife and I both work, so we have cleaners come in every two weeks for a deep clean. We&#x27;ve used several different companies, and apparently it&#x27;s standard practice to unplug things when a power outlet is needed. They don&#x27;t unplug computers that have monitors, and they don&#x27;t unplug things with visible clocks that would need to be reset, so they do take some care not to inconvenience us, but they&#x27;ll unplug anything else, including NAS appliances, DVRs in the middle of recording shows, etc. When we hire a new company, we make sure they mark down a special request that they not unplug anything, pointing out that we have ample outlets and can help them find one or free one up if necessary. I also replace any network connectors that lose their little plastic locking tabs, because they&#x27;re likely to slip loose when things get jostled around during cleaning. reply gav 16 minutes agorootparentIt is a common story and sometimes those get put in the collective blender and we get apocryphal stories out of it.Back in the mid 90s, I built out a system that gave every school in a district their own webpage that was carved out of some government funding for providing internet access. There was no budget for hardware though, so it ended up running on a repurposed workstation in somebody&#x27;s office. Once Tuesday even the cleaners unplugged it to vacuum and it didn&#x27;t power back up after being plugged in. On Wednesday somebody helpfully stuck a piece of paper saying \"don&#x27;t unplug\" to it, which seemed to solve that problem until the whole project was mothballed.Also in the late 90s, I worked at a company where we started getting complaints from the staff about machines being getting slower over time. Nobody took it seriously until there was an inventory of machines taken and we found that a large amount had significantly less memory installed than they should have, somebody was stealing half the memory sticks from each. Hidden cameras were installed in the office and it turned out that somebody on the cleaning crew came with a screwdriver and ESD bags and knew how much to take to leave the machines working. reply fernandotakai 1 hour agorootparentprevfunny thing, something like this happened to me. we were on site doing some implementation and went back to the hotel at about 3am.less than an hour later, we get an email from nagios (i think it was nagios? it was a GOOD while back) complaining the server was offline. we got into a cab and went back straight up (this server was not supposed to be offline ever).guess what? a maintenance guy turned the server off by mistake while cleaning up the server room -- even worse, he was not even supposed to be there!this triggered a bunch of security checks and the company found out that most employees had access to any room in the building. reply SketchySeaBeast 1 hour agorootparentprevThe key to making friends is having a good story. reply hobomatic 0 minutes agoprevThis reminds me of a strange recurring experience I used to have with electronics in my house.In that house,on certain days of the week at midnight, something that sounded like recordings of political speeches from WW2 would be audibly (but faintly so) from all of stationary electronics. It was so faint, that it was usually hard to pinpoint any one source, and the words used weren&#x27;t understandable, so it usually sounded like it was coming from everywhere all at once, and like it was an old recording.This would happen even if they were unplugged. Even if my power went out.I though I was either going crazy, or my house was literally haunted by hitlers ghost.Well one day I was in my car and recognized something on the radio that reminded me of this spooky problem I had.It was the signon of a Catholic am radio station that opened up with Gregorian chanting, and a sermon. This signon happened at the same time on the same days of every week.Turns out, the wiring in that house was somehow functioning as an am radio receiver, and some common components would vibrate out the audio encoded in the radio signal. reply bell-cot 2 hours agoprevThis reminds me of a GM minivan that my youngest brother-in-law drove, back in the &#x27;80&#x27;s. He&#x27;d gotten it from his father, who was a career GM automotive engineer - and complained that, occasionally & randomly, it would not start. It seemed like the minivan&#x27;s whole electrical system was dead...Brother-in-law was known to be \"not so good\" with cars - so his automotive engineer father didn&#x27;t take the complaints seriously.Complaints and emotions escalated, until brother-in-law convinced his dad to swap vehicles for a month, so (he hoped) his dad could experience the problem for himself.After the problem manifested in the parking lot of the GM Technical Center, and the whole crowd of GM engineers surrounding the vehicle couldn&#x27;t figure out why the heck the electrical system seemed to be dead, my brother-in-law felt pretty vindicated. reply addaon 1 hour agoparentI have a 2009 Mercedes SLK that had the same symptom. It was absolutely fine 99.9% of the time, but one time in a thousand it wouldn&#x27;t even try to start. No clicks, no indication that it even knew I was in there turning the key. Just dead. And then seven or eight hours later... it would start fine, as if nothing ever happened. Couldn&#x27;t correlate it to anything.Had it towed to a service center a few times when this happened. Every time, by the time they got around to trying it (a few hours later)... it would start fine, with nothing to diagnose.Then, it was 99% of the time it was fine. I was with a group of folks car-camping off road to fly a human powered airplane for a couple days, and... no start. Finally started -- with no sign of any problems -- around noon the next day, and I high-tailed it out of there a day before the rest of the group, because getting stuck there &#x2F;after&#x2F; the rest of the group would have started pushing my comfort level. So at this point it&#x27;s actually interfering with my life.I&#x27;ve tried all the usual stochastic troubleshooting (swapping out fuses, light to moderate percussive maintenance, alternate keys) and nothing. Finally it fails to start in my driveway, and I get it towed to an independent mechanic. It&#x27;s short tow, and it fails to start when it gets there! So now he&#x27;s seen the problem, and is as puzzled as I am. Of course, when he tries again the next morning, it starts fine.He proposes two possible fixes: replacing some ECU module, or replacing the fuse box itself (under the theory that it&#x27;s the connector or connection into the bottom of the fuse box that is having some moisture ingress or intermittent connection). Of course whatever we choose, I won&#x27;t know if it was right or not until the next time I&#x27;m stuck. The ECU is multiple thousands of dollars, and the fuse box isAre there any good connotations of that word?A few other GM vehicles have this issue, Chevy in particular. A well known example is the market failure of calling a car Nova (No-Va) in South America. reply danaris 0 minutes agorootparentExcept that&#x27;s not actually true: https:&#x2F;&#x2F;www.snopes.com&#x2F;fact-check&#x2F;chevrolet-nova-name-spanis... PaulHoule 1 hour agorootparentprevI think it&#x27;s funny how GM came out with the \"Cavalier\" to compete with Honda&#x27;s \"Civic\". Or that matter, there was a Chevy Cobalt (e.g. a \"Kobold\" is a demon that causes mine accidents) or an AMC Gremlin. reply jstarfish 32 minutes agorootparentThere&#x27;s always the business-school legend about the failure of the Nova with the Spanish market. reply danaris 1 hour agorootparentprev...But cobalt is both a color and an element...?Sure, the name is derived from \"kobold\", but that&#x27;s like saying you should never call anything good \"terrific\", because it derives from the root \"terror\". Etymology isn&#x27;t destiny. reply jstanley 1 hour agorootparentprevSimple, it&#x27;s so that every time someone reads \"citation needed\" on Wikipedia, it triggers the buy impulse. reply hotnfresh 2 hours agorootparentprevThere’s also the aircraft series:https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Cessna_Citation_familyThose are named after a race horse. Car may also be for the race horse. Or maybe the car’s named after the plane(s). reply GauntletWizard 1 hour agorootparentI would love to drive a Chevy Potoooooooo reply dmurray 2 hours agorootparentprevIt&#x27;s also the name of a brand of private jet, and of what used to be the most successful racehorse in the world.I&#x27;d guess both the car and the plane owe their names to the horse. reply hydrok9 1 hour agorootparentprevCitation just means to be noted for something (\"Cited for valour.\") reply dotancohen 20 minutes agorootparentBut in the context of motor vehicles, the term is highly associated with infractions and monetary fines. reply hinkley 1 hour agorootparentprevTechnically Chevrolet did but the entire thought process for that vehicle was questionable so the name is IMO a harbinger. This is not a place of honor. reply BoxOfRain 1 hour agorootparentprev>I joked when I moved to Seattle that the main problem is since there is no salt, there are still Citations on the road and that is unnatural. Their place in the natural order is the junk yard.This was the fate of many British Leyland cars, even the ones that people genuinely liked such as as the classic Mini and the MGB were practically hygroscopic. reply jacquesm 14 minutes agorootparentI loved the Mini, but I loved my Maxi even more. That was the most useful car ever bar none. reply hinkley 23 minutes agorootparentprevI will say I was somewhat delighted by the number of good looking mustangs and british roadsters there were. And so many Beetles. My roadster had a little too much bondo for my liking. reply dylan604 1 hour agorootparentprevi learned that these things typically are grounding issues. it usually came down to a single source of ground being a loose connection which is why it was intermittent. as a personal anecdote to this, as a first car as a teenager, i drove a GM&#x2F;Chevy S-10 that one day started to have issues where all of the gauges on the dash would just go crazy and the lights would go on and off, and then suddenly just start working again. after taking it to the shop my dad recommended, a mechanic walked out to greet me. after i told him the symptoms, he stepped back to look at the truck model, asked me to confirm the year model. he promptly opened the driver side door, reached under the dash, located a specific screw, hand tightened it as a test, and everything worked. he came back with a screw driver to properly tighten in before sending me on my way free of charge. he told me that specific model was notorious for the screw holding the ground wire to come loose. it would cost him more in time to write up a sales slip to charge me. reply c22 2 hours agorootparentprevI had a 1989 Chrysler LeBaron that developed insane electrical issues. Windshield wipers would randomly turn on, the radio would change stations by itself. It really did seem possessed. reply kup0 25 minutes agorootparentWhen I was a kid my (not wealthy) family had a Lincoln Towncar that was probably purchased used and fixed up and it ended up with some freaky electrical problems like you describe- most notably (because it freaked me out as a small child) I remember the automatic door locks would start locking&#x2F;unlocking themselves rapidly, and they were big chunky metal switches that pop up and down and made an awful sound when this happened reply dkarl 59 minutes agorootparentprev> Despite post-1990 GM cars being near peers to Japanese cars for reliability overallAmerican carmakers really needed that kick in the ass from Japan. Around 1990 was when my parents went from being protectionist, \"buy American\" to never buying another domestic car again in their lives. They were angry, angry at the reliability difference and angry knowing that domestic carmakers could have done better but instead relied on people like them to buy the flag. reply phkahler 56 minutes agorootparentprev>> GM cars are notorious for (sometimes) developing strange problems that would have you think they are possessed with the devil.Like turning on the backup lights in a parking lot when the engine isn&#x27;t even running. reply westmeal 2 hours agorootparentprevWhat are you talking about the 90s was the worst era for GM they cheaped out on everything possible. reply PaulHoule 1 hour agorootparentI dunno. When my son needed a car to get to work we found a 1996 Buick Park Avenue in almost perfect condition at 100,000 miles. He didn&#x27;t like the look of modern cars, didn&#x27;t want a touchscreen, besides a 2010 Japanese car can cost almost new prices and they wanted $9k for a Chevy Sonic with 180,000 miles (didn&#x27;t know they went that far!)Granted the traction control and anti-lock brakes occasionally fail to boot up, but it seems to be a pretty good car, but it was close to the top of the line. Gets 27 mpg which is not bad for a big ass car. I like how it has a lot of the feel of a 1970s boat but it has airbags, OBD II and most of the good features of a modern car... And we didn&#x27;t need to get a loan to afford it. Driving home though I was looking in the mirror and seeing it dwarfed by today&#x27;s XXL trucks and SUVs. reply danaris 1 hour agorootparentprevI mean...it&#x27;s possible they&#x27;ve improved a lot compared to where they were 30+ years ago, but to call GM&#x27;s cars \"near peers to Japanese cars for reliability\" just doesn&#x27;t hold up.On Consumer Reports&#x27; list of car brands by reliability[0], none of GM&#x27;s brands even crack the top 10. GMC and Chevy are 20 and 21, respectively, out of 25 brands. (The top 5 include, unsurprisingly, Toyota, Lexus, and Honda—your classic reliable Japanese brands.)[0] https:&#x2F;&#x2F;www.consumerreports.org&#x2F;cars&#x2F;car-reliability-owner-s... (may be paywalled...?) reply SkyPuncher 2 hours agoparentprevI&#x27;m going to armchair and guess that your brother needed a new battery.My (GM) car gets really funky startup behavior when the battery gets old. It will often turn the starter fine, but the electronics can get stuck in weird states until I disconnect the battery (essentially a hard reset). reply lotsofpulp 1 hour agorootparentSubaru just had a class action lawsuit about their stupid car infotainment systems draining the battery.https:&#x2F;&#x2F;www.subarubatterysettlement.com&#x2F;The dealers wanted a ton of money to diagnose the issue, even though I suspected it must have been the infotainment system draining the battery. I just ended up replacing the infotainment system with a cheap CarPlay compatible one and the problem went away.Problem is I cannot get money from the class action settlement since the original infotainment system is already out and I fixed it myself. reply xethos 5 minutes agorootparent> Problem is I cannot get money from the class action settlement since the original infotainment system is already out and I fixed it myself.You only fixed it because it was a problem though. Not a&#x2F;your lawyer though, so good luck and have fun navigating the American legal system! reply Filligree 2 hours agorootparentprevIf it was surrounded by a crowd of engineers, surely someone would have tested the battery? reply roel_v 1 hour agorootparentThis is the point where I would tell the story of how I once got lost in Porto, while in a group of 25 geographers reply vGPU 1 hour agorootparentprevThe problem with having a bunch of experts is that experts usually forget to check the basics.I’m sure we’ve all been caught trying to troubleshoot a problem where the actual issue was a loose cable. reply aidenn0 1 hour agorootparentI worked tech support that included a device for software developers that had Ethernet connectivity. I learned very quickly to say \"Try reseating the Ethernet cable\" because if I said \"Is the Ethernet plugged in\" about 1&#x2F;3 of the people would respond very negatively (e.g. \"I&#x27;m not a fucking moron\") but by having to reseat the cable, they would sometimes discover it&#x27;s not plugged in. reply dotancohen 15 minutes agorootparentThe classic way to get the consumer to power cycle the hardware is to ask them which color ring is at the base of the DC plug. It doesn&#x27;t really matter what color it is, what matters is that it was removed and the hardware definitely restarted. replytaejo 1 hour agoparentprevPlenty of cars that intermittently won&#x27;t turn on in this thread, but I once had a car that intermittently wouldn&#x27;t turn off... or at least the headlights wouldn&#x27;t. I assume a relay somewhere was overheating and that was making it stay closed, but I never debugged it, and nor could my cousin who was an auto mechanic. We never tried too hard, though: I would just take the fuse out if it happened and put it back the next morning. reply LanceH 2 hours agoprevMy wife&#x27;s car right now is low on windshield wiper fluid. It warns us at a particular spot while we are driving. Not a particular distance from home, a specific geolocation. First thoughts were that it was the amount of time as she went to something and came back. But it does the on screen and audible warning at that location every time, no matter what was driven before that, whether it was 5 minutes, 5 miles, an hour, or 60 miles. The only additional clue is that exact same spot is a dead zone for most phones&#x2F;carriers.We got the wiper fluid filled, so the mystery is in remission, but I&#x27;m wondering if all warnings will pop up right then. I&#x27;m guessing it has something to do with the telemetry of the car being nudged in that spot, waking up and saying something. reply kybernetikos 1 hour agoparentCould be an incline is making the fluid level low at the sensor point at that location. Does it have an unusual incline in any axis? reply LanceH 1 hour agorootparentAbsolutely flat. There is a mild bend there, but nothing compared to corners and the traffic circle. For that matter, we can get out and drive all afternoon and it said nothing until that spot. reply mavamaarten 1 hour agoparentprevI have a similar situation but in my case it&#x27;s very obviously the gentle bend in that location combined with the relatively high speed that makes the fluid hug one side of the reservoir. I&#x27;m pretty sure that the sensor is mounted to the opposite side. reply ezfe 1 hour agoparentprevMy Subaru warns me about the wiper fluid on highway exits exclusively because of the speed and inclination changes reply rsynnott 1 hour agoparentprevHilly area? Is the car at a particular angle in that spot? :) reply pphysch 1 hour agoparentprevIs there anything notable about the terrain at that point? A sharp turn, bumpy road, etc. reply LanceH 1 hour agorootparentLong slow bend on completely flat road, 40mph. No braking or acceleration for a quarter mile each direction.The road is like that for miles with some lights, traffic circles, etc... Only warnings in one spot.I really didn&#x27;t believe my wife, or thought maybe it was happening a few times when she made a regular trip like getting drive thru coffee and coming right back. But then we ran a bunch of errands all afternoon and got one warning there on the way out, and one warning on the way back. reply amluto 1 hour agorootparent> Long slow bendThat’s probably it.If I were designing a wiper fluid warning, I would use some sort of fluid level sensor and I would denounce it aggressively: the indicator would only light up if the sensor detected a low level for more than a couple seconds. That way traffic circles, bumps, etc would not cause many false positives. I might even couple it to some kind of acceleration sensor so a warning would not turn on during or shortly after any heavy vibration or acceleration.A long slow bend would cause a prolonged, steady centrifugal force and&#x2F;or sideways acceleration due to a banked road, which would defeat these mechanisms. reply bbarn 51 minutes agorootparentThe question then is does it only happen in one direction? If the answer is yes, than I think you&#x27;ve solved it. If the answer is no, it might still be the problem but the sensor might be top or bottom mounted and not side mounted from the center I suppose. reply s28l 1 hour agorootparentprevMaybe it&#x27;s a combination of the \"bend\" and the \"long slow\" part.If you are making a turn the centrifugal force will push the fluid away from the axis of rotation. There is likely a level sensor only on one side of the tank, so the turn might push the fluid away from the sensor enough to trigger a warning.The sensor likely has a time component to avoid triggering every time you make a turn, but if this bend is long enough, maybe the fluid is displaced long enough that it overcomes that minimum time. reply wildzzz 1 hour agorootparentprevCould be related to terrain a certain distance&#x2F;time before that spot in the road. The car may only trigger the warning after the fluid level has stabilized which a flat road would contribute to. reply thecosas 1 hour agorootparentprevPerhaps it&#x27;s long and slow enough to make the fluid move to a certain point and stay there long enough for the light&#x2F;alarm to come on. If it&#x27;s electronic vs solely mechanical, I&#x27;m sure they&#x27;ve got some smarts so that certain changes are ignored for a period of time (incline&#x2F;decline, sharp turns, short stops).Maybe you found the sweet spot at a certain point in that long, slow bend? reply drivers99 1 hour agorootparentprevIs it a Subaru? Mine is currently doing that when I go through a long turn in a highway interchange. I&#x27;m sure I need to add fluid but it&#x27;s on the edge where it only shows up when the force of gravity is pulling the remaining fluid a certain way. reply oktwtf 1 hour agorootparentprevMy thoughts too. I would often induce a quick g-force to get the last few drops out of the same fluid tank. I could see the same triggering a sensor under similar circumstances. reply dylan604 1 hour agoprevThese are the kinds of stories that made Car Talk so much fun. It was so much more than just hearing about mechanics repairing cars. It was the fact that the situations were so odd and unusual that the stories were interesting. It was also fun hearing how these mechanics had been around so long and seen so many of these unusual situations that they became normal to them. It didn&#x27;t hurt that they were good story tellers reply m463 23 minutes agoparent\"Go to your mechanic and find the oldest guy in the shop. He might be able to work on a carburetor.\" reply timmorgan 46 minutes agoprevMy son&#x27;s laptop screen kept shutting off while he was playing American Truck Simulator. His truck would drive off the road while the screen was black.Every time I played on his laptop, this did not happen. He swore he was cursed.This went on for many days, with many instances where it would happen for him but not for me. Then one day I just sat and observed him while he played, looking for any difference. That&#x27;s when I noticed his watch band is metal with a magnetic clasp. The position of his wrist on the laptop was tripping the hall sensor, making the laptop think the lid was closed.Him and I (and his mother) were glad to find out he is not cursed. :-D reply maweaver 2 hours agoprev> Moral of the story: even insane-looking problems are sometimes real.To me the moral of the story (and my experience) is: user&#x27;s problems are usually real, but don&#x27;t trust their ability to diagnose the actual cause. reply karmakaze 1 hour agoparentStated another way, distinguish observations (facts) of a story from the inferences--don&#x27;t dismiss the observation&#x2F;facts when rejecting inferences. This is analogous to an XY problem. reply dotancohen 12 minutes agorootparentWhen the client states that he has a problem, he is always correct. When he tells you what the problem is, he is always wrong. reply tantalor 41 minutes agoparentprevThere&#x27;s a big difference between the proximate cause and root cause.Proximate cause: buy vanilla ice-creamRoot cause: vapor lockThe letter didn&#x27;t assert that the ice cream was the root cause, but made it very clear it was the proximate cause.The Pontiac President, and the person who wrote that \"moral of the story\", may have confused the two. But the engineer in the study didn&#x27;t. reply macintux 1 hour agoparentprevRelated: as a troubleshooter, don’t get locked into a theory too quickly. You can easily overlook other information that doesn’t fit. reply schainks 50 minutes agoprevOne night while in the computer science lab doing a Java assignment, my professor for that class happened to walk by the lab and quipped to me, \"oh, good luck on _that_ machine.\"He explained: once upon a time, the machine refused to run _any_ Java programs, and would spectacularly crash and burn instead. C++ fine, python fine, anything Java was a hard nope. He didn&#x27;t believe this at first until his program also started crashing the machine.It took a tech, him, and another professor about two weeks to work out that the JVM happened to allocate the same RAM address to the integer 12 on that particular machine every time the JVM started. The actual chip of RAM that contained that hardware address was faulty, so whenever the machine tried to allocate to that address, it would crash.Swapping out the bad RAM stick immediately solved the problem. reply deelowe 2 hours agoprevReminds me of a short book I like that talks about these sort of tings titled \"An Engineer&#x27;s Guide to Solving Problems.\" It starts with a similar situation - \"The Dog Barks When the Phone Rings.\" Eventually, you get to a section called “If I Could See it, I Could Fix it!” which discusses the importance of understanding the problem before attempting fixes. reply m463 19 minutes agoparent> \"The Dog Barks When the Phone Rings.\"Went to a friend&#x27;s house years ago, and knocked on the front door. Loud running, then BOOM door moves as dog jumps up onto other side. After some finagling, my friend finally gets the door open and says \"Use the doorbell next time, he hasn&#x27;t figured it out\" reply rmnclmnt 1 hour agoparentprevUnderstanding the problem usually comes later, first step is to be able to reproduce the problem! reply deelowe 1 hour agorootparentCorrect. That chapter actually might be more about reproducibility. It&#x27;s been a while since I read it. reply MarkusWandel 55 minutes agoprevSomeone in my extended family had a Toyota Highlander which would randomly decide \"you don&#x27;t need window defog today\", leading to a near inability to drive the car if fogging was an issue. The dealer didn&#x27;t believe him until one day it actually happened while they were watching. They had no idea what to do or how to fix it. Solution: Trade the thing in against a Honda Passport. He&#x27;s had that for quite a while now and I haven&#x27;t heard any complaints.On the other hand, my previous Honda Civic with its dual voltage electric system (computer thinks the battery needs charging? Generate 14.4V. Computer thinks it doesn&#x27;t? Generate 12.6V) caused us considerable grief until we just started driving around with the headlight switch on all the time (this forced it into the higher charging voltage). This \"feature\" is not well known&#x2F;understood even by mechanics and has probably caused untold numbers of alternator replacements.Current Civic is so automated that even the headlight on and high&#x2F;low beam is under the computer&#x27;s control. Hopefully no weird chronic computer bugs in this one. reply huehehue 2 hours agoprevOh man, I&#x27;m currently fighting a problem with a mid-70s coupe that&#x27;s driving me equally batty.Randomly during longer trips, the car will just die for no discernible reason. It&#x27;s the Car of Theseus at this point with how much I&#x27;ve replaced, but the issue persists, and the nature of these intermittent problems makes debugging a nightmare. More puzzling still that the car starts up fine after a short nap. reply SkyPuncher 2 hours agoparentI&#x27;m sure you&#x27;ve tried a bunch, so my comments might be talking into the void.I had a similar issue that turned out to be a slightly loose battery connection. While the battery clamp was making contact with the battery terminal, I didn&#x27;t tighten it enough and it made poor contact.Is it correlated to temperature at all? If it is, I wouldn&#x27;t be shocked if something, like a relay, is building up heat and increasing resistance to the point of operating incorrectly. A short nap might give that component enough time to cool off. reply HeyLaughingBoy 1 hour agoparentprevI had a Toyota pickup that would die randomly, sometimes at highway speeds. Although in those cases, the engine would restart after a second so it felt like you hit a brick wall then kept going. A friend suggested a bad fuel pump. OK, replace the pump and filter (it was cheap and an easy R&#x2F;R) but no change in behavior.After a while, I correlated the problem to very high humidity: usually happened during heavy fog or rain. So, it&#x27;s probably an ignition problem, right? Replace spark plugs. Nope. Distributor cap&#x2F;rotor. Nope. High performance plug wires. Nope.Drove me nuts for about two years. Then one day I&#x27;m in my garage looking for something and I move my timing light out of the way. Hmmm, didn&#x27;t think about that...After two years, problem turned out to be timing slightly out of spec. Fixed in five minutes! reply convFixb 1 hour agoparentprevCracked fuel line? Might let air into the system in certain operating points; might make the fuel pump unhappy (refuses to prime) in some situations. I figured mine out when it finally broke completely: All the other issues went away after replacing it. reply legitster 1 hour agoparentprevAssuming there are not a lot of electronics on a 70s car, this sounds like a fuel issue. reply pryelluw 2 hours agoparentprevWhat brand model is it? reply huehehue 2 hours agorootparentMercedes 450SLC reply jacquesm 3 minutes agorootparentWiring harness issue. Reseat any and all connectors from the battery to the distribution box (there may be two of those depending on the model year) and reseat all of your fuses, if any of them go in too easy then use a small screwdriver to force the contacts to be closer together (or slightly twist the fuse tab, not the most elegant solution but sometimes those contacts in the fuse box are so far recessed that you can&#x27;t get at them). Good luck! reply tysam_and 2 hours agoprevIs this the new 500 mile story (or the second-place replacement?)I don&#x27;t know whether this is true or not, but either way: incredible. Love this, and love the company for actually sending someone on company time (!??!?!?!?) to check it out.Vanilla, being the most popular flavor, was in a separate case at the front of the store for quick pickup.This feels very contrived; who organises a supermarket like that? \"Where&#x27;s the ice-cream?\" \"Which flavour? We keep them separately, to make an anecdote work.\"(Like, the moral of the story still works, but the specifics feel very dubious...) reply zie 6 minutes agoparentLots of stores have end-cap coolers which have product they really want to sell in there, usually at a discount.I could def. see Vanilla Ice Cream being in that container for a while for whatever reason.Or it could be a small&#x2F;local grocery store and the owner&#x2F;manager really likes Vanilla, and did it for their own convenience. reply saalweachter 36 minutes agoparentprevHell, I&#x27;m skeptical vanilla is the most popular flavor, although that may change by year.At the very least, chocolate is neck and neck and on the only sales chart I could find (which I think was for the UK?) chocolate sold more than vanilla. reply shireboy 1 hour agoprevI miss Car Talk with \"Click and Clack the Tappit Brothers\". Not sure if this was on the show, but seems like it could have been. Definitely check it out if you enjoyed this anecdote. reply vishnugupta 57 minutes agoprevAfter 500 miles email story y&#x27;day now this.https:&#x2F;&#x2F;web.mit.edu&#x2F;jemorris&#x2F;humor&#x2F;500-miles reply ctenb 1 hour agoprevWhy did the car only fail to start in front of the ice cream shop? Surely there are more occasions where you turn off the engine and turn it back on again within a short time? reply ggreer 1 hour agoparentBecause the story is fiction. There are so many variables that would change the amount of time the engine is stopped: where you parked, how long the line at the register is, whether you had exact change or not. Also the ambient temperature would change both the likelihood and duration of vapor lock. reply rafaquintanilha 1 hour agoprevFunny thing the first time I heard this anecdote was by a priest (he was formerly an electrical engineer). The conclusion was similar: how many times a seemingly illogical issue has a very logic explanation (even if it looks illogical to you at first). reply doodpants 2 hours agoprev> Vanilla, being the most popular flavor, was in a separate case at the front of the store for quick pickup.Vanilla is the most popular flavor? That makes me skeptical of the whole story. ;-) reply 5555624 1 hour agoparentVanilla consistently ranks as the most favorite ice cream flavor. A search for \"most popular ice cream in the world\" has as the top result: \"According to statistics, vanilla ice cream is the most popular ice cream in the world. From the USA across to China, its appeal is universal.\"An example of the top 21 flavors (in America): https:&#x2F;&#x2F;www.krqe.com&#x2F;news-resources&#x2F;ranking&#x2F;the-21-most-popu... reply BashiBazouk 1 hour agoparentprevVanilla accounts for about a quarter of all ice cream sales in the US. Chocolate is a close second but I think vanilla wins as it is also the most common to serve with other desserts. Apple pie a la mode is always with vanilla ice cream for example... reply gwbas1c 1 hour agoparentprevHave you ever given ice cream to young children?I was a picky eater as a kid, yet I still can&#x27;t fathom why so many kids prefer vanilla over other flavors. reply Kerb_ 1 hour agorootparentIt&#x27;s reasonably complex while not typically being overwhelming in my experience reply aidenn0 1 hour agoparentprevIt&#x27;s the most popular flavor in the same way the Settlers of Catan is the most popular Euro board-game. It&#x27;s rarely anybody&#x27;s favorite, but very few people hate it. reply moffkalast 1 hour agoparentprevGiven that it&#x27;s become a synonym for &#x27;conventional&#x27;, I&#x27;m not sure why you&#x27;d be sceptical. It&#x27;s the least common denominator flavour. reply macintux 1 hour agorootparentSame reason grayscale cars are very common: even if a family likes bright colors, they may not like the same bright colors, and may not trust they’ll be able to sell it to someone else later. reply Finnucane 1 hour agoparentprevIt is, certainly would have been at the time anyone would be driving a Pontiac. But it is dubious that the store would have a separate case for it. And making a trip for it every night after you&#x27;ve had dinner? And an engineer spent days working on the problem in person? THe story is weird.Also, vanilla is good. reply rsynnott 58 minutes agorootparent> And an engineer spent days working on the problem in person?This is the only slightly credible bit IMO; companies sometimes do this! If you have a really weird problem in something you&#x27;ve sold a few million units of, you really, really want to know what that problem is, before more people start complaining.The supermarket layout is clearly contrived to make the story work, though, and doesn&#x27;t otherwise make any sense. reply c7DJTLrn 1 hour agoprevCan you imagine an engineer turning up to your house to solve a problem with your car these days? Manufacturers now would just tell you to buy a new one. reply artur_makly 1 hour agoprevreminds me of this classic : https:&#x2F;&#x2F;www.reddit.com&#x2F;r&#x2F;Jokes&#x2F;comments&#x2F;a26tzt&#x2F;four_engineer... reply NotYourLawyer 2 hours agoprevThe president of Pontiac got involved? An engineer spent multiple days on the problem?X doubt reply Aurornis 2 hours agoparentIt’s an engineering allegory, not a literal historic account. You’re supposed to learn from the engineer who diligently takes notes until they discover the obscure correlation that clues them in to the real problem. The true problem is not always what we assume it to be, but you can’t dismiss the existence of a problem because it seems unlikely.The included details of the narrative are deliberately fanciful to make it obvious that it’s not intended to be taken literally.Of all the details people are trying to pick apart, I’m surprised nobody mentioned how strange it was that they drove to the store every single night for ice cream rather than just buying a few large containers and putting them in the freezer. :) reply mondobe 1 hour agorootparentIt&#x27;s a law in my family that no matter how many containers of ice cream we buy - or how large - they will always get eaten in the next 24 hours. So we end up doing the same thing (though not every day). reply localhost 2 hours agoparentprevMany years ago I was at a small group meeting with Terry Myerson who ran the Windows phone org and had just assumed responsibility of the entire Windows org. I had a Nokia 1520 (the giant phone) and he asked me what I thought of it. I said I loved it, and then complained about how it kept on dropping bluetooth with my car&#x27;s head unit, a new Subaru STi.The next day there was an engineer sitting in the back of my car with a bunch of test devices capturing traces of the BT comms with the head unit. Apparently Subaru didn&#x27;t sell enough units to warrant its own certification process for BT so this was the first time engineers had looked at it. IIRC it did get better a few updates later; it was maddeningly unusable out of the box. reply t3rabytes 2 hours agoparentprevFord has been known to send corp engineers to dealerships to help diagnose and resolve recurring issues in specific vehicles (has happened to a coworker of mine, and the engineer did end up fixing the issue!) -- I wouldn&#x27;t entirely doubt. reply wizerdrobe 1 hour agorootparentMy mother has a Jeep Patriot with a water leak where it kept getting into the ceiling lights, drip on the interior, or on the driver even.After 3 or 4 trips across the county to the dealership she threatened to invoke the Lemon Law on the new vehicle and wouldn’t you know it, Jeep sent out an engineer to Beaufort, SC and he spent a week on this vehicle. Was fixed and never had a leak again. reply lkbm 2 hours agoparentprevSome versions say it&#x27;s the dealership, not the manufacturer, being contacted, which seems more probable.[0] (It&#x27;s also from the 70s, which also helps it be a little more believable, imo.)[0] https:&#x2F;&#x2F;www.snopes.com&#x2F;fact-check&#x2F;cone-of-silence&#x2F; reply Twirrim 1 hour agoparentprevIt does happen, sometimes. Sometimes it&#x27;s a case of who you know.When I was at Amazon, Jeff sent out a question-mark email after a complaint from a customer, something he used to do when a direct email complaint caught his attention in some particular way. The complaint was that some amazon hardware was having difficulty with this customers wifi network. I want to say it was a 1st gen Echo, but it has been close to a decade since, and I only saw the report that was produced from the situation, that I honestly forget the particulars.That question mark email ended up with Amazon sending some senior engineers around to go figure out what was going on at the customer&#x27;s home, and figure out what that meant for the device and how it might be mitigated. It ended up being some weird combination of physical properties of the house, the wifi arrangement, and some suboptimal behaviour in the Amazon device that was fixed via a subsequent software update. reply toast0 2 hours agoparentprevSending mail to the President doesn&#x27;t mean it was handled by the President. They&#x27;ve got a staff to handle customer service requests. reply mempko 2 hours agoparentprevI once sent a message via linkedin to a VP of an error I was getting on their company&#x27;s website. He answered and had one guy on their team to look into it. They fixed it the next day. Sometimes people answer their messages! reply thefourthchime 2 hours agoparentprevI agree it seems unlikely, but it&#x27;s still a fun story. reply NamTaf 1 hour agoprevMy parents have an early &#x27;50s MG, which they rarely drive. For most of my adult life, I&#x27;ve lived about an hour away from them so I&#x27;d sometimes take it out if I was there. Needless to say, it had a never-ending list of quirks due to being so old and also rarely being driven, but it&#x27;s a lovely old car all the same.One day, I dropped by to say hi, but they were both out. I decided instead to take the car for a spin around the local beachfront to give it a turn over. A few minutes into the drive, I started to lose engine power, so I pulled over. The engine then completely died on me, so I let it sit for a moment before trying to kick it over again.The fuel pump is such that when you first turn the key to power the accessories, you hear it go tickticktick tick tick.. tick... tick...... - the ticks slow as the pump builds up fuel pressure. It&#x27;s a good audio cue as to when you can then turn it to ignition and kick the engine over. In this case though, the ticking wasn&#x27;t slowing - just the same tickticktickticktick. I tried to kick it over several times, but no matter which deity I invoked, no luck.Empty fuel tank then. I checked the fuel level (walk to the tank on the back and poke a special bit of wood in to see how full it is) but lo and behold, plenty there. So I let it sit for a few minutes more and try again, hoping it may be to do with a flooded carburetor after my several attempts to restart it. The same: tickticktickticktick.I gave Dad a call, describe the problem, tell him what I&#x27;d done to solve it and that I&#x27;d concluded the fuel pump must be cactus. I asked if he was going to be home soon to come give me a tow home. At this point, I learnt that he was some hours away and Mum was overseas, so no luck there. As I&#x27;m mentally preparing to push the car home for over an hour, he interrupts - \"open the bonnet, grab the spanner out of the toolbox there and give the pump several hard whacks\".\"...what?\"\"Beat the bejeezus out of the fuel pump a few times.\"So I did, and I turned back on the accessories. Ticktickticktick ticktick tick tick... tick.... tick.......Dad then explains that this problem&#x27;s been around for decades. Very occasionally, a bubble of air will end up in the fuel feed line. It then blocks the pump, which can&#x27;t clear it, but a bit of suitably percussive maintenance consistently dislodges it and the pump can draw fuel in again.As they say, old cars definitely have character, and I think that comes about largely because people can understand, fault-find and fix these sorts of analogue issues that arise. New cars are much more reliable and don&#x27;t face nearly as many random faults, but those that do happen are almost impossible for Joe Public to resolve on the side of the road. reply vGPU 1 hour agoparentPercussive maintenance is the second step to take for a car that has been sitting for a while, right after the Italian tuneup. reply slurpee2 1 hour agoprevnot related to cars but how improbable news can be true : Martha Mitchell effect https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Martha_Mitchell_effect reply cbm-vic-20 1 hour agoprevSee also: https:&#x2F;&#x2F;xkcd.com&#x2F;1172&#x2F; reply shadowgovt 54 minutes agoprevI currently have a Raspberry Pi that consistently loses its network stack at some point in the early morning.The likeliest correlation is that I have the Pi dump backups at that time, and it may be crashing the network stack due to unexpected hardware output because running a hard drive and the internal wifi simultaneously under-volts the system. But it sure does look like it just gets visited by demons in the pre-twilight hours. reply CamperBob2 58 minutes agoprevYeah, that isn&#x27;t how this works. Popular things are closer to the back of the grocery store -- milk, eggs, meat, produce, higher-volume soft drinks -- in order to force you to walk past everything else to reach them.Ice cream is not that popular, so it could reasonably be stocked near the front of the store. But all the flavors are stored together, as you&#x27;d expect.Engineers who make house calls are also not a thing in Detroit. You might see that happen in Japan, where airline CEOs have been known to make pilgrimages to call on the families of crash victims. But I&#x27;d be (pleasantly) surprised if the car companies have ever done anything like that. reply Lolaccount 1 hour agoprevFor some nostalgia, go to the root ...https:&#x2F;&#x2F;www.cs.cmu.edu&#x2F;~wkw&#x2F;Took me straight back to University ... reply aidenn0 1 hour agoparentEven the author&#x27;s ICQ number is listed... reply PhasmaFelis 2 hours agoprevI read a story about a university IT guy with a professor complaining that he couldn&#x27;t access any websites hosted more than 100 miles away. (Or thereabouts, I forget the exact numbers.) Which is obviously nonsense; computers don&#x27;t know \"miles\", only network relays.Long story short, an idle timeout variable had been set to 0 milliseconds, so any connection that took 1+ ms failed, so you could only connect to systems within 0.5 light-milliseconds of the university, which is about 100 miles. reply kfarr 2 hours agoparentRelated https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37576633 reply rawling 2 hours agorootparentAnd we&#x27;ve come full circle, since I presume OP found this article linked from the comments on that one. reply PhasmaFelis 2 hours agorootparentI&#x27;d actually read the story years and years ago, thus the poorly-remembered details. Total coincidence that it was posted here today. Unless someone here read one article and was inspired to post the other :) reply rawling 1 hour agorootparentOh yeah, I didn&#x27;t mean you! replydclowd9901 2 hours agoprev [–] I have an 83 Land Cruiser and knew immediately what the problem must have been related to from the outset. It actually has a fan that will kick on when the engine is turned off and the car parked to blow on the carburetor and cool it off.Incidentally, I still don&#x27;t believe a word of this story (at least as it&#x27;s told here). The short delta of time difference between walking _further_ into and out of a store would not have enough impact on the cooling of the engine to make a such a substantial difference as to it starting or not. It simply will not bleed off that much more heat unless this store is a mile long and it&#x27;s an additional 20 minutes to get a different flavor.The only reason I express the doubt over it is because it makes the story a contrivance, which makes it pointless. If the person&#x27;s different activities _actually_ resulted in a significant difference of time the car has been sitting, it&#x27;s likely the owner themselves would be able to easily deduce what could really be the issue. By pretending the issue introduces some very small delta of time, it arbitrarily masks the true cause (which is the entire point of the story).https:&#x2F;&#x2F;www.snopes.com&#x2F;fact-check&#x2F;cone-of-silence&#x2F; reply jerf 2 hours agoparent\"If the person&#x27;s different activities _actually_ resulted in a significant difference of time the car has been sitting, it&#x27;s likely the owner themselves would be able to easily deduce what could really be the issue.\"Oh, I wouldn&#x27;t even remotely bet on that. Even in my professional sphere of programming I&#x27;ve been caught by what I call \"cognitively available\" theories of what the problem is that turn out to be entirely wrong in the end, because the real problem is something I wasn&#x27;t even remotely considering before hand, and possibly even would have dismissed if it had crossed my mind.If you don&#x27;t even know what \"vapor lock\" is, and I assure you this will describe the majority of car owners, why would you think \"time in store\" is the difference?What is cognitively available to this person is that they buy different sorts of ice cream and that causes the problem. It puts the spotlight of cognition on that factor to the exclusion of other things. Even the engineer trying to solve the problem was probably slowed in his investigation by such an appealingly available issue being proposed first; again, I&#x27;ve certainly experienced this in my own professional sphere where someone proposes some explanation that ultimately turned out to be completely spurious, and it takes actual effort to get both myself and my team off of that line of thought. reply PhasmaFelis 2 hours agoparentprev [–] Is that what that&#x27;s for? My Mini Cooper does the same, sometimes. I assumed it was something to do with the engine space being so small and cramped, so the fan had to continue for a bit after shutdown to prevent residual heat from getting to the electronics or something. replyApplications are open for YC Winter 2024 GuidelinesFAQListsAPISecurityLegalApply to YCContact Search:",
    "originSummary": [
      "A customer complains to the Pontiac Division of General Motors about his car failing to start only after purchasing vanilla ice cream.",
      "Upon investigation, an engineer finds the car experiences vapor lock because the engine doesn't have enough cooling time when the man rapidly buys vanilla ice cream.",
      "This incident underscores the necessity of considering all possibilities, even those that initially sound absurd, in problem-solving."
    ],
    "commentSummary": [
      "This forum thread centers around unique technical problems often caused by environmental factors.",
      "It includes varying topics, like a recurring issue of a car not starting and stories of exceptional customer service, although the latter is viewed skeptically by the author.",
      "An anecdote about companies sending engineers to personally resolve customer issues also comes up in the discussion."
    ],
    "points": 500,
    "commentCount": 170,
    "retryCount": 0,
    "time": 1695219252
  },
  {
    "id": 37580141,
    "title": "FAA authorizes Zipline to deliver commercial packages using drones",
    "originLink": "https://www.faa.gov/newsroom/faa-authorizes-zipline-deliver-commercial-packages-beyond-line-sight",
    "originBody": "Access Denied You don't have permission to access \"http://www.faa.gov/newsroom/faa-authorizes-zipline-deliver-commercial-packages-beyond-line-sight\" on this server. Reference #18.3d674d68.1695231137.2c73a1c1",
    "commentLink": "https://news.ycombinator.com/item?id=37580141",
    "commentBody": "FAA authorizes Zipline to deliver commercial packages using dronesHacker NewspastloginFAA authorizes Zipline to deliver commercial packages using drones (faa.gov) 466 points by gok 13 hours ago| hidepastfavorite397 comments Flockster 12 hours agoA video from Mark Rober about Zipline, to get an idea. I was very impressed when I first heard of them.https:&#x2F;&#x2F;youtu.be&#x2F;DOWDNBu9DkU reply nlh 3 hours agoparentQuick tangential question: I watched a few seconds that video and was immediately struck by how Mark sounds so....YouTube&#x27;ey? What is it about his intonation and narration style that is so distinctly YouTube? I don&#x27;t watch enough YouTube to get a sense for whether it&#x27;s distinct to him or to an entire class of popular channels. Every sentence or two is a \"quip\" - it&#x27;s loud and sing-song&#x27;y. Lots of phrases seem to end on a rising tone (my parents used to call this \"upspeak?\" because it sounds like you&#x27;re asking a question? all the time?).Where&#x2F;when did this style arise? reply 0110101001 3 hours agorootparenthttps:&#x2F;&#x2F;www.theatlantic.com&#x2F;technology&#x2F;archive&#x2F;2015&#x2F;12&#x2F;the-l...TLDR: They use various ways of emphasizing words and adding variety to speech. It&#x27;s almost exclusively done in videos where it&#x27;s just a face talking to camera to try to make it attention grabbing.They use Jon Stewart&#x27;s Daily Show as a pre- YouTube example of someone using the same techniques for the same reasons. reply nlh 1 hour agorootparentOh fascinating - great find. Thank you! I like in particular the phrase \"intellectual used-car-salesman voice\" (LOL).ps - for those who are not subscribers: https:&#x2F;&#x2F;archive.ph&#x2F;wkiWt reply 1a_user 1 hour agorootparentprevIt&#x27;s awful. I was impressed by the video and the technology, but the presentation style is irritating.I felt especially sorry for the people working at the Rwanda site just trying to do their jobs efficiently, while he mucks about being fake-excited about everything. There&#x27;s almost an air of \"smile and nod and hope he goes away soon\" about it reply xeromal 1 hour agorootparentI think you&#x27;re reading into it. Mark Rober is one of the good guys. lol reply datameta 24 minutes agorootparentYeah, he&#x27;s a former NASA engineer making some pretty solid community contributions. reply dylan604 1 hour agorootparentprevMy totally made up backstory for why this is is from bad editing in the early days of chopping up multiple takes where the edit does not happen on natural sentence endings so those intonations happen at unnatural places. it then became a thing and now is done in normal delivery as a style to be emulated. reply appplication 3 hours agorootparentprevThis is an interesting observation. I had a similar observation about tik tok influencer speak, though it’s not the same style as YouTube speak. There is a distinct shared way of speaking I’ve just called the tik tok accent (not talking about the AI voiceover). It’s something I’ve noticed mostly with female influencers, where they talk in a lower, quieter voice, that feels both like they are educating as well as perhaps infantilizing the listener. It’s difficult to describe precisely but definitely a shared phenomenon. reply notatoad 19 minutes agorootparentprevMark Rober is one of the big-name youtubers that so many other youtubers try to emulate, so whatever his reasons are, the reason it sounds so \"youtubey\" is probably because it&#x27;s how Mark Rober talks in his videos. reply cosmojg 3 hours agorootparentprev> I cut my finger making lunch? So I placed an order for some bandaids a couple minutes ago? And now they&#x27;re four seconds away! That is a nearly silent drone system that can deliver a package from the sky? Right to my backyard in as little as two minutes? With dinner plate accuracy!Where else do people talk like this? What motivates this kind of speech? reply rtkwe 1 hour agorootparentViewer retention, remember when you were taught to make an interesting intro to an essay to grab the reader? This is just that in video form, to really succeed in getting to the front page&#x2F;trending of Youtube you really have to grab randos who aren&#x27;t necessarily coming to you for your content so it has to have an attention grabbing start. reply marcosdumay 1 hour agorootparentprev> Where else do people talk like this?On TV, but it got out of fashion recently.There&#x27;s a Monty Python sketch about an island full of foreign news reporters that&#x27;s quite illustrating. reply new_user_final 2 hours agorootparentprevYou can ask ChatGPT to make it 500 words intro. It will sound natural, just like, how you talk with your friends. People don&#x27;t want to wait for someone talking something 5 minutes then realize that it&#x27;s not the video they want to watch.The idea is that you want to say everything about the video within 10&#x2F;15 seconds to make viewer interested.Just like how you want that the title of HN story must be under 80 character, not 800. Do you start conversation with someone by saying 80 words then go on for 30 minute? reply waldothedog 3 hours agorootparentprevCan’t say for sure where it comes from. But upspeak and it’s tangential culture does more psychic damage to me than advertising, “bad ux”, dubious business models, and most of the other common gripes on here reply jxramos 49 minutes agorootparentprevthat&#x27;s not bad, upspeak is a great way to label the phonetic dancing being done. For that guy he always talks like that, something in the strong direction of salesman like. Sometimes you can go far back enough in the video history to sample their persona developing over time, eg ChrisFix videos on YouTube have undergone a more muted and normal speech pattern to the more ebullient stuff you find later. reply VoodooJuJu 9 minutes agorootparentprevI think the style arose out of a need to fill a 1-minute video targeted at an audience of low attention-span 13 year olds with 9 additional minutes of CONTENT! in order to meet the length requirement for monetization. If the filler CONTENT! is bombastic and sing-songey, it keeps your attention, however vapid it may be. reply carabiner 22 minutes agorootparentprevAlso noteworthy is that Rober is a really good looking former engineer&#x2F;technician. Most men I&#x27;ve known in the field do not have such as mediagenic appearance, but he is attractive enough that people accept him as a presenter. reply drzaiusapelord 2 hours agorootparentprevIts the male \"comedic\" friendly voice.Essentially its a learned affectation to come off as approachable and unthreatening (see also Jimmy Fallon) to garner views. Read a \"boring\" technical article at Ars or watch this guy fumble around and be silly and give these practiced big smiles? A lot of people would rather watch a 20-30 minute video that&#x27;s entertaining and lower information than read a 5 minute article thats denser.Essentially this is blogspam in video form and it makes a lot of people very wealthy, so its not going away anytime soon.As someone who loves the arts, but can&#x27;t get into youtube personality culture, its just so crazy to me people watch these things. They&#x27;re a bit infantlizing to me. \"Oh you want to learn about these drones? Instead of proper sources here&#x27;s some guy who will pretend to be your friend and do silly comedic things for you while explaining it to you on the 5th grade level.\" Umm ok.The most positive thing I can say is that there are people out there who can&#x27;t read well (or read English at all) or can&#x27;t learn from reading well, so these videos can be seen as helping a vulnerable demographic in an accessibility-like way. It may also attract younger people who otherwise would never read an Ars or Hackaday or HN (or whomever) article because these outlets are just not super accessible to them (unknown site to them, written on a too low level, etc). And that these video personalities could be a stepping stone into better and deeper media.Essentially media is a free capitalist market and people choose their media sources, via their own biases and limitations. If they want everything explained to them via a Jimmy Fallon impersonator, then it will happen. Eventually the lowest common denominator demands questionable gimmicks and the market is more than happy to oblige. reply mptest 2 hours agorootparentPersonally, as someone who does enjoy youtube but also relates to the grating nature of over \"blogspammy\" content, I think the key is I&#x27;m rarely if ever only watching a youtube video. Audiobooks&#x2F;podcast when I can focus, youtube videos when I can&#x27;t&#x2F;doin something else. Can tune in and out easily and mostly not miss most stuff as I&#x27;m scrolling elsewhere.Great analysis though, \"blogspam\" in video form is a fantastic metaphor for the over produced algo gamey vids. (Perfect length to hit max ads, thumbnail, title, intro template, etc) reply nomilk 11 hours agoparentprev> when your lunch only weighs a few ounces, delivering it in 2-ton gas powered vehicles is wildly inefficientSeems absurd when it&#x27;s put like that. This is possibly something we&#x27;ll look back on and struggle to comprehend how it was ever the go-to solution. reply bnegreve 11 hours agorootparentThe size of these vehicles is certainly absurd, but flying packages with drones that consume most of their energy to fight gravity does not seem particularly efficient either, (e.g. compared to small road electric vehicles with the same payload, which would have its own practical problems). reply jcims 5 hours agorootparentSure but there&#x27;s a tradeoff with ground transport. A drone can make the trip with much shorter traveled distance and potentially higher speed, resulting in higher utilization per vehicle. It also doesn&#x27;t interfere with road traffic, which could have externalities in longer idle time for other vehicles at intersections and whatnot.Both are better than Garret in his 2007 Ford Explorer driving around town all day delivering timbits and tacos. reply Someone1234 5 hours agorootparent> resulting in higher utilization per vehicleA van can hold thousands of 2-ounce packages, whereas a drone can hold one. If you look at it in terms of a one-package utilization rate, a van has over 100% rate, because it holds multiple packages, in fact it may have over a 1000% utilization rate using that metric.You&#x27;re essentially wasting tons of energy and resources getting very small packages delivered faster, but in urban setting there are no efficiencies here, quite the contrary. reply LeifCarrotson 3 hours agorootparentI just hope my DoorDash order is not sandwich #9,836...A locomotive would be even more efficient over long distances, carrying 200,000,000 such packages. A containership even more so, carrying more than 20x the capacity of a big freight train, though I don&#x27;t think they have the draft to fit up the drainage ditch behind my house. Nor do I have rails.I jest, but the long tail is a real problem with such efficiency calculations.You&#x27;re right that it&#x27;s never going to make sense to have migrating swarms of drones flying above the interstate carrying packages cross-country, but are real efficiencies here at the individual level:https:&#x2F;&#x2F;www.cell.com&#x2F;cms&#x2F;attachment&#x2F;4b8da4bb-42c2-4b91-baf2-...Graphic from https:&#x2F;&#x2F;doi.org&#x2F;10.1016&#x2F;j.patter.2022.100569. reply lttlrck 4 hours agorootparentprevThis is why I don&#x27;t feel bad ordering smaller items from Amazon when I could drive across town and get it myself.But Uber eats and DoorDash are a reality, and I would pay someone to pick something up for me from Home Depot within the next hour. Services like Zipline have the potential to help out there. reply jcims 2 hours agorootparent>This is why I don&#x27;t feel bad ordering smaller items from Amazon when I could drive across town and get it myself.I&#x27;ve long thought this. UPS isn&#x27;t driving from the hub to my house to deliver a package, 90% of the incremental driving distance is the length of my driveway. reply tnel77 4 hours agorootparentprev>>A van can hold thousands of 2-ounce packages, whereas a drone can hold one.In a perfect world, yes. In reality, no. You would need a perfect storm of a huge wave of orders all to the same restaurant (or cluster of restaurants) to be delivered to the same neighborhood to ensure timely delivery so the food was hot and the customers were happy. In real life, you are almost guaranteed to never hit the ideal conditions.Edit: After re-reading your comment, I’d agree with you for the non-food deliveries. My comment was obviously focused more on the UberEats use case. reply hypertele-Xii 5 hours agorootparentprevClear example: Hospitals have helicopters, but most patients are still moved using vans. The helicopter is faster (when patient&#x27;s life is acutely ending), but prohibitively expensive to utilize for every patient. reply janosdebugs 4 hours agorootparentThat example doesn&#x27;t quite hold up. A helicopter is roughly the same size and weight as an ambulance and needs to transport a whole bunch of equipment. If we could get a Zipline drone to drive on the street, it would be vastly more efficient than its airborne brethren, but our infrastructure isn&#x27;t set up for that. reply dgacmu 4 hours agorootparentIt&#x27;s also a lot more dangerous, both for the patient and the flight crew. It takes a pretty critical need to offset that. reply marcosdumay 1 hour agorootparentprevYou&#x27;ve got the answer, but just to point the problem with your comment from another point of view...No, last mile delivery is made package by package. If you place 100 packages in a van and go delivering them, you will make 100 mostly independent trips, just carrying all the packages at once.That&#x27;s why those are very often done by motorcycle.But indeed there is often a highly correlated trip segment. The Amazon&#x27;s model of running a van into your neighborhood and distributing things there by drones may make sense. It doesn&#x27;t make sense for Uber Eats business model, but it makes sense for Amazon. reply cosmojg 3 hours agorootparentprevThat&#x27;s why I exclusively order my food delivery via container ship! reply dwighttk 5 hours agorootparentprevGarret’ll get there in a hurricane though reply wolfram74 4 hours agorootparentI was raised to consider ordering takeout in truly awful weather as pretty rude. reply crazygringo 4 hours agorootparentI realize that has good intentions, but it&#x27;s actually terrible advice.Delivery drivers are paid basically solely with your tips.If you don&#x27;t order, they don&#x27;t make any money that day.If you want to be nice, order that delivery, but tip more.Bad weather is actually their favorite because people tip more. reply philsnow 3 hours agorootparentThere might be different ideas of what makes “bad” weather.Some Californians think that any weather at all is bad, and some midwesterners think “there’s no such thing as bad weather, only wrong clothing”.I wouldn’t hesitate to order delivery if it were raining or snowing, but maybe in this world there are people who would still order delivery during a tornado warning (because that way they don’t have to risk driving during a tornado). reply crazygringo 1 hour agorootparentThe responsibility is not on you as a consumer.If it&#x27;s genuinely life-threatening out, an actual tornado warning, then nobody&#x27;s delivering in the first place. You can&#x27;t order delivery even if you want.It&#x27;s up to the business and driver (or mayor ordering all non-essential vehicles off the road). Not you. reply randmeerkat 4 hours agorootparentprev> I was raised to consider ordering takeout in truly awful weather as pretty rude.What’s more rude? Ordering takeout in bad weather, or not ordering takeout and indirectly punishing the delivery driver’s livelihood whenever the weather is bad..? reply purpleflame1257 3 hours agorootparentprevTimbits and Tacos sounds like an amazing D&D parody. reply reacweb 7 hours agorootparentprevThe existence of migratory birds proves that the loss of energy due to the Earth&#x27;s gravitational pull is not so catastrophic. A vehicle in motion also loses energy because of the friction of the wheels. Above a certain speed, air friction becomes the most significant loss. The comparison of the energy balance of a vehicle on the road compared with a vehicle in the air is not as clear-cut. Vehicles on wheels are much heavier and require infrastructure (roads) that must be taken into account. reply abtinf 7 hours agorootparentYou may have noticed that migratory birds have a somewhat different mechanism of flight than typical drones. reply singularity2001 7 hours agorootparentzipline has wings reply tyingq 7 hours agorootparentThey do show that: https:&#x2F;&#x2F;www.flyzipline.com&#x2F;technology (scroll down, it first shows the thing that it drops, rather than the drone itself.)Lots of CGI and notices about \"simulated\" though. The videos that appear to maybe be real show something that does have wings, but looks too small&#x2F;light&#x2F;thin to carry much around. reply Philip-J-Fry 6 hours agorootparentThe ones they are currently using in Africa are normal drone planes. They drop their payload without stopping though, so the payload has to be packed securely and nothing that can break easily. So it&#x27;s used for medical supplies. This what Mark Rober&#x27;s video was about.If they were to create a drone that can deliver arbitrary packages, then it needs to be able to lower a package safely. That&#x27;s what those renders are, they show a typical multi-rotar drone with small wings. So it can stop and lower a package. I don&#x27;t think there&#x27;s any real footage of these yet. reply Ancapistani 2 hours agorootparentThe concept of a fixed-wing VTOL UAS is well-tested, though. They’re not as simple as a quad or a “native” fixed-wing, but well within reach of a motivated hobbyist. reply bigfudge 4 hours agorootparentprevHe shows the proposed new model in that video too though, not just the drone planes. reply sllabres 5 hours agorootparentprevCame here to say that (i think their operations in Africa are quite impressive) but it seems as their \"Zips\" are a different kind of breed and more like a drone than a plane. reply zitsarethecure 5 hours agorootparentprevYes, but how does the airspeed velocity of an unladen swallow compare to that of one delivering a coconut? reply da39a3ee 7 hours agorootparentprevIf you were to ask a migratory bird, they&#x27;d tell you that it&#x27;s fairly tough. You have to put on enough subcutaneous fat to double your body weight, and then do it knowing that either you or some of your friends and family will die. reply hef19898 6 hours agorootparentAlso, with global warming and stuff, if possible those birds migrate less. reply shrubble 5 hours agorootparentThere is no evidence to support this statement. reply hef19898 5 hours agorootparentPlenty ofnevidence, of e.g. geese, migrating tonplaces further north. But surey birds don&#x27;t exist anyway. reply da39a3ee 5 hours agorootparentPlease provide your sources for the effect of climate change on bird migration. reply lancesells 4 hours agorootparentHere&#x27;s one of many: https:&#x2F;&#x2F;climate.nasa.gov&#x2F;news&#x2F;3201&#x2F;climate-patterns-thousand... reply shrubble 4 hours agorootparent&#x27;may in the future &#x27; basically... replydgacmu 4 hours agorootparentprevIt&#x27;s been studied; drones are somewhat better: https:&#x2F;&#x2F;www.nature.com&#x2F;articles&#x2F;s41467-017-02411-5E-bike courriers are probably better still but drones are probably faster if you can make them work.A lot depends on the delivery pattern, of course. reply myself248 3 hours agorootparentNice thing about drones is they&#x27;re unlikely to kill anyone if they crash, and they&#x27;re not sharing the roads with cars in the first place.In some places, bikes are first-class citizens of the road, but in other places they&#x27;re very much not respected and riding one is tantamount to suicide. Every single cyclist I know, when they meet another cyclist, immediately asks about gnarliest injuries and they compare scars like dogs sniffing each other&#x27;s butts. And in the past 20 years I&#x27;ve lost more friends to cycling fatalities than any other cause of death.I&#x27;ll take the drones, thankyouverymuch. reply pontusrehula 7 hours agorootparentprevWhere I live we can get deliveries by starships https:&#x2F;&#x2F;www.starship.xyz&#x2F;. The vehicles are kind of cute when you see them in action. reply mb_72 6 hours agorootparentThey&#x27;ve been working on those things in Tallinn for years, and I&#x27;ve only ever seen them operate in a very limited area, and even then it&#x27;s not unusual to see them seemingly stuck at the nearby rail crossing. Meanwhile a human on a Bolt scooter ate their and their investor&#x27;s lunch IMO. reply kwhitefoot 3 hours agorootparentprevThey&#x27;ve been using them in Milton Keynes too: https:&#x2F;&#x2F;www.theguardian.com&#x2F;uk-news&#x2F;2020&#x2F;apr&#x2F;12&#x2F;robots-deliv...Also DPD piloted something similar in Milton Keynes and is now going to do it i ten towns in the UK: https:&#x2F;&#x2F;green.dpd.co.uk&#x2F;news&#x2F;16 reply stevekemp 7 hours agorootparentprevThey do look cute, I remember being completely taken-aback the first time I saw one in the wild - I had to resist the temptation to stand in front of it, to see what would happen.Though I did wonder how they&#x27;ll cope in winter-weather. I can&#x27;t imagine they&#x27;d do so well on snow&#x2F;ice. reply kwhitefoot 3 hours agorootparentBut there are plenty of places that don&#x27;t have much snow and ice where they should be perfectly practical. Ice shouldn&#x27;t be a problem, they could swap to studded tyres in the winter just like we do for cars here in Norway. Snow would be a much bigger problem though I agree! reply NikolaNovak 6 hours agorootparentprevOk that seems like far more practical idea reply throwaway94250 5 hours agorootparentThey seem practical until you realize how easy it is to steal one. reply bombcar 4 hours agorootparentThe starships on the road are free you can just take them I have 458 starships.Those wheels look moderately impractical- larger wheels might have more clearance.Reminds me that we had pneumatic tubes and miniature railways between buildings a century ago. reply crooked-v 10 hours agorootparentprevThe actual harm from the drone&#x27;s wasted energy is pretty negligible aside from the waste heat itself, though, as compared to the many, many side effects of road vehicles of any kind (for example, just starting with the air pollution from tire particles).Of course, that equation changes a bit once there are enough drones that noise pollution and collisions or other incidents become a real issue. reply algas 10 hours agorootparentNoise pollution and collisions are a much, much larger problem with cars, since they&#x27;re constrained to two dimensions while drones can use three. Plus, cars tend to kill people when they collide with each other (or with pedestrians), and drones would not. Hopefully they will all use engineered quiet propellers (such as Zipline uses) and electric engines (similarly). reply fragmede 9 hours agorootparent> Plus, cars tend to kill people... and drones would not.I think this is an good move by the FAA, but I also think that if one of these airplanes flew right into my head at full speed, I&#x27;d die. reply bombcar 4 hours agorootparentPeople are ingenious at getting killed, and birds can do it so eventually if we have enough drones someone will die to one.However, much mini deliveries could be done with vehicles smaller than a full size car - and places where it is common you see lots of mopeds and similar.People still can die to them. reply brandensilva 6 hours agorootparentprevIt seems like a drone falling out of the sky could still kill people. It just seems less likely to us because there aren&#x27;t as many right now to worry about like cars.I like these devices for use for medical supplies but do worry how polluted the skies could become when multiple companies are flying these things for standard packages. reply bombcar 4 hours agorootparentprevDrones schmones.Miniature zeppelins is where it’s at. Bouyancy to just below negative so very little energy needed to lift the device. reply m4rtink 4 hours agorootparentIt is still a trade-off - you end up fighting drag, potentially for much longer than a regular drone. reply rini17 4 hours agorootparentprevThere are other things you need energy for. Such as overcoming wind and rain. reply concordDance 9 hours agorootparentprevIdeally you&#x27;d use little remote controlled electric cars, but driving on the ground is a MUCH more complex problem. reply amelius 9 hours agorootparentWith a sufficient number of drones in the air simultaneously, this becomes a far more difficult problem. reply marcosdumay 1 hour agorootparentOnly on places where they concentrate. It&#x27;s not really flying that is difficult, it&#x27;s approach and take-off, because they have to go through all of the heights. reply BurningFrog 8 hours agorootparentprevBirds are pretty dumb on average, and handle it really well. reply c22 7 hours agorootparentBirds are not that dumb and compared to drones they&#x27;re Einstein. reply hef19898 6 hours agorootparentSpecialized in flying, including eyes and brains, at that!Autopiloted is much easier than cars because air space is less crowded with less obstacles and extremely well controlled. Low flying delivery drones don&#x27;t fall in that bucket. reply kwhitefoot 2 hours agorootparentLess crowded now. But if they take over all those deliveries that are going on now the sky will get quite crowded and I suspect we will see people asking for no fly zones and for drones to be constrained to fly along roads instead of low over people&#x27;s gardens. I certainly don&#x27;t want hundreds of drones flying over my garden every day. Something like 35 million people in the UK buy something online every week, that would be a lot of drones. If you imagine that there is a distribution centre for every 50 000 people in the UK, that&#x27;s roughly 1 500 distribution centres each with over 3 000 drone flights per day.I realize that this is a very rough calculation and that of course there would be large variations in flight frequency but no one else seems to be showing anything better.I don&#x27;t think I would want to live near one. reply BurningFrog 1 hour agorootparentWith thousands of drones crossing the city sky, there would have to be some kind of system to organize that traffic, both to minimize collisions and sound pollution.It&#x27;s not hard to imagine how systems like that could be organized.It&#x27;s also important to consider how many road vehicle trips this would replace. reply sverhagen 6 hours agorootparentprevBirds aren&#x27;t real. Google it, \"do your own research\"! reply bombcar 4 hours agorootparentprevBig sky theory falls apart near airports already, and a crowded drone filled sky would have issues especially with unexpected weather. reply heylook 9 hours agorootparentprevOnly if you assume there is no regulator or shared protocol. reply amelius 9 hours agorootparentAnyway, I guess the main problem is that most people will not want a sky full of drones just so that some random Joes can get their stuff from Amazon or AliExpress a little sooner. reply m_fayer 7 hours agorootparentIf the skies fill with drones while traffic jams ease, there’s less double parking for delivery, and streets generally start looking more airy, people may make the association. reply bluetech 5 hours agorootparentThat&#x27;s not going to happen. Check out \"induced demand\". reply hef19898 5 hours agorootparentOtherwise as selling dollara for dimes. At least in the last VC bavked iteration of it. reply wuiheerfoj 7 hours agorootparentprevI imagine people felt the same way when cars were popularised, but we‘ll get used to the convenience reply amelius 7 hours agorootparentThis time it&#x27;s different because we know where it might lead to. reply tinsmith 8 hours agorootparentprevHistorically speaking, tech is relatively unregulated and protocols are all over the place. I&#x27;d say it&#x27;s a safe assumption. reply ptman 7 hours agorootparentprevhttps:&#x2F;&#x2F;www.starship.xyz&#x2F; reply bluescrn 6 hours agorootparentIn a crime-free utopia, they could be useful. Or maybe within a large corporate campus type environment.But &#x27;on the streets&#x27; in the real world, they&#x27;re just targets for vandalism and theft. reply falcor84 4 hours agorootparentCouldn&#x27;t that be said about humans? As I understand it, once upon a time in some parts of the world, walking alone unarmed could get you abducted and sold into slavery. But then we decided as a society that we want to have this \"Human Rights\" thing and now most of us feel relatively safe about other people on the street not randomly abducting or assaulting us.So I&#x27;m just not getting the argument for why we can&#x27;t trust humans to not vandalize or steal robots, especially internet-connected ones that constantly film their surroundings. I for one believe that just like we can learn to be civil to one another, and can also extend our civility to other species (e.g. we generally don&#x27;t go around kicking dogs we see on the street), we can also be civil to robots. reply krapp 4 hours agorootparentIt depends.Somewhere like Japan, with a strong cultural sense of societal cohesion and obligation, it could work.But I live in a country where \"societal cohesion\" and \"obligations\" are considered communist propaganda and our constitution gives us the right to as many guns as we want in case we decide to hunt the government for sport.I mean, this robot[0] make it all the way across the Netherlands and Germany, and only 300 miles into the US before getting beheaded.[0]https:&#x2F;&#x2F;www.cnn.com&#x2F;2015&#x2F;08&#x2F;03&#x2F;us&#x2F;hitchbot-robot-beheaded-ph... reply kwhitefoot 2 hours agorootparentprevThey are already in use in the UK. reply jcims 5 hours agorootparentprevThose look perfect for campus delivery applications. reply prawn 10 hours agorootparentprevOK, what about if our supermarkets are actually really tall buildings, and the drones glide down from the distribution platform on the top floor... reply falcor84 4 hours agorootparentThat sounds pretty much the same as existing \"catolog stores\"[0] like Argos[1] (although your idea is probably a bit more automated).[0] https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Catalog_merchant[1] https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Argos_(retailer) reply XorNot 11 hours agorootparentprevAircraft are more energy efficient then cars[1] at scale. But even a light plane like a Cessna 172 does 13L&#x2F;100KM[2] depending on flight speed. Certainly more then my Prius, but it can take a much more direct route too.There&#x27;s also the simple practical issue: self-driving cars can&#x27;t navigate a complex crowded environment, whereas self-flying planes navigate a much simpler environment with many more regulatory controls on behavior.[1] https:&#x2F;&#x2F;www.sustainablebusiness.com&#x2F;2014&#x2F;02&#x2F;surprisingly-air...[2] https:&#x2F;&#x2F;www.flyouts.com&#x2F;vliegtuig&#x2F;cessna-172 reply two_handfuls 3 hours agorootparentI lost confidence at the very beginning of the article:> In fact, unless you drive a car that gets 33.8 gallons per mile (or carry more than one passenger), new airplanes coming off the assembly line are more fuel-efficientCars typically get about 0.03 gallons per mile, so it’s not even close. reply deely3 10 hours agorootparentprev> Aircraft are more energy efficient then cars[1] at scale.Some aircraft and definitely not drons for now. reply krisoft 9 hours agorootparentWhat is a drone to you? If you are only thinking about multicopters when you hear that word then yes, those are not efficient and probably never will be.But the term commonly refers to all unmanned aerial vehicles.For example a Global Hawk unmanned aircraft can fly 14,000 nautical miles and remain aloft for 42 hours. They are by definition very efficient. That is a drone.On the other end of the spectrum The Spirit of Butts&#x27; Farm crossed the atlantic with 118 US fluid ounces (3.5 L) of fuel. It was flying for ~39 hour and 1,881.6 mi (3,028.1 km). That is about 2045 mile per gallon if I count it right. That is very efficient, and of course since the aircraft was unmanned it is a drone. reply dwighttk 5 hours agorootparentDo not want what global hawk is delivering reply misnome 7 hours agorootparentprev> For example a Global Hawk unmanned aircraft can fly 14,000 nautical miles and remain aloft for 42 hours. They are by definition very efficient. That is a drone.Wow - this is what they are planning to use to deliver packages? reply itishappy 3 hours agorootparentThey use fixed wing aircraft, yes. reply hef19898 6 hours agorootparentprevIf so, unit economics will never work, regardless of cargo. reply abtinf 7 hours agorootparentprevThese are representative of the kinds of drones and aircraft relevant to the context of this post? reply itishappy 2 hours agorootparentMoreso than the quadcopter you probably have in mind. reply madacol 9 hours agorootparentprevzipline&#x27;s \"platform 1\" is an airplane, and \"platform 2\" is a quadcopter shaped like an airplane. https:&#x2F;&#x2F;www.flyzipline.com&#x2F;technologySo they should have much better efficiency than typical quadcopters reply baq 6 hours agorootparentDepends on perspective. You could say it&#x27;s a glider with a quadcopter bolted underneath for VTOL capabilities. reply cma 10 hours agorootparentprevIf Prius was adapted to run optimally on extremely high octane leaded fuel what could it get? reply bombcar 4 hours agorootparentHigh octane does NOT increase total available power, in fact it reduces it.It enables higher compression so you can get more power per unit of engine weight, but the fuel efficiency per gallon is lower.And the lead is for the valves.You can get more efficient planes but you can’t overcome the need to fight gravity at some point. reply baq 10 hours agorootparentprevThe Prius doesn’t fly, so let’s not repeat the leaded fuel mistake. reply newsclues 5 hours agorootparentprevBikes for local rapid delivery are hard to beat. reply shafyy 8 hours agorootparentprevThis might be news to some people, but there are other modes of transportation &#x2F; delivery than 2-ton cars. \"2-ton cars vs. flying drones\" is a false dichotomy. reply Maken 8 hours agorootparentIndeed, they are ignoring the much more efficient and eco-friendly \"low-paid worker on a bike\" alternative. reply shafyy 8 hours agorootparentThis is a policy problem, not a tech problem. People need to be paid a living wage, period. The lack of this and the subsidizing of delivery fees by VC money has led people to believe it&#x27;s somehow sustainable to sit on your lazy ass, order food and have it delivered within 30 min for next to nothing. Or maybe people know that it&#x27;s not sustainable but just don&#x27;t give a shit. Greedy corporations and unethical people will always exists, that&#x27;s why we need better laws. reply mrd3v0 6 hours agorootparentI&#x27;d say it IS a tech problem as much as it is a policy problem. Technology historically has allowed humanity to develop society in a way that constantly minimises risk, reduces \"hard labour\" tasks, and delegates repetitive \"brainless\" work to computers. Only with technology could these policies come into fruition. Otherwise, we would be effectively shutting down industries completely, and as far as I am aware this rarely if ever happens.I do believe minimum wage should be set at the local living wage standard, and that companies like Uber are exploiting their workers through weak labour laws, but unless the market is much more tightly controlled, in a somewhat-free market (which is most of the world) economy, it is a tech issue. reply shafyy 6 hours agorootparentNo, no. We&#x27;re talking about food delivery here, which is a purely luxury need and market. This is not a problem tech needs to solve. reply rakoo 5 hours agorootparentprevIt is absolutely a policy problem because technology doesn&#x27;t come out of nowhere, is not free for everyone to use, and not anyone benefits the same way.Automating all work, sure. Removing people&#x27;s mean of subsistance (a wage) and keeping the money for yourself, no. In a capitalistic society, technology only helps people if capitalists give away the product of (automated) labour, and that is not what is happening. reply merpnderp 3 hours agorootparentprevIf we want to optimize economic growth with the most powerful force in the universe, compound interest, shouldn&#x27;t we pay people the market rate which is usually some combination of the scarcity of labor and the economic value of that labor?If this rate is too low, then that is what the welfare system is for. Forcing employers to pay a \"living wage\" for jobs that don&#x27;t generate a \"living wage&#x27;s\" economic value simply retards the economy and robs our children of a wealthier future. reply endisneigh 6 hours agorootparentprev> This is a policy problem, not a tech problem. People need to be paid a living wage, periodfalse. no one is forcing these people from taking those jobs (uber eats, grub hub, etc) at the agreed upon wages. tell me how somehow it would be better for those folks if these jobs didn&#x27;t exist at all given that unemployment in the USA is incredibly low. reply Cthulhu_ 6 hours agorootparentprevOr the even more efficient and eco-friendly \"make and bring your own lunch\", but somehow this isn&#x27;t considered, instead it&#x27;s a long thread of drones vs cars vs mopeds and low-wage delivery people. reply wongarsu 7 hours agorootparentprevOr low-paid worker on a moped, which is very common around the world, though maybe less desirable in America&#x27;s suburbia.Also low-paid worker sounds strictly better for employment than autonomous drone. reply amenghra 6 hours agorootparentprevBut you have to take into account the low-paid worker’s environmental impact! You can’t beat an autonomous EV’s eco-friendliness. &#x2F;s reply pxndxx 4 hours agorootparentprevAre delivery people that drive cars that well paid? reply moffkalast 3 hours agorootparentprevStarship robots come to mind as well. reply jcims 5 hours agorootparentprevAs with everything, that greatly depends on where you live. reply shafyy 5 hours agorootparentSure, but I&#x27;d wager most of food delivery happens in cities, not in rural areas. We know how to build pedestrian and bike friendly cities. reply ghaff 3 hours agorootparentI don’t even really Live in a rural area and there may be a few fast food options but there’s nothing I’d want delivered. There are things I can go out and pickup in 15 minutes or throw together at home that I’d rather do.In general barring difficulty in leaving the house food delivery seems awfully optional. reply JKCalhoun 5 hours agorootparentprevMaybe we should be asking why we order a few-ounce lunch at all?There was a time when ordering lunch was reserved for when you were already \"on the town\" shopping and the like.Even debating what mode of transportation should be used seems to miss the larger issue and is even kind of gross to my mind. reply sotix 3 hours agorootparentAgreed. Something I commonly observe, which I’m guilty of too, is getting so excited about technological innovation that we can’t see the forest for the trees. I get that the idea of being able to order a sub sandwich on a whim and have it delivered directly to you via a drone is really cool, but why not plan ahead and bring it with you? One could also go to a sandwich shop next to where they work. My coworkers and I would walk to the sandwich shop next to our office once per week when I still worked in an office. Seems remarkably less wasteful and more efficient all around.I don’t see it ever happening, but I’m not even sure we need package delivery available for anything every day of the week. If we limited it to once per week for bulkier items (such as large furniture), we could reduce a lot of waste and traffic. Rather than deliver tiny lunches via drone, perhaps we should reconsider the greater idea of ordering objects. As someone without a car in a car-dependent city, it’s certainly on my mind.And this doesn’t expand into societal implications of ordering everything without interacting with other humans. That’s perhaps a more interesting conversation! reply Cthulhu_ 6 hours agorootparentprevSpeaking as someone who just goes downstairs and makes a sandwich, or who takes some to work, ordering lunch seems absurd to me. Is it that cheap in the US &#x2F; do you earn that much? Food culture is so weird over there. reply blincoln 4 hours agorootparentIt&#x27;s not cheap. When I still worked in the city, I was always blown away by how much of their salary most of my coworkers were willing to spend on restaurant lunches every day.Typically I would expect a restaurant lunch in a major city in the US to cost $20-$40 per person after taxes and tip.[1] So, essentially $5,000 - $10,000&#x2F;year. This was for people with salaries running from about $50,000 - $200,000 before income tax, so something like 7% - 20% of their after-tax income.Making a lunch and bringing it instead should be less than half of that, especially if one makes extra food for dinner and brings the leftovers for lunch the next day, but I guess a lot of people actively dislike cooking for themselves.A decent amount of tech workers also get dinner at restaurants nearly every day, which is of course even more expensive.[1] Excluding inexpensive franchises like McDonald&#x27;s, Burger King, Wendy&#x27;s, because my coworkers typically did not get lunch at places like that. reply ghaff 3 hours agorootparentWhen I worked in the city Chinatown was pretty cheap but I agree in general. Going out every day, especially for a reasonably healthy lunch, adds up. reply diydsp 6 hours agorootparentprevI see a dichotomy... many colleagues bring lunches to work in e.g. glass microwaveable containers, but many have an \"ick\" abt prepping their own food. A huge \"tax\" on the lazy. reply TheCoelacanth 1 hour agorootparentprevCompared to the richest countries like Norway or Switzerland it&#x27;s cheap.Compared to everywhere else, Americans make more. reply Retric 3 hours agorootparentprevDelivery vehicles for packages aren’t traveling very far between stops. A 2 ton vehicle dropping off 200 packages on a 100 mile delivery route is averaging 0.5 miles per package and 0.125 kWh where a drone might need to fly 15 miles each way per packages = 30 miles to and from some central hub to do those same routes. Drones are light, but 0.125 kWh to fly 30 miles seems unlikely.Food delivery might be a better comparison, but 2 pizzas and a 2 liter soda is heavy enough to need a fairly massive drone. reply moffkalast 3 hours agorootparentThe drone would still be the better option. Electric motors and propellers don&#x27;t produce any pollution, unlike combustion engines and&#x2F;or car tyres.And of course the obvious part where it removes hundreds of thousands of vans from already massively congested road traffic. The skies remain mostly unused. reply Retric 3 hours agorootparentDrones aren’t necessarily electric, and cars can be EV so that doesn’t favor one over the other.Pollution wise you need to consider the lifecycle of a drone which is likely far worse than a van. Many drones are using very dirty small internal combustion engines. Safety wise replacing 1 van with 30+ heavy drones each traveling far more could easily favor the van. reply bitcharmer 3 hours agorootparent> Drones aren’t necessarily electricThat&#x27;s very interesting. What are current (commercially viable) alternatives to electric drones? reply myself248 2 hours agorootparentJust search \"drone engine\" or \"UAV engine\", there are tons of fuel-powered engines (many optimized for JP-8 since the military likes to be single-fuel) made for planes of various sizes.The larger ones tend to have an electric generator to power the control surfaces, smaller drones tend to carry a battery for that and use the engine solely for forward propulsion.This is for fixed-wing only, so it would apply to Zipline P1 but not P2, by the way. There have been some engine-over-electric setups to run multirotors from a single powerplant, but it&#x27;s generally awful. It may or may not work for hybrid architectures like a quadplane, or a single-engine-VTOL like a tailsitter, all these things are in active development. reply Retric 3 hours agorootparentprevGasoline or kerosene seem to be popular in R&D projects. Read up in the Nitro Stingray or Yeair Hybrid Quad. reply moffkalast 3 hours agorootparentprevAny solution that isn&#x27;t a stopgap is necessarily electric given climate change, and while EVs do reduce CO2 emissions they increase particle emissions from heavy tyre use by 20% (given their massive weight), which is arguably even worse for residential use. Anything that is in contact with the ground will produce some kind of particle pollution. reply Retric 3 hours agorootparentThe extremely limited flight times and weather conditions you get from electric drones means large scale drone deployments will likely require small internal combustion engines and all the associated pollution from that. Some hybrid approaches where a land vehicle uses fully electric drones for drop off have been prototyped, but they don’t reduce tire ware.Longer term it’s more debatable but we hand waving delivery drones as completely pollution free when we don’t know what from they would actually take is simply wishful thinking. reply moffkalast 2 hours agorootparentTo be clear I&#x27;m talking about zipline&#x27;s specifically designed delivery VTOLs, not your average consumer quadrotor. I wouldn&#x27;t call over an hour and a half an \"extremely limited flight time\" and 50 miles is enough of a delivery range to make it operable from whichever restaurant&#x2F;warehouse is making the delivery. And that&#x27;s just today&#x27;s tech. reply Retric 52 minutes agorootparentOk, I see your confusion.Zipline 2 has a 10 mile range and is VTOL though they’re aiming for a long wire for delivery rather than landing. https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Zipline_(drone_delivery_compan...Zipline 1 does have an 50 mile range but it isn’t VTOL they use fixed wing and have a launching system and a net to catch drones. Packages are dropped at 100 feet while the drone is flying at high speed requiring a parachute and a 5 meter wide landing zone which makes it undesirable for large scale adoption. replynobrains 7 hours agorootparentprevIn the so called \"developing\" countries, delivery app deliveries are mostly on light motor bikes and even ebikes. reply pastage 5 hours agorootparentAccording to zipline[1] it is still better than motorcycles at least. Considering we are talking about 100km, I would not consider a bicycle an option for such small packages.That said for me delivering a package by bicycle+ train + bycycle is an option but it will always be more expensive unless you can stand long delivery times.[1] https:&#x2F;&#x2F;www.flyzipline.com&#x2F;newsroom&#x2F;stories&#x2F;research-insight... reply paxys 1 hour agorootparentprevDelivering single boxes of lunch in two ton vehicles isn&#x27;t really common anywhere in the world outside of the US and maybe a handful more countries. reply dahart 2 hours agorootparentprevAt least a delivery vehicle is amortizing by delivering multiple lunches to multiple people in a single trip. When someone drives themselves to lunch, they’re using a 2-ton vehicle for a single lunch. reply akmittal 6 hours agorootparentprevMost of the work use mopads&#x2F;motorcycles for delivery. A lot more efficient than cars.Here in India a lot of delivery services moved to electric 2 wheelers reply walleeee 3 hours agorootparentprevSingle meal delivery as an institution is wildly inefficient. The absurd inefficiency of the car as delivery vehicle does not make drones a meaningfully wiser choice.For every proposed technology, we need desperately to ask: does this really make ecological sense?Delivering necessities (e.g. medicine) to a remote township with a drone makes sense. Drone-drop pizzas do not. reply marcosdumay 1 hour agorootparentprevTo be fair, it&#x27;s almost certainly delivered by a motorcycle.But that&#x27;s still hundreds of kilograms. reply 6stringmerc 5 hours agorootparentprevNow if only robots could make the lunches too. Or wait, just replace the humans in need of delivery with robots or AI. Disruption! reply RC_ITR 59 minutes agorootparentprevSorry for being an annoying biker - but only if we built communities where deliveries could happen on human-poweredLowering from the body of the Platform 2 Zip, this little droid uses onboard perception to leave packages exactly where they&#x27;re supposed to go, whether that&#x27;s a doorstep or patio table. reply RichieAHB 10 hours agorootparentWhile that is true for Platform 2 drones, from reading this article [1] it seems the ruling currently only applies to Platform 1 drones (ie. the specs I was referencing). Although it does seem like the Platform 2 drones would be more of what you’d imagine for drones dropping consumer packages in the US. And that article goes on to state that this ruling seems like a jumping off point for securing further exemptions (ie for the Platform 2).[1] https:&#x2F;&#x2F;dronedj.com&#x2F;2023&#x2F;09&#x2F;19&#x2F;zipline-earns-faa-bvlos-exemp... reply martincmartin 4 hours agorootparentprevThe FAA release is very short, only 3 short paragraphs. The third sentence is:Zipline is an FAA-certificated Part 135 operator and will use its Sparrow drone to release the payload via parachute. reply throwfaraway398 10 hours agoparentprevWith these specs, I wonder if some countries military wouldn&#x27;t be willing to offer them more money than they could ever make with deliveries... (At least on a per-drone basis) reply fragmede 9 hours agorootparent1.8kg isn&#x27;t much of a payload, nor is a 5m diameter very accurate for military use. reply some_random 3 hours agorootparentSpend 5-10 minutes on twitter watching drone footage out of the Ukrainian war, both sides are getting a lot of work done with less accurate, smaller payloads. reply e12e 3 hours agorootparentprevThe traditional M18A1 Claymore mine weighs about 1.6 kg total and has optimal effect to 50m in a 60 degree arc (potentially lethal to 250m I think - Ed: \"moderately effective up to a range of 100m ... fragments can travel up to 250m\"). reply ranting-moth 8 hours agorootparentprev1.8kg of high explosives and shrapnel. That&#x27;s a total havoc in a 5m diameter.And the safe zone does not start at 6m. reply BurningFrog 8 hours agorootparentprevIt&#x27;s 2-5 hand grenades. reply true_religion 7 hours agorootparentMost of the time if you&#x27;ve decided to go the &#x27;air superiority&#x27; route, then you&#x27;re in a traditional war. So I feel that the cost-value factors will still favor dropping larger ordinance from much larger drones. reply op00to 6 hours agorootparentHave you watched any of the drone footage from Ukraine? They are dropping hand grenades and modified mortar shells into tanks from drones. Mortar shells have about 500g of HE. Highly effective. reply true_religion 2 hours agorootparentI guess I was thinking about it from the point of view of a large industrial power fighting its equal.Ukraine vs Russia seems more asymmetric. For instance, Russia can be an existential threat to Ukraine, but the positions can not be easily reversed since Russia has nuclear weapons. While they wouldn&#x27;t want to deploy them, they&#x27;d rather do that than lose Moscow.Asymmetric warfare makes use of a great number of things, which wouldn&#x27;t be very cost-effective in a battle of equals. For instance all the insurgents that use IEDs to harass checkpoints, would probably rather use factory made air-craft delivered ordinance. reply hef19898 5 hours agorootparentprevAnd yet Ukraine is stopped by old school mine fields... Well, slowed down considerably. It is almost as if everything is a trafe off with benefits and downsides.Drones work until drone-specific AA is developed, and then it will be the same race we see between tanks and anti-tank weapons. reply f6v 2 hours agorootparentIt’s not an ultimate weapon. I don’t know why you judge it as if someone said it was. It’s just that small drones can be extremely effective against personnel and light armored vehicles. That’s why both sides have to use them. reply jncfhnb 4 hours agorootparentprevThe drones don’t interact with the the mine fields, and in fact, are extra useful in this in this situation as they can fly over them. I’m not sure I see the trade off here.Drone specific AA will be very difficult. reply hef19898 3 hours agorootparentWell, a drone doesn&#x27;t help ypu a tiny bit it getting across the mine field. Without that, well, your counter-offensive stalls, drones or not.And for now, anti-drone AA is difficult. But not unsolvable. Jamming, small caliber radar controlled AA guns. Point defense weapons can shoot down cruise missiles and even artillery shells. Applying the same principle at slower drones isn&#x27;t that hard. reply jncfhnb 2 hours agorootparentDrones are immensely helpful in getting across minefields. Being able to attack enemy positions across the field prevents them from being able to safely attack sappers trying to remove the mines.It is much harder to stop a small drone attacking a mobile position than it is to establish a large AA battery that defends against missiles. Missile AA is for protected largely stationary high strategic value targets. Drone AA has to be for small tactical level targets on the go. Way harder. reply some_random 3 hours agorootparentprevYour demands are completely unreasonable, a weapon platform can be extremely effective in its role and not win a war outright. Yeah drones aren&#x27;t magically solving the problem of minefields, so what? reply hef19898 2 hours agorootparentMy point was exactly that: no weapon system is a silver bullet, including drones. And just because something is old doesn&#x27;t make it less useful.And I didn&#x27;t make any demands, not sure how you woupd read that into my answers to a thread started with \"dropping stuff from drones is an attack that cannot be countered\". People didn&#x27;t learn anything it seems, first tanks were obsolete, until Ukraine wanted every single one of them. Then modern AA made fighters and helicopters obsolete, only to be replaced by drones as the latest shit. Those arguments are just cheerleading whatever is en vogue and hyped. reply jncfhnb 2 hours agorootparentI’m not seeing your quote.Tanks being obsolete is… not clear. Tanks vs. western anti tank missiles and drones dropping grenades does feel like a terrible ROI but they are still useful. Russia doesn’t have these things at the same level of efficacy so tanks are perhaps more valuable for Ukraine to have.Helicopters and fighters are in the same boat. They’re useful, but vulnerable and expensive. The thing about drones is they cost $200 to take out weapons that cost up to millions of dollars. reply some_random 47 minutes agorootparentprevYou have absolutely no idea what you are talking about, tanks, fighters, and helicopters are not obsolete by any stretch of the imagination. reply hef19898 10 minutes agorootparentThat&#x27;s why I always said the opposite. Internet, media and pundit opinion on the other hand...jsight 3 hours agorootparentprevThis doesn&#x27;t negate the comment that you are responding to at all. Drones have been most effective in defensive operations, often in concert with mine fields.Offensive is much more difficult, as it needs to be coordinated with ground forces that can be impeded by mine fields. It is also easier for prepared defense lines to stop drones than it is for an offensive operation in the open to defend against them. replymambru 5 hours agorootparentprevhttps:&#x2F;&#x2F;www.engineering.com&#x2F;story&#x2F;can-swarms-of-cheap-drones... reply mardifoufs 5 hours agoparentprevI&#x27;m pretty sure Uber is now profitable. Not surprising considering the absurd prices they now charge for delivery. (probably not absurd w.r.t actual cost, but very very far away from the prices that they were charging when they started Uber eats) reply amelius 9 hours agoparentprevAnd what&#x27;s the computer platform they use on board? reply concordDance 9 hours agoparentprevThe most important number isn&#x27;t in your list: noise levelThat&#x27;s what really needs solving for mass drones to take off. reply lathiat 8 hours agorootparentThey actually solved that. Watch Mark Robers video at 13m50s: https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=DOWDNBu9DkU&t=830sHowever this FAA approval is apparently for the Gen1 fixed wing plane (which is quieter than a drone anyway). Their Gen2 \"drone\" design is barely audible. reply bakies 4 hours agorootparentthe same quiet propellers are on both drones reply system2 11 hours agoparentprevStandard brick weights about 2 kg (4 pounds). Plus the drone itself probably another 2 lbs. Imagine getting bonked by a malfunctioning 6 lbs. drone at 200 mph. reply crooked-v 10 hours agorootparentThat&#x27;s already more or less a solved problem with consumer drones: outside a catastrophic mechanical failure like a wing shattering or the motherboars spontaneously dying, the failure state is that the drone either returns to its starting location using GPS, or hovers and waits for manual control until its battery is almost out and then slowly descends while beeping loudly. reply meheleventyone 10 hours agorootparentThe current version of the drones used here and mentioned by the FAA is a fixed wing design though, it’s only the second version that has the ability to hover. A loss of power at low altitude is going to mean it crashes into something. Reading through the links in the article there’s a lot of mention of their Detect & Avoidance system so presumably it can somewhat safely steer through the airspace.I assume given the 5m radius for drops they’re going to be operating in places that mostly have low density though. I’d also assume that they’d plan flight paths to be as safe as possible. reply singularity2001 5 hours agorootparentin the video, it says that they have backup components or everything, and if they fail a parachute activates reply josefresco 2 hours agorootparentprev> That&#x27;s already more or less a solved problem with consumer dronesThe words of a man who&#x27;s never experienced rapid, unexpected, uncontrollable \"drone flyaway\". And yes, I have a modern, very capable drone and I&#x27;m not a complete idiot. Sometimes they just go... crazy. reply XorNot 11 hours agorootparentprevThis device though doesn&#x27;t have the density of a brick, and it is aerodynamic: failure modes wouldn&#x27;t be an uncontrolled freefall, it would be a stable glide.You could fail-safe this by adding parachute pyrotechnics which require an active command signal to not deploy: that way the worst case total electrical failure of a drone would immediately deploy chutes to slow it down.This seems like a much more acceptable control then the failure mode of a car: which weighs 2 tons and contrary to popular belief only stays on roads by convention. reply ericmay 1 hour agoprevVery much not excited or looking forward to drone and aerial vehicle&#x2F;taxi&#x2F;Uber visual and noise pollution.This isn&#x27;t progress, this is selling out our well-being and environment so that a few people can get rich. reply supergeek 1 minute agoparentWing&#x2F;plane drones are substantially quieter than quadcopter drones. I&#x27;m out flying RC with folks all the time and it&#x27;s genuinely hard to hear an RC plane from more than 100 feet away, and these are handbuilt planes flying for fun. reply elil17 49 minutes agoparentprevI also don&#x27;t like how the rich get away with things - but is that the case here? Zipline&#x27;s drones are probably better for the environment than ground vehicles because they are small, light, and electric. They&#x27;re also supposed to operate at 55 dB for people on the ground - similar to how noisy a delivery van is. reply ericmay 32 minutes agorootparentYea I definitely think it&#x27;s the case here. The thing about the delivery van is that it doesn&#x27;t go away, we just add additional noise with the delivery drone. Delivery vans can be made to be electric as well to bring the noise down further and so you actually just get loud drones and quiet delivery vans.But the delivery drones are just one aspect. We&#x27;re also going to get these flying taxis and those are going to suck too. Why invest or pay to maintain roads or highways or to build and improve sidewalks, bike lanes, busses, or rail lines when you can just take your air taxi directly to your landing spot and make sure to avoid contact with any humans along the way.A good lens that you can use to examine this technology is whether the drones and air taxis are additive or subtractive. Good technology tends to be subtractive, i.e. an iPhone replaced a lot of unnecessary things (of course it had some downsides). Sidewalks and bike lanes are another good example of subtractive technology.Additive technology would be something like a heated seat subscription, or these air taxis and drones. We&#x27;re not really improving anything we&#x27;re doing today, we&#x27;re just adding to it. It&#x27;s like feature creep. reply ChicagoBoy11 24 minutes agoparentprevDid you even watch the video? It specifically addresses the noise pollution question, and is one of their very significant engineering feats. Obviously, it is yet to be proven at scale, but if it works as the vision and developments so far indicate, it would be a net reduction in noise pollution compared to our current infrastructure which executes these deliveries. reply ericmay 20 minutes agorootparentIt&#x27;s not just noise pollution, it&#x27;s visual pollution as well. Pretty soon they&#x27;ll attach little advertisements to them and cameras and when they fly by your window as your enjoying your morning cup of coffee it&#x27;ll ID you and slow down a little, track your eyes, make sure you see that Amazon or Costco sells coffee for $14, give you a score, send you an email, and send you a flyer in the mail. They&#x27;ll know when your backyard is in need of watering, and maybe they&#x27;ll even see that your garden isn&#x27;t doing so well and send you ads for fertilizer or alert local gardening companies to stop by and talk about how whatever is really harming your tomatoes and they&#x27;ve got just the solution.Being noisy and annoying is just the very tip of the development iceberg here.Can a delivery driver do some of this stuff today and so why haven&#x27;t they done it yet? Sure. And idk, it&#x27;ll just take time. The UAV platform is going to be a lot better for this kind of nuisance. reply mdmglr 11 hours agoprevI’m wondering if eventually airspace will be carved out for commercial drone operations. And if in the future the FAA will attempt to stop enthusiast drone operations via costly regulations in the name of safety for commercial drone ops. As it’s very easy for someone with a DJI drone from to fly beyond LOS.Also a Walmart in my area has blocked off part of its parking lot to launch 6 delivery drones. I’m going to miss the days of quiet skies. reply bluescrn 6 hours agoparentIt certainly looks like hobbyist drones&#x2F;model aircrafts are going to be regulated out of existence almost everywhere (maybe still permitted at registered club sites, but nowhere else?). Especially now the world has seen videos of weaponised FPV drones in Ukraine.But I don&#x27;t see drone deliveries becoming a big thing outside of niche cases (e.g. medical supplies to remote locations with no easy road access). Payload capacity is very limited, wind&#x2F;weather will ground them, and delivering to arbitrary homes&#x2F;businesses (without dedicated landing&#x2F;drop-off zones) isn&#x27;t a solved problem. Then there&#x27;s the safety&#x2F;liability issues when they drones fail&#x2F;crash. And the inevitability of Americans shooting guns at them. reply mirzap 10 hours agoprevThis reminds me of Uber, Lift, and food delivery companies... Years and decades of VC money poured in, and they still can&#x27;t get profitable. How the fuck anyone can think using drones, with current technology, can be profitable in consumer-centric logistics?Drone logistics has its unique value proposition, primarily for medical transfers and emergency deliveries in remote areas. But thinking that flying drones from city to city, or inside the city, will replace or offset road logistics to deliver someone a book in 50 minutes is just stupid.Does anyone here think Zipline will justify its crazy multi-billion valuation? reply michaelt 8 hours agoparentThings like books are generally in the &#x27;free delivery&#x27; part of the delivery market, where your parcel arrives in a day or two on the back of a truck, and one truck does hundreds of deliveries before returning to the depot to reload. IMHO drones are very unlikely to replace trucks in that portion of the market.But there are also people paying ~$10 per delivery for someone to bring them fast food. Where the driver goes directly from the restaurant to the customer, only carrying a single delivery. They might not need to carry more than 2kg.Of course that depends on it being safe, reliable, legal, having nontrivial range with its full payload, and not damaging the product. reply oldtownroad 5 hours agorootparentThe cost of food delivery is dirt cheap, though, in most places it’s under $5. The reason it’s so cheap is because it leverages existing infrastructure and there’s an unlimited supply of people willing to deliver for below minimum wage. I can place an order for food and have it arrive within 15 minutes because there’s hundreds of delivery drivers just sitting around waiting in any major city, and that system is very flexible, we can have thousands more drivers on the road in minutes if demand surges.For drone delivery to compete with this on cost, it would need to have tens of thousands of drones available in any city. How much does a drone and the infrastructure to operate it cost?Drones benefit from being better over longer distances in cities but otherwise, it’s hard to imagine how they can compete (on price) with a system that is already extremely efficient (at the expense of the people participating in it). reply michaelt 5 hours agorootparent> The cost of food delivery is dirt cheap, though, in most places it’s under $5.I&#x27;m 0.6 miles from Starbucks and right now, a coffee that costs $2.78 in store costs $12.22 if I get it delivered.Of course rather than listing it as a $9.44 delivery fee they just add a few bucks to the price of each item, plus a few bucks small order fee, plus a few bucks service fee, plus a few bucks delivery fee. So I can see why customers might perceive it as costing less than $5. reply ghaff 3 hours agorootparentAnd you probably should tip too. reply mschuster91 10 hours agoparentprev> How the fuck anyone can think using drones, with current technology, can be profitable in consumer-centric logistics?Thing is, many societies are heading for demographic collapse or are already neck-deep in it (Japan). Even if it may be unprofitable now, we (as a society) need to invest serious amounts of money into automating a lot of unskilled labor, because otherwise we will run into disaster. reply mytailorisrich 8 hours agorootparentYou&#x27;re thinking about automation, not drone deliveries.Where those aspects intersect is that it seems easier to build an autonomous flying vehicle than an autonomous road-going vehicle. Of course, drones have their own downsides for deliveries, including cost because of small payload. reply mschuster91 5 hours agorootparent> Where those aspects intersect is that it seems easier to build an autonomous flying vehicle than an autonomous road-going vehicle.Someone needs to carry the parcel from the road vehicle, in contrast to a drone that flies up to the customer&#x27;s window, fire exit or whatever. reply mytailorisrich 3 hours agorootparent> Someone needs to carry the parcel from the road vehicleNope ;)https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=ssrk9bW2xBkDrones are quite similar, actually: unless they can safely drop into your garden they&#x27;ll need some sort of secure storage for you to get your parcel from. They are a number of companies working on this: Basically drone lands on top of a locker station and dumps its cargo into it, then you collect your package with a QR code or similar. Even if drones deliver on the roof of residential buildings I think something like that is needed to keep things safe and orderly. reply jollyllama 6 hours agorootparentprevJapan&#x27;s reproductive stats are not uniquely bad, they just don&#x27;t accept the same level of immigration as other developed countries. reply fragmede 10 hours agorootparentprevto be fair, automating all unskilled labor jobs is likely to be a different sort of disaster, specifically for people unable to perform skilled labor. reply BurningFrog 8 hours agorootparentWe&#x27;ve been automating away labor for 250 years now.It&#x27;s clearly the best thing that&#x27;s ever happened in human history, so far. reply kortex 3 hours agorootparentThe \"we&#x27;ve been automating since the industrial revolution and jobs have adapted\" argument doesn&#x27;t really account for scale. If I skin my knee (~1% of my skin) once a month for five years, that&#x27;s hardly an issue. I might even form callouses. If I lose 60% of my skin to injury at once, that&#x27;s a far bigger situation. reply hef19898 5 hours agorootparentprevIn the long run, yes. Short term consequences can be devastating so. reply Balgair 2 hours agoparentprevGiven what they have been doing in Rwanda with blood delivery, yeah, I do think they have something going here. The tech is &#x27;mostly&#x27; proven to me. The question is one of scale and usage. reply moritonal 10 hours agoparentprevIt&#x27;s about labour. Replacing the salary of a human physically delivering a package will cover any overhead two times over. reply holoduke 6 hours agorootparent2-3 grant for a month of delivering parcels. How many parcels. 500? 1000? Thats 2 to 6 dollars per parcel. Goodluck bringing your costs down to that level with drones. reply hef19898 9 hours agorootparentprevYou don&#x27;t seembto grasp the reality of delibery drivers salaries. Teamsters are the exception, and even they are competively cheap per parcel delivered, otherwise UPS would never have agreed. reply Izkata 3 hours agoparentprev>This reminds me of Uber, Lift, and food delivery companies... Years and decades of VC money poured in, and they still can&#x27;t get profitable.I think it was Uber, I remember reading that one of them would be profitable if they shut down their R&D department and focused on just ride sharing. reply jfoster 8 hours agoparentprevUber, Lyft and other delivery companies require a human to be making the delivery. That&#x27;s the whole point about why this has potential to be more economically sound. reply mirzap 6 hours agorootparentSo you think drones that require recharge (battery replacement) every 40-60 minutes and carry 1.8 to 2kg of cargo will replace a human? I don&#x27;t think so.I believe in autonomous drone delivery, which will probably be a reality one day. But the prerequisite for that is enormous advancement in battery technology. Nothing else matters if you can&#x27;t fly a day or two without recharging. reply MattRix 5 hours agorootparentWhy does that matter once there are enough charging stations and you have enough drones? Once you have enough battery life to do any single delivery and return to a charger, that’s all you need, everything else is just a bonus. reply Spivak 2 hours agorootparentprev> every 40-60 minutes and carry 1.8 to 2kg of cargo will replace a humanYes, and I&#x27;ve seen it work for the already existing road drones. You still need a human to be there swapping batteries but that one human can do the delivery work of probably 50 people based on how fast each swap was. When I toured they weren&#x27;t at the scale where they were continuously replacing batteries so it was only about 10x at the time.The economics that will make or break it is the lifetime cost of the drone, but it absolutely can replace humans. reply fiftyfifty 2 hours agoparentprevI don&#x27;t know about justifying their multi-billion dollar valuation but the killer application of this in my mind is for pharmacies. There are a lot of pharmacies offering same day delivery now for both prescription and over the counter drugs, and a lot of people that need drugs that can&#x27;t otherwise go out and get them on their own. My in-laws get their drugs delivered this way sometimes and it&#x27;s almost always a driver in their personal car that drops off the delivery. I&#x27;m guessing the drivers are only dropping off a few prescriptions per trip, so it&#x27;s likely not very efficient. reply baq 10 hours agoparentprev> with current technologyThey’re literally building new technology reply mirzap 6 hours agorootparentThere is nothing new there from a technology aspect. What part of the drone didn&#x27;t exist 20 years ago? Or 50? But I primarily meant on battery technology anyway. Until you have entirely new battery technology that will be compact, ultralight, safe, and long-lasting (at least a day or two of flight without recharge), drone deliveries will not be profitable.It will serve the niche market, though. But that&#x27;s not a multibillion-dollar market with a bunch of competitors. reply baq 5 hours agorootparentLet&#x27;s see:- silent propeller- advanced computer vision- miniaturised compute power- precise civilian positioning systems- batteries with good-enough densitiesOf those, batteries are indeed the biggest blocker but let&#x27;s not pretend there hasn&#x27;t been any progress in the past 20 years. reply some_random 3 hours agorootparentprevWhy do they need to last a day or two without recharge? Just have charging hubs that swap out the batteries for fresh ones, and now it&#x27;s an optimization problem reply idopmstuff 3 hours agoparentprevUber and Instacart are both currently profitable. reply singularity2001 5 hours agoparentprevThe supply chain proposition in the video is very enchanting, at least for Africa, where it can cut down transport times from days to hours reply singularity2001 5 hours agoparentprevnext [–]multi-billion valuationin which market? reply 14 10 hours agoparentprevI would definitely use the service if it was offered and pay extra to have things delivered. For example say my car breaks down, I am reading codes off the car and it says I need a part. Call parts store and they have it, have it sent over while I finally get a chance to eat some lunch or something. Also I wouldn&#x27;t have to find a ride to go get said part.Middle of cooking dinner and realize you are out of a couple ingredients and they can offer half hour delivery, sometimes it takes 45 minutes in the last city I lived in to get to Walmart. This service would be appealing.This is going to appeal to those who are ultra busy and are willing to spend a little extra to get something delivered promptly without leaving their home. reply 144 more comments... Applications are open for YC Winter 2024 GuidelinesFAQListsAPISecurityLegalApply to YCContact Search:",
    "originSummary": [],
    "commentSummary": [
      "The Federal Aviation Administration allowed Zipline, a drone delivery company, to conduct commercial deliveries beyond visual line of sight, sparking conversations surrounding the practicality, risks, and technological needs of drone deliveries.",
      "Participants showed concerns over potential safety and pollution risks, whilst others believe these issues can be mitigated with proper systems in place.",
      "Drone deliveries are viewed as promising, however, issues such as the necessity for advances in battery technology, fair wage provisions, and sustainable practices need addressing."
    ],
    "points": 464,
    "commentCount": 393,
    "retryCount": 0,
    "time": 1695181343
  },
  {
    "id": 37581132,
    "title": "OpenTF is now OpenTofu",
    "originLink": "https://github.com/opentofu/opentofu/issues/296#issuecomment-1727171446",
    "originBody": "Skip to content Product Solutions Open Source Pricing Search or jump to... Sign in Sign up opentofu / opentofu Public Notifications Fork 200 Star 7.4k Code Issues 78 Pull requests 19 Discussions Actions Projects Security Insights New issue New name for the OpenTF project #296 Closed roni-frantchi opened this issue · 72 comments Closed New name for the OpenTF project #296 roni-frantchi opened this issue · 72 comments Comments Collaborator roni-frantchi commented This is an issue that's meant to be a place where we can consolidate some of the discussions around several issues raised regarding the name of the project/binary. Namely #273 #276 #287 . I'll be closing these issues soon for the sake of having one place to discuss the matter. Naming can be, unfortunately, a little tricky - specifically around Hashicorp trademarks. Our legal team is currently going through the process of clearing some alternatives if needs be, as OpenTF might not be one we will be able to keep. 👍 29 This was referenced Rename 'opentf' binary to 'tf' #273 Closed The Name #287 Closed The branding (logo and project name) is not distinct enough from Terraform's #276 Closed jebotz commented • edited Some criteria for the name... It should a fairly generic term referencing or invoking \"infrastructure as code\". Somewhat in tension with the previous point, it should be distinct enough that it can be effectively googled. It should not use the word cloud... it's about infrastructure, cloud or otherwise. It should not remind of the old name... not only for legal reasons, but also to make a clean break... from here on this the definitive IaC software, not a \"clone\" of the old one. Specific suggestions: Project: OpenInfraCode, with the executable being 'oic' or even 'iac' infrabuilder infratect Magnitus- commented • edited Some quick suggestions from the top of my head: Infode or Incode (merging \"infra\" and \"code\" together) Infrascale (for scaling infra across a large team by codifying it) Devopify or Devopic (making operations more ammenable to devops methodology either as an action or qualitative) Infrascript (scripting your infra) Declarify or Declair (takes on \"declarative\", made it a little French with the second one) Infradev (from the idea of making infra more dev friendly) Scalop or Scalops (scaling operations) Scalator (something that scales) 👍 2 Collaborator RLRabinowitz commented Worth listing anything that should be done once the new name for the OpenTF project has been decided, to migrate the project to the new name: Rename all occurrences of opentf in the code to the new name Replace all occurrences of placeholderplaceholderplaceholder, if those are not yet determined by then (Rename all placeholderplaceholderplaceholder occurrences. #165) Replace the domain names (of the documentation website and the registry) to correspond to the new name Rename the GitHub Organization and Repository to the new name. All links to the repo should still work once we do that @DicsyDel anything else you think we'd need to add here? sylvinus commented • edited If the plan is to keep backwards compatibility, that means keeping .tf files around? I understand the need to stay clear of the old name, but what about something in the vein of \"TransForge\" that would keep being related to the file extension? 👍 5 Contributor marcinwyszynski commented The file extensions are fine. Generally consuming things is perfectly fine. 👍 1 theherk commented • edited Another two great suggestions were terrafork and lunarspoon, though I still think tofu has been the best suggestion, though I can't find where that was made. Short, still has tf matching extension, and doesn't sound like terraform. Edited to clarify my recommendation: tofu 👍 61 ❤ 25 ppabis commented though I still thing tofu has been the best suggestion Voting up for Tofu because Bento But still will throw my thoughts: Gaiamorph - literally Greek paratranslation of Terra-form cTF - Cloud Target/Template Formatter - or anything that goes with this abbreviation 👍 7 ❤ 2 lorengordon commented I like tofu also 😄 ❤ 34 Contributor DicsyDel commented @RLRabinowitz LGTM bsanders commented • edited Since it got a lot of positive reactions, I'm going to pull this one forward from one of the earlier issues: hashbrowns #276 (comment) 👍 6 🎉 1 🚀 1 lens0021 commented • edited tufa: (petrology) A variety of volcanic rock, tuff tafos: τάφος(táphos) funeral rites, burial, funeral, wake. tomb, grave tofus: kind of rock (Latin) tofum: accusative singular of tōfus (Latin) tefra: tephra (geology) The solid material thrown into the air by a volcanic eruption that settles on the surrounding areas 👍 2 pauldraper commented • edited Tofu is silly, but makes for a good CLI. I like Incode. OpenForm is a straightforward option. Think Elasticsearch -> OpenSearch. alex067 commented tofu is unironically kinda great. short / 2 syllabels shortened to tf arguably food agnostic??? ❤ 22 Magnitus- commented • edited tofu is inspired, plus its healthy and good for the environment. Its also self-deprecatingly charming. I think terrafork is great too, but if the goal is to distance ourselves from the Hashicorp offerings, then its not the best in this regard unfortunately. ❤ 15 jebotz commented • edited I think terrafork is great too, but if the goal is to distance ourselves from the Hashicorp offerings, then its not the best in this regard unfortunately. It's not just \"distancing from the Hashicorp offerings\"... it's that we're not the fork, they are. The software we're talking about is an Open Source tool used by and contributed to by a huge community of individuals and companies. We're continuing that, Hashicorp is not. They are the fork... we're the real thing. That's why a name like \"terrafork\" won't do, neither will \"lunarspoon\" or even \"gaiamorph\". We're not the fork, nor an imitation, we're the continuing incarnation of the community. In that light \"tofu\" is not out, but a better choice would a good name that has absolutely no association whatsoever with Hashicorp's product. Let me add here that I have zero anger toward Hashicorp and nothing but respect for the engineers who created terraform and Hashicorp's other very good products. They had the right to make the choice they did, but I think it was the wrong choice, and the enormous momentum behind OpenTF shows that most of the community thinks so too. So we need to take that momentum and use it to make sure that the definitive IaC tool that almost everyone uses in the future is an Open Source one. And for now it seems like that's what's going to happen and in a year's time most people will almost have forgotten that this tool used to be called terraform. So why use a name that would remind them? Hashicorp has made their choice, we owe them nothing. 👍 5 ❤ 7 lens0021 commented I am thinking including \"fork\" in the name is not a sort of good idea, as this project will proceed over just being a fork. 👍 7 aaajhs commented • edited I'd like to throw Rafter out there. Why? Notice how the term is an incomplete, partial anagram of Terraform. We take the core of what Terraform is, to build something new, while leaving behind what's not essential. While we may not have all the bells and whistles HashiCorp may provide in the future, we still have what's actually important for the community to build upon together. It subtly hints at the word \"Crafter\", highlighting that all of us in this new OpenTF community are all crafters of infrastructure. Apparently a \"rafter\" is a critical component in building construction, as it forms the foundational support structure for the roof, ensuring the entire building stands strong and secure. This reflects our goal with OpenTF - to create a solid foundation for infrastructure management. Also, picture someone leaving a Terraformed land on a raft in search of freedom. What do we call this person? A \"raft-er\" ;) Edit) The t and f are also still there, if it helps resemble the .tf extension somehow. 👍 2 emocharnik commented I like tofu for its simplicity and matching the .tf extension, but I'm afraid it could be harder for organic search in Google. I'd also like to throw nubilus - the name is derived from the Latin word \"nubes\" which means \"cloud\". The \"nubilus\" could symbolize a deity responsible for the digital realm, including cloud-based technology and data storage. ❤ 5 roni-frantchi mentioned this issue Complete the adoption process with the Foundation. opentofu/roadmap#1 Closed pauldraper commented • edited we're not the fork, they are a better choice would a good name that has absolutely no association whatsoever So which is it? Is this the true continuation of the Terraform project, or something absolutely unrelated to the Terraform project? If it's the continuation, then why not a name that reflects that? The allergy to Terraform references is relevant solely for avoiding trademark infringement. The name \"OpenTF\" was (and is) perfectly acceptable, except for that concern. Do one think less of Linux because its name is derived from Unix? Does that make it \"lesser\" or \"subordinate\" to Unix? Of course not. In every practical sense, the OpenTF community is benefited from association with Terraform. Naturally, since -- as you say @jebotz -- it is the continuation of Terraform. It has no reason to downplay that. 👍 3 pauldraper commented Crafter is more semantically relevant than Rafter. mwalser commented I find @Magnitus- suggestion of Declair really nice. It hints to the declarative nature of the product, sounds nice when pronounced, seems to be reasonable easy to search and also reminds me of the pastry éclair. 👍 3 jebotz commented So which is it? Is this the true continuation of the Terraform project, or something absolutely unrelated to the Terraform project? It's the true continuation of the IaC project formerly known as terraform, but \"terraform\" isn't a project, it's just a name that happens to owned by someone else. If it's the continuation, then why not a name that reflects that? Because we don't need to be a reflection, we need to be the definitive infastructure as code tool. Have the name reflect that, directly, is what I'm saying. Yantrio mentioned this issue Rename the module to match the repository name #323 Closed martinkellyde commented tofu is the clear leader around this office for reasons mentioned above. it's cool, distinctive, short, and has mnemonic inertia (tfutils, tfenv, tfscaffold, TACOS etc all still work) ❤ 35 cgetzen commented Kubernetes: kubectl Infrastructure: ictl, infctl, infractl? 👍 2 lens0021 commented I like Declair because I did not understand what Terraform terraformed. Besides, declaration is the key feature of the project, isn't it? 20 hidden items Load more… theherk commented This fella already took it on homebrew I don't think that is an issue. The world of software is far too populous to let collisions without namespaces hold one back. It is simple enough to use a more descriptive name within package managers, like tofu-infra or similar. For example, one may already need packages like tofu-cli and tofu-lsp. I think those are probably the two minimum things needed anyway. 👍 4 Jaypers commented • edited Just another name suggestion... I think transmorph is a simple and succinct option. 👍 1 👎 3 rafsaf commented essa jhoblitt commented • edited IANAL but I believe there are complications around trying to register a trademark on common words such as tofu. Does the TBD foundation intended to apply for a trademark? jhoblitt commented TBDform would still work for .tf... miend commented • edited Similar to tofu, another semantically unrelated but pleasant entry is toffee. 😕 1 👀 1 miend commented • edited A draft is the plan you create to allow skilled workers to turn architectural ideas into reality. This is also a verb (\"I will draft a plan\"), is short and simple, and fits well with the purpose of an IaC tool. As a bonus, it retains the familiar f and t. spitzzz commented turf 👍 3 jarv commented blueprint could be a nice replacement. It's longer than some of the other suggestions but is no longer thanterraform. blueprint plan and blueprint apply have a nice sound to them. I see it is also being used in a Terraform context here https://cloud.google.com/docs/terraform/blueprints/terraform-blueprints 👍 1 tracphil commented • edited tint Tint Is Not Terraform 👍 10 😄 7 ❤ 8 pauldraper commented • edited And then you could run tint taint;) 😄 5 Contributor marcinwyszynski commented Or \"Tint Is New Terraform\" :) 🎉 5 cube2222 added the accepted label dvaumoron commented • edited Seeing @Magnitus- and @skyzyx answers, i suggest Declade or Declacode (as \"declarative code\" contraction), moreover Declade looking like decade seems funny (\"Declade was awaited for decades\" could be a punchline). Last but not least, Declade seem better for search than existing things like Tofu (already pointed by @emocharnik). Suggestion : Declade 👍 1 marziply commented Is it possible to post a time based poll here? Something in the realm of the top most voted suggestion in a given week? 👍 3 iapicca commented Is it possible to post a time based poll here? Something in the realm of the top most voted suggestion in a given week? yeah @marziply is right, so hard to even see what are the options! maybe keeping this issue for proposing the options to add to the poll and a new issue with the poll and comments disabled 👍 2 theherk commented • edited I don't understand how that is a benefit over the current discussion. The proposals are here, and have countable reactions. The don't seem difficult to find, though if they are I suppose @roni-frantchi could keep the opening comment up-to-date with running tallies or links to the proposal comments. Otherwise, it seems just to undercut the community participation that has taken place already. Here are the proposal comments: oic, iac, infrabuilder, infratect Infode, Infrascale, Devopify, Infrascript, Declarify, Infradev, Scalop, Scalator TransForge tofu Gaiamorph, ctf hashbrowns tufa, tafos, tofus, tofum, tefra Incode Rafter nubilus ictl, infctl, infractl UniForm, UnivForm etify, testify, tuff Plasma scluptf lintf Heka, Enki, Tengu, Izanagi MARS transmorph TBDform draft turf blueprint tint Declade I will also point out, accepting this is based partly on personal preference, that tofu's total support here is unparalleled with nearly 200 total votes including those voicing support after the proposition. 👍 4 ❤ 1 samuel-phan commented My suggestions: neuroblast TF is the tool that will create new infra everywhere (dev, qa, prod in different regions), so it's like the neuro-central brain that will control all the created infra instances. ✅ As requested from New name for the OpenTF project #296 (comment), we should try to get away from the Terraform naming field. ✅ Short name (~ equivalent to terraform). ❌ Seems to be used already 😞 https://github.com/search?q=neuroblast&type=repositories neuromorph Same idea of neuro-central brain, morphing to have same infra components in different accounts/regions. Reminds me the Zergs in Starcraft somehow 😅 ✅ As requested from New name for the OpenTF project #296 (comment), we should try to get away from the Terraform naming field. ✅ Short name (~ equivalent to terraform). ❌ Seems to be used already 😞 https://github.com/search?q=neuromorph&type=repositories neuromutate ✅ As requested from New name for the OpenTF project #296 (comment), we should try to get away from the Terraform naming field. 🟠 Medium name length (slightly longer than terraform). ✅ Seems to be free: https://github.com/search?q=neuromutate&type=repositories I downvoted transmorph because I don't want to have any confusion with transgenders somehow. pauldraper commented tofu's total support here is unparalleled with nearly 200 total votes To be fair, I don't think many scroll through dozens of comments to find tint or whatever else. spitzzz commented tofu's total support here is unparalleled with nearly 200 total votes To be fair, I don't think many scroll through dozens of comments to find tint or whatever else. I agree, also - the collective list also skipped a at least one suggestion, conveniently the one I suggested lol. 😄 1 theherk commented I agree, also - the collective list also skipped a at least one suggestion, conveniently the one I suggested lol. Sorry @spitzzz. I had also left out blueprint from @jarv. I assure you it wasn't a convenient omission, but sign of my ineptitude via copypasta oversight. I'll try to keep the list up-to-date. 👍 1 spitzzz commented Oh I was just kidding around of course! I know it wasn't intentional so no worries! 👍 1 Contributor pdecat commented Is \"tf\" actually a trademark of the legacy company? I've found matches in other fields by other companies, but not computing and the likes. theherk commented Is \"tf\" actually a trademark of the legacy company? I've found matches in other fields by other companies, but not computing and the likes. Seems very unlikely that any trademark issuing bodies would issue one for two letters, especially when it is a file extension that is protected by an open source license. I don't think that is a concern. 👍 3 skyzyx commented • edited Along the lines of tofu, but is still easy to say/type: tuff taff/taffy toff Or if you're a fan of Avatar: The Last Airbender, toph tiff has been taken for decades Remember: We engineers don't like to type. I'm hesitant to support a name that is either too long, too hard to remember to spell, or doesn't have a good/short acronym. Even typing terr[tab] resulted into too many matches, and I'd have to type more letters to filter further. tf is/was a short alias. More thoughts: When folks decided to try to develop a well-defined specification for Markdown, they first called the project Standard Markdown (kind of like OpenTF). They went back and forth with John Gruber (creator of Markdown), and settled on the non-trademark-infringing Commonmark. It was just so obvious that we'd call it that, and it provided a clarity about its purpose. The name was perfect. Perhaps instead of leaning into the TF part, we lean into the fact that this project is trying to be more forward-looking and community-facing. Our version of the Common in Commonmark. The binary is cmark. “If you wish to build a ship, do not divide the men into teams and send them to the forest to cut wood. Instead, teach them to long for the vast and endless sea.” — Antoine de Saint-Exupéry Also, one of the core tenets of UX is \"clarity over cleverness\". From Signal v Noise, by Jason Fried: I just noticed Apple changed the logout feature in the MobileMe app UI. It used to be a power button icon. Now it just says “logout.” Another triumph of clarity over cleverness. From Ron White, a standup comedian: This guy walks over to the tree, he scratches the bark with his thumb, walks back over to me, and he says this, and I quote: “The core of this tree is still alive.” I said, “Let me tell you what I'm looking for in a f***in‘ tree. I'm looking for a tree that you can tell is alive even if you don't know shit about trees.” Not knocking @samuel-phan, @dvaumoron, or any of the other suggestions (they were just the most recent ones I read), but looking through the UX lens, I'm skeptical that Declade or Neuromutate drive clarity. IMO, we'll know it when we say it/read it/write it, and it's just obvious that we'd call it that. Like touch interfaces on mobile phones. I don't think we've found it yet. Collaborator Author roni-frantchi commented • edited Hey! Wanted to thank everyone for all the great ideas, comments, suggestions and thoughts ❤. Naming's always hard. Infinite number of options and so many interesting angles and opinions. Out of your many suggestions and reactions, Tofu seemed to have pulled well ahead as a crowd favorite. We've taken the core of it and together, ran it through legal and other functions with the help of our friends and colleagues at the Linux Foundation. Today, we are excited to officially launch a rebrand of this project as OpenTofu under the Linux Foundation! The binary, commands and code will all just say tofu. Once again, thank you everyone for weighing in here, and first hand helping us choosing the name for this project. Looking forward to more of this amazing community helping to steer this project well ahead, with much love ❤ 👍 4 ❤ 56 🚀 26 roni-frantchi closed this as completed unacceptable commented • edited Hey team! 👋 Just my two cents: tofu might be a hard to gain traction in the existing community. It might help sell the name if tofu was an acronym. I was thinking something like the following: Terraform Open and Free for Users Template Oriented Free Utility Total Orchestration & Framework Utility Template Oriented Framework Utility Total Orchestration Framework Upgrade Tailored Optimized Functional Utility etc. What is everyone else's thoughts? 👍 1 dvaumoron commented • edited Hi @unacceptable, An acronym would be fun, but linking to Terraform which is an Hashicorp owned trademarks could lead to legal problem as stated by @roni-frantchi (#296 (comment)) My try would be a recursive one inspired by your first proposal : Tofu Open and Free for Users 👍 4 ❤ 3 👀 1 unacceptable commented I love a good recursive acronym! I am a fan of \"Tofu Open and Free for Users\". 👍 2 Sign up for free to join this conversation on GitHub. Already have an account? Sign in to comment Assignees No one assigned Labels accepted Projects None yet Milestone No milestone Development No branches or pull requests 44 participants and others Footer © 2023 GitHub, Inc. Footer navigation Terms Privacy Security Status Docs Contact GitHub Pricing API Training Blog About",
    "commentLink": "https://news.ycombinator.com/item?id=37581132",
    "commentBody": "OpenTF is now OpenTofuHacker NewspastloginOpenTF is now OpenTofu (github.com/opentofu) 369 points by zoidb 10 hours ago| hidepastfavorite206 comments cube2222 10 hours agoHey! Interim tech lead of OpenTofu here.I&#x27;d like to add that as of today (announced just now at OSS Bilbao) we&#x27;re officially part of the Linux Foundation[0]!Hope you like the new name (it basically won the votes anywhere it was proposed) and happy to answer any questions![0]: https:&#x2F;&#x2F;www.linuxfoundation.org&#x2F;press&#x2F;announcing-opentofu reply seabass-labrax 6 hours agoparentI&#x27;m impressed by the speed at which you&#x27;ve forked the project and brought up the new technical infrastructure. You mention that you are &#x27;interim tech lead&#x27;; what does interim mean in this context, and what is the governance structure for future leadership (and presumably your replacement)? Will OpenTofu have a self-selecting board? Or will it be democratic by vote, and if so, have suffrage by membership, participation or something else? Maybe top-down BDFL appointed by the Linux Foundation?I am curious because your Manifesto states that as a result of LF stewardship the &#x27;community governs the project&#x27;. The LF is massive, with a much more extensive portfolio than most people think, and influential far beyond its staffing would indicate. There is a great range of governance models and community norms across its projects, and, as with many things in FOSS leadership, no easy answer to the question of which the best option is among those.As tech lead, it is your responsibility to choose what model and venue OpenTofu will adopt to fulfil its promises sustainably; I hope and imagine that you have been given the authority to make these choices decisively. The stewardship of the Linux Foundation is not an automatic guarantee of success, and the resources that the LF can provide are significant, unusual in FOSS, and very difficult to use - and concerningly easy to abuse unless directed by clear leadership. I wish you all the best of luck in this challenging but exciting task, and am curious to discover how you intend to take this project forward into the future. reply cube2222 6 hours agorootparentThanks for the kind words!The initiative will have a steering committee composed of individuals from the main backing and involved companies and projects.As interim technical lead I&#x27;m mostly responsible for the technical side of things and getting the project up and running in this first phase. This also includes the feature development process and similar things. Interim means \"until we figure out the exact details of the governance process\", so a couple of weeks, most likely.Representatives of the main organizations backing the initiative are collaborating with the LF to iron out the governance model. In practice, all of this is a collaborative process among the main backers.The initial steering committee has already been selected and was to my knowledge a prerequisite to even being accepted to the LF. Currently each of the following organizations has a single seat: Gruntworks, Harness, Spacelift, env0, Scalr. There are free seats reserved for future joinees. reply seabass-labrax 5 hours agorootparentI appreciate the detailed response; thank you! It is wonderful that the governance structure is being thought out early. The best of luck to you and your colleagues in this endeavour! reply notpushkin 10 hours agoparentprevCute punny name, I like it. Congrats on joining the LF, and keep up the good work! reply notpushkin 9 hours agorootparentBy the way, are there any plans for taking on other HashiCorp products as well? (Packer and Nomad are of particular interest to me :-) reply echelon 8 hours agorootparentThe dismantling of HashiCorp because they tried to save themselves from Amazon swallowing them is sad.Open Source businesses have no future in a world where big tech can gulp your product for free.The OpenTofu folks will probably even raise capital to support commercialization of their thing at some point. reply emptysongglass 7 hours agorootparentI generally like your takes but this one isn&#x27;t very good since it wasn&#x27;t Amazon that was the threat.HashiCorp couldn&#x27;t compete. Their enterprise offerings were bad and their price quotes were insane and unrealistic. I worked at two companies who rejected them because their pricing was so ludicrous. The TACoS space of small startups nimbly out-competed these bad offerings.Rent-seeking because you weren&#x27;t able to compete with tiny startups able to effectively value add where you didn&#x27;t is a bad strategy that pisses people off. I shed no tears for them and their rich founder who posts tweets of his solo flights to visit his rich friends.Corporations didn&#x27;t seem to understand that when you participate in the OSS ecosystem you don&#x27;t just get to trade on the name recognition. Or if you do, and you renege on those promises, you&#x27;re going to get a lot of people very angry.So now we have companies going BSL because they didn&#x27;t have a good business plan to begin with and this is their dying gasp to own the space so someone will pay them and not their much smarter, more creative, startup competitors. reply georgyo 6 hours agorootparentThis, so much this.HashiCorp pricing just made it simply impossible to pay them.Their plan was to provide a free offering that was very good, get companies hooked, and then charge our the nose for any enterprisy feature.The problem was how they charged, which they don&#x27;t reveal until after you contact sales. You could build a solution using the free offering that works very well. Then years later want something paid offerings and contact sales and find out that they charge over 1000USD per clients, and you have 1000 clients. Oops, guess I&#x27;m just going to engineer my own solution for that. 1 million a year buys a lot of development and operational.It&#x27;s really hard to go to management and say this open source thing we are running and serving the companies needs will now cost millions of dollars.Though I understand HashiCorp position somewhat. I&#x27;m sure their sales team has repeatedly heard that a potential client has decided they don&#x27;t need the feature they called about since the free solution is good enough and can engineer around any short commons. reply Terretta 6 hours agorootparent> 1 million a year buys a lot of development and operationalNot all that much. At a global enterprise, for instance, that buys a couple senior systems engineers with SDLC experience after you include all the per-employee overhead that doubles their cost beyond their comp.Terraform saves the enterprise far more than that in overhead. If Terraform provides even 10% lift across 1000 seats, that&#x27;s many times its cost.At a million a year, you&#x27;d need it to save you between 2 and 4 headcount to break even, not counting the compliance&#x2F;audit&#x2F;security benefits. reply vasco 2 hours agorootparentYou&#x27;ve either done a lot of tech sales yourself or bought into the kool-aid software salespeople hand out. Their bread and butter is overstating per-engineer costs and hardware ownership costs, but it doesn&#x27;t mean they&#x27;re right.In many places in europe you can hire a team of ~10 engineers already fully loaded for $1 million a year, or like 2 seniors and 4 midlevels or any combo like this. This is based off of 1st hand experience hiring for these salaries. reply georgyo 6 hours agorootparentprevYou missed my point I think.Terraform is immensely valuable.The open source bits is 90% of that value.An enterprise will _already_ have a team managing terraform infra. Them building the parts they need from that remaining 10% may be cheaper then paying HashiCorp. This is a difficult sell.Also, a ton of Terraform&#x27;s value comes from the fact that there are modules for everything. Some or developed by HashiCorp but most are developed by vendors or even users who want terraform support. reply adrianN 6 hours agorootparentprevA global enterprise can pay a whole team of senior engineers in Warsaw or Cluj for a million a year. reply benterix 4 hours agorootparentprev> Their enterprise offerings were bad and their price quotes were insane and unrealistic.To clarify: the products themselves were and still are very good, with minor quirks.As for pricing, there is a class of companies that set extremely high margins (this doesn&#x27;t apply just to Hashicorp, see the the pricing of Gruntwork which I believe contributes to OpenTofu). This game reduces the number of customers but also the number of problems you need to deal with. This strategy is perfectly fine and I have no complaints - I built my own HA Vault cluster solution and used remote AWS backend instead of Hashicorp Cloud. But the license change was a game changer - Hashicorp is still a strong player in the market, but no longer the default choice. reply emptysongglass 4 hours agorootparentWe actually used Gruntwork at a past company over paying HashiCorp for enterprise Terraform. Their prices then were around 5k for a ready to go Reference Architecture. Apart from that one-time cost which we didn&#x27;t pay because we built an RA ourselves, Gruntwork&#x27;s prices were extremely reasonable. I don&#x27;t think the comparison here is fair unless Gruntwork&#x27;s prices have dramatically changed since then (I just checked: seems the same now as it was then).I also don&#x27;t particularly agree with your clarification on my part. I think their products are slim on features especially in light of what you&#x27;re paying and a Terraform shop should almost always be opting for a TACoS solution over HashiCorp&#x27;s. reply elorm 6 hours agorootparentprev> I shed no tears for them and their rich founder who posts tweets of his solo flights to visit his rich friends.Couldn’t keep out a personal dig at Mitchell, who happens to be one of the most unproblematic people at Hashicorp and certainly doesn’t care or participate much in governance ? Seems like a lot of personal feelings were packed into this innocuous-posturing statement. reply emptysongglass 6 hours agorootparentIt wasn&#x27;t innocuous or posturing. I actually pack my real feelings about a whole range of topics under this pseudonym all the time. And no, I don&#x27;t particularly like Mitchell. reply benterix 4 hours agorootparentIn this context I don&#x27;t see your point. If I remember correctly, Hashimoto was the founder&#x2F;CEO when Hashicorp products were being released as Open Source. Now he is no longer in charge (doing some development work I think) and someone else took the decision to change the license to BSL. So I don&#x27;t see any relevancy here. reply epolanski 7 hours agorootparentprevI have mixed feelings about that.Yes, doing money on open source is hard, but on the other hand, the reason why you were successful was because you were open source in the first place and capitalized on millions of hours of free work from unpaid contributors which would&#x27;ve neither contributed nor adopted your product otherwise.Imho, if you can&#x27;t compete with other cloud offerings of your products then your cloud offering is weak. Competing with Amazon on prices is obviously hard, but not impossible, and it&#x27;s easy to compete with them on customer service because it&#x27;s your goddamn product and you should have the best expertise on it. reply theK 6 hours agorootparent> capitalized on millions of hours of free work from unpaid contributorsDoes this hypothesis really hold up? In my experience the contributor community remains small and often even dormant compared to the userbase of an opensource project only to take action if the project itself gets in turmoil (main developer leaves, bad takes on features etc.) reply prmoustache 3 hours agorootparentIn the case of terraform the main interesting bit is not terraform itself but the modules.What is the ratio of terraform dev vs third party dev in most popular terraform modules? reply notpushkin 8 hours agorootparentprevHashiCorp could pull it off, but I think moving everything to BSL overnight is just way too aggressive. I also don&#x27;t think it&#x27;s Amazon they are afraid of, but rather the other “cloud Terraform” providers (who unsurprisingly are the ones behind the fork).For my own project [1], I&#x27;m planning on keeping the basic edition open and maybe adding an enterprise edition later on under BSL – basically like MariaDB does. I think that&#x27;s the most fair model you can do right now.[1]: https:&#x2F;&#x2F;lunni.dev&#x2F;, a Docker Swarm dashboard reply RobotToaster 7 hours agorootparentprevOpen Source businesses have no future as Open Source businesses if they aren&#x27;t using Open Source licences.What I find odd in these situations, that have happened multiple times now, is the companies go straight from \"weak\" licenses like the MPL, straight to \"source available\" ones. Surely it would have been a good idea to try a strong copyleft licence like AGPL first. reply ghaff 6 hours agorootparentAGPL is seen as a no-go by most companies. It&#x27;s viewed as risky because the obligations associated with it are often unclear. reply RobotToaster 3 hours agorootparentThen they can pay for an alternative licence for their closed source project.It&#x27;s a win&#x2F;win&#x2F;win, open source projects will still support it, so you don&#x27;t get the backlash from the community, while those who just want to take will either pay or find a different project.With BSL and similar, you end up looking like the \"bad guy\", and the forkers look like the \"good guys\". With AGPL you will still look like the open source \"good guy\", and if someone makes a fork they look like money grabbing assholes. reply ghaff 2 hours agorootparentI don’t know how effective it is in general but dual licensing like Grafana now does seems a reasonable option.I assume there may be forks of the older code but I don’t actually know. reply notpushkin 6 hours agorootparentprevSurely those companies can pay for an alternative license then? reply FridgeSeal 5 hours agorootparentI’ve had this argument with people ad infinitum; it seems some people just see “AGPL” and any further thought process just stops.“You could ask or pay for an alternate licence” or “you’re almost certainly not using this in a way that means you need to open source your entire product” and any other rational argument you can think of are just met with “yeah but agpl” and that’s apparently just the end of it. reply ghaff 5 hours agorootparentThe thing is, at that point, why not just put it under a proprietary license in the first place? Lots of companies simply don’t have AGPL on their list of legal approved open source licenses and they’re not going to change that for you. ADDED: If you want to go the dual licensing route, at least just state this up front. reply SAI_Peregrinus 3 hours agorootparentDepends on why you want an open-source license in the first place.If it&#x27;s to bait in companies to use your product and then offer more features under a proprietary license, then something that&#x27;s more attractive to companies like a permissive (corporate charity) license is a better choice. If it&#x27;s to ensure that everyone who uses the software can contribute to the development, something like the GPL or AGPL is better.There can be other reasons to pick a corporate charity license, of course, but encouraging corporations to use your software is certainly one of the most common. reply LtWorf 4 hours agorootparentprevI get regularly harassed for having dared to publish a library under GPL license.Developers are so entitled, they don&#x27;t even ever reflect they are taking without giving back all the time. reply thinkmassive 3 hours agorootparentprevThe entire Grafana LGTM stack is phenomenal, and it’s widely used. reply ghaff 2 hours agorootparentGrafana is dual licensed however since they, relatively recently, switched to AGPL. reply tacticus 7 hours agorootparentprev> The dismantling of HashiCorp because they tried to save themselves from Amazon swallowing them is sad.save themselves from others building a less shit version of terraform cloud. reply benterix 4 hours agorootparentThis will happen anyway; what they could do is to gain some time, that&#x27;s all. But long-term consequences will be serious, I&#x27;m not sure if it was worth it. reply jnsaff2 8 hours agorootparentprevWhich HashiCorp OSS product is Amazon hosting for clients as part of their cloud offering?Their stuff pretty much all competes with it. reply yuppiepuppie 7 hours agorootparentprevI read it as \"Open-to-fu\", which could be construed in another way :) reply hbbio 9 hours agoparentprevWill the CLI be renamed to `tofu`? reply cube2222 9 hours agorootparentYep! reply HatchedLake721 9 hours agoparentprevHave you considered terrafork? reply fishnchips 9 hours agorootparentSure. But names including “terra” would be even more risky. Someone suggested LunarSpoon though and I personally found it hilarious. reply joshxyz 9 hours agorootparentyeh thats like a cereal oats brand name hahha reply notpushkin 9 hours agorootparentWorked well for Cap&#x27;n Proto (the cerealization protocol)! https:&#x2F;&#x2F;capnproto.org&#x2F; reply ghomem 3 hours agorootparentprevThis was funny :-) reply thefilmore 7 hours agoparentprevWhy not OpenTransform? reply throwawayllaq 7 hours agorootparentWny OpenTransform? reply hannes0 6 hours agorootparentWhat? reply midoridensha 9 hours agoparentprev\"OpenTofu\" is cute, but tofu has nothing to do with terraforming.How about \"Genesis\" or \"Reliant\" or \"Marcus\" or \"Kruge\"? reply INTPenis 9 hours agorootparentAs a heavy terraform user who can&#x27;t wait to migrate away from Hashicorp, I don&#x27;t care. It&#x27;s just a name. After the first dozen uses you won&#x27;t even notice, it&#x27;ll be as natural as any other command. reply notpushkin 9 hours agorootparentprevIt&#x27;s a nice pun and at the same time is close to the original, which would help Terraform users recognize the brand. Your suggestions are nice, but less recognizable in that way.Maybe we can take that pun to extreme though! If they ever have a designer that can come up with some crazy lore of terraforming with tofu that would be really really awesome. But I think they have more pressing matters right now. reply jonas21 57 minutes agorootparentThe current (yellow cube) logo is genius though! It&#x27;s like they took the Terraform logo, which to me looks like a cube that has fallen apart, and put it back together into a cute little cube of tofu. reply fishnchips 7 hours agorootparentprev> designer that can come up with some crazy lore of terraforming with tofuI have a feeling that the designer may find it... challenging. reply throwawayllaq 7 hours agorootparentI can imagine a piece of tofu with robotic arms terraforming stuff. Pretty easy.Or a globe with a tofu on top. Make the tofu evil&#x2F;insane and create a story it wants to transform every plant in tofu. reply heyoni 5 hours agorootparentOr tofu being portrayed as this blank slate of a food that becomes something more when adding things around it. reply midoridensha 8 hours agorootparentprevI was just hoping more HN readers would get the reference... :-( reply politelemon 8 hours agorootparentProbably worth editing and explaining the references, I didn&#x27;t get it at all. Not all of us hang around here 24&#x2F;7&#x2F;365&#x2F;2023. reply verve_rat 8 hours agorootparentStar Trek II: The Wrath of Khan. reply throwawayllaq 7 hours agorootparentI just read the plot and now I understand the reference.So it was a clever comment but not particularly a joke (maybe a not so good one?) reply jemmyw 8 hours agorootparentprevI got the reference but meh I think you needed a better delivery so it was more clearly a joke reply stayfrosty420 9 hours agorootparentprevterraform has nothing to do with terraforming either reply bspammer 8 hours agorootparentI’ve always thought terraform was kind of a perfect name, making large-scale changes to thousands of resources with a single command really does feel like terraforming. reply ranguna 8 hours agorootparentprevYou \"terraform\" the cloud. reply joshxyz 9 hours agorootparentprevit does.tofu is short for torafurm. reply klaussilveira 3 hours agorootparentprevMaybe... Garden of Eden Creation Kit? reply lemper 8 hours agorootparentprevit&#x27;s done deal, mate. better spend your time on something else. reply thecosmicfrog 7 hours agorootparentprevHe tasks me... He tasks me and I shall have him! reply stock_toaster 7 hours agorootparentprevMore aspirational… call it Mars reply creatonez 10 hours agoprevAt the time of posting, this submission links directly to the OpenTofu Github organization, which does not say anything about the name change.Here are some links that are specifically about the name change:- https:&#x2F;&#x2F;github.com&#x2F;opentofu&#x2F;opentofu&#x2F;issues&#x2F;296- https:&#x2F;&#x2F;techcrunch.com&#x2F;2023&#x2F;09&#x2F;20&#x2F;terraform-fork-gets-a-new-...- https:&#x2F;&#x2F;www.theregister.com&#x2F;2023&#x2F;09&#x2F;20&#x2F;terraform_fork_opentf... reply qwertox 10 hours agoparentFrom the last link:\"The name OpenTofu was adopted out of concern for, as you might have already guessed, trademark litigation.\"Because Hashicorp might not like the \"TF\" (for Terraform). reply Uehreka 9 hours agorootparentOut of curiosity, how does OpenJDK not get sued into fine pulp over this? Oracle owns the Java trademark and aren’t exactly known for being kind in matters of litigation. reply input_sh 9 hours agorootparentOpenJDK is also trademarked by Oracle[0], they&#x27;re not gonna sue themselves.[0] https:&#x2F;&#x2F;openjdk.org&#x2F;legal&#x2F;openjdk-trademark-notice.html reply blackoil 5 hours agorootparentYou may not want to bet on that. It is the Oracle. reply hashhar 9 hours agorootparentprevOpenJDK is now the open-part of the JDK which multiple groups provide builds and customizations for.What I think you are talking about when you say OpenJDK is called Adoptium now (https:&#x2F;&#x2F;adoptopenjdk.net&#x2F;releases.html). Earlier called Adopt OpenJDK.Similarly Eclipse folks named their project Temurin and so on. reply vr46 9 hours agoprevThis is too woke for the UK government. Terraform is widely used in the Home Office, I don&#x27;t think Suella Braverman will approve a switch...(Reference for non-UK viewers: https:&#x2F;&#x2F;www.theguardian.com&#x2F;politics&#x2F;video&#x2F;2022&#x2F;oct&#x2F;18&#x2F;suell...) reply xg15 3 hours agoparentI mean.Whatever else, but you have to give her props for inventing the word \"wokerati\". That word sounds so ridiculous that it might become cool again. reply vr46 3 hours agorootparentIt sounds like Hai KaratePerjorative labels aren&#x27;t what they used to be, people are happy to be labelled most of the time, so yes, maybe it&#x27;ll be cool to be a, erm, \"wokerat\"? reply quickthrower2 9 hours agoparentprevWat. Satire can’t compete reply Black616Angel 9 hours agoparentprevI like the \"The Guardian\" banner on top of that headline.Also lol. reply lost_tourist 5 hours agorootparentwokerati is a term I&#x27;ve never heard before, hmmmm reply fishnchips 6 hours agoparentprevBoJo legacy lives on! reply cloudbrewer 3 hours agoprevI believe Dave McJannet, HashiCorp&#x27;s CEO, should be concerned. OpenTofu has garnered massive support, with the project gaining admission to the Linux Foundation and even receiving public support from companies like Allianz. Within HashiCorp, the CEO has fostered a toxic culture characterized by a large workforce that strives to do as little as possible, relying solely on the dedication of a few committed employees, many of whom left the company shortly after the IPO.The pricing \"strategy,\" the culture of secrecy, subpar commercial and marketing practices, and the company&#x27;s inability to formulate a successful cloud and monetization strategy are all squarely the responsibility of HashiCorp&#x27;s CEO. Merely changing the licensing approach will not resolve the current issues. There is an urgent need for a change in leadership, a more robust embrace of the community, and the addressing of the issue of lazy employees. HashiCorp should also return to its core principles, possibly trimming down its focus areas (Integrity, Kindness, Pragmatism, Humility, Vision, Execution, Communication, etc.).Terraform had the greatest potential for monetization within HashiCorp, but this required innovation and effort. They possessed all the necessary tools, brand recognition, and community support, but instead chose to impede competition, failing to realize that they were harming themselves in the process.OpenTofu has the potential to genuinely enhance Terraform, as changes will be viewed not as aiding competitors but as a shared initiative aimed at improving the entire community and sharing the benefits. reply figmert 3 hours agoparent> OpenTofu has garnered massive support, with the project gaining admission to the Linux Foundation and even receiving public support from companies like Allianz.I don&#x27;t know. It feels like this support comes from the vocal minority and competitors.I&#x27;ll believe such a statement when more big multinational companies show support. Right now, I don&#x27;t believe there is as much support as is currently made out. reply tristan957 1 hour agorootparentThere are around 19 full-time engineers staffed for the project from various companies. That is a lot more engineers than HashiCorp themselves had developing Terraform at the time of the license change. reply figmert 1 hour agorootparent> There are around 19 full-time engineers staffed for the project from various companiesVarious companies being all HashiCorp competitors: https:&#x2F;&#x2F;opentofu.org&#x2F;supporters reply fishnchips 24 minutes agorootparentDoes it make them lesser engineers? reply lijok 3 hours agoparentprev> Within HashiCorp, the CEO has fostered a toxic cultureThat is a serious accusation. What backup do you have for this statement? reply PebblesHD 9 hours agoprevI really like the new name and branding. Very cohesive, easy to pronounce, website looks good (and the benefits of this cannot be overstated). Hopefully the community can grow around it.Well done and good luck keeping up the momentum. reply sverhagen 7 hours agoprev>We urge HashiCorp to reconsider and switch Terraform back to an open source license, avoiding fragmentation of the community.Hasn&#x27;t that ship sailed? Even if Hashicorp did that, would the community still be willing to mend this breakup, or declare that trust was lost? reply cube2222 7 hours agoparentThanks for noticing, we need to update the org description. reply Mashimo 8 hours agoprevThe link and github does not tell much what OpenTofu is. So I opened the official website. Again very hard to find out what it actually is. Goals and why it was created, and a hundred times that it&#x27;s a fork of another product.But still does not explain what it is or does.I had to open the website of what it was forked from. reply Zambyte 5 hours agoparentThe name doesn&#x27;t help much either. I was expecting something related to Trust On First Use authentication[0].[0] https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Trust_on_first_use reply nyanmatt 6 hours agoparentprevI had the exact same experience. At minimum, the references to Terraform should be clickable links to save me a few taps. reply po9 8 hours agoparentprevDoesn&#x27;t the heading say &#x27;The open source infrastructure as code tool&#x27; on loading https:&#x2F;&#x2F;opentofu.org&#x2F; ? reply simbolit 7 hours agorootparentYeah, but what is &#x27;infrastructure as code&#x27;? For anyone not already in the know, this phrase doesn&#x27;t mean \"managing and provisioning data centers through machine-readable definition files, rather than physical hardware configuration or interactive configuration tools.\" (quote from Wikipedia), it just means nothing at all. reply alkz 7 hours agorootparentYeah, but what is a &#x27;computer&#x27;? For anyone not already in the know, this term doesn&#x27;t mean \"a machine that can be programmed to carry out sequences of arithmetic or logical operations (computation) automatically.\" (quote from Wikipedia), it just means nothing at all. reply Mashimo 6 hours agorootparentThey already have a good description on the website, it&#x27;s just hidden under Docs -> intro -> What is OpenTF?And I don&#x27;t get why it&#x27;s hidden, but instead they tell the reader multiple times it&#x27;s a fork of something else. reply simbolit 7 hours agorootparentprevYou funny.Edit: I don&#x27;t want to sound dismissive, so let me explain the difference. Anyone coming to the website will be using a computer of some kind, and even if they for some weird reason don&#x27;t, the verb \"compute\" does give a hint at what a computer might be. None of this is true for \"infrastructure-as-code\". reply yjftsjthsd-h 52 minutes agorootparentRight now, most of its target audience already knows exactly what terraform is and why they&#x27;re abandoning it, although I agree that pivoting to explaining independently of that is a good idea reply carlhjerpe 6 hours agorootparentprevThe target audience for a IaC project is probably people who know what IaC is. Or even people who know what \"infrastructure\" and \"code\" are, separately. reply simbolit 6 hours agorootparentBut a person who knows what \"infrastructure\" is likely thinks of roads and power lines and sewage pipes. A \"data center\", which is what \"infrastructure\" roughly means in this case, isn&#x27;t exactly the prototypical example of \"infrastructure\", or is it? reply Mashimo 6 hours agorootparentprevIf that is the case, why does the upstream project website tell what it does? reply happyraul 6 hours agorootparentprevFor anyone not already in the know, \"data centers\" doesn&#x27;t mean \"building in which reside metal electronic machines that are connected by wires to other such machines all over the world, transmitting and receiving messages to one another\" (quote by me), it just means nothing at all.There&#x27;s a base level of knowledge of terms that&#x27;s assumed on this forum. Sometimes we are below that level, and sometimes we are above it. If you encounter \"infrastructure as code\" tomorrow, you will not react to it the same way, since now it&#x27;s no longer devoid of meaning for you. reply simbolit 6 hours agorootparentI am sorry, but your last sentence is basically \"humans learn\".And, in case you missed it, no one here is asking what IAC is, most everyone in this forum knows, we are saying it&#x27;s not super-transparent for a random visitor to their website and a better \"what is this project about\" page mentioning data centers a bit more and \"we forked Terraform\" a couple times less would be an improvement. reply Mashimo 7 hours agorootparentprevTrue, I might have skimmed it. But even now that does not tell me much.Best that I found was under Docs -> intro -> What is OpenTF?:> OpenTF is an infrastructure as code tool that lets you define both cloud and on-prem resources in human-readable configuration files that you can version, reuse, and share. You can then use a consistent workflow to provision and manage all of your infrastructure throughout its lifecycleThat could have been on the frontpage somewhere. Or in the github description. reply lost_tourist 5 hours agorootparentprevI assumed it mean representing various infrastructure (load balancers, http servers, microservices, databases, etc and their interconnections) as resources that you can add relations to in a code description and then it could resolve those as code, if you add new resources (code), it can work out dependencies and therefore help coordinate and make sure you don&#x27;t overlook some critical link (like version compatibility) as developers add to it. It seems to have provisioning for CI as well. reply theherk 10 hours agoprevI think it is a distinguished name, that will be nice to type and easily recognizable. reply totallywrong 6 hours agoprevGreat initiative, and I&#x27;m sure that with the community&#x27;s stewardship this will become a better tool than TF ever was. Me personally, I&#x27;m happy about the licence change because it pushed me to Pulumi and I&#x27;m absolutely loving it, which I could never say about TF, quite the opposite. reply zaps 2 hours agoprevInstead of the food my 12 year old mind goes directly to “Open to eff you” reply newfie_bullet 2 hours agoparentI thought the same thing - and I think it kind of applies! haha reply ghughes 10 hours agoprevOkay, it&#x27;s kinda cute, but it&#x27;s not good. reply amelius 9 hours agoparentIt&#x27;s even less originally named than tofu itself. reply lost_tourist 5 hours agorootparentI mean most names weren&#x27;t all that sexy originally either. reply SenHeng 10 hours agoprevI had originally thought the project to be font related, ie. the Open Type Font. Not saying it’s clearer now but at least it doesn’t remind me of OTF anymore. reply leoxiong 6 hours agoparentYeah, I thought it was something to do with the Noto fonts.https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Noto_fonts reply msoad 9 hours agoprevUnrelated but cute too: in the Unicode world tofu is when systems can&#x27;t render a character and you get a square (tofu) reply bshacklett 1 hour agoprevIt&#x27;s a cute name, but as a consultant, I don&#x27;t think this is going to help me convince technology leaders to adopt this project over Terraform. reply yjftsjthsd-h 50 minutes agoparentWell no, the selling point is the license not the name reply bhouston 1 hour agoparentprevI think one needs to see if there are bug fixes and it keeps up with the evolution of technology over time. reply macca321 8 hours agoprevIt&#x27;d be very interesting to know Hashi&#x27;s internal strategy around this.- Maybe do nothing, and as long as OpenTofu doesn&#x27;t attempt to extend Terraform they are in not that different a position than pre-MPL.- Add so many features OpenTofu can&#x27;t keep up?- Add some sneaky code to latest versions of hashi providers which makes them not work with unofficial terraform binaries? reply danw1979 8 hours agoparent- You can imagine a situation where Tofu keeps TF DSL compatibility but add useful new features to the runtime (better plan summary, multiple stack deployment, chained deployments, etc). That’s going to put Hashicorp under pressure to move quicker..- … but Hashicorp publicly pleaded poverty over their development resource on TF as the reason they wouldn’t accept community PRs. You can’t just grow a team tenfold overnight. They’ve been quite deliberate about the design of the Terraform language and runtime over the years, taking their time to add new features. It’s going to be interesting !- The provider situation looks fairly safe to me. Those licenses didn’t change and you can always redirect to github releases for the really popular binaries ? reply fishnchips 7 hours agorootparent> multiple stack deployment, chained deploymentsIntriguing ideas. Would you mind elaborating or - even better - open issues [0] explaining the concepts to gauge the community interest?[0] https:&#x2F;&#x2F;github.com&#x2F;opentofu&#x2F;opentofu&#x2F;issues reply hk__2 6 hours agoprevThis name confuses me as I usually expect things named \"OpenFoobar\" to be open versions of \"Foobar\" (see: OpenJDK, OpenTTD), but here that’s not the case. reply sausagefeet 5 hours agoparent\"Terraform\" is trademarked and cannot be used without permission and \"TF\" is kind of on the edge, so it was decided to change it more to avoid any legal challenges. reply paulddraper 6 hours agoparentprevOpensearch reply psibi 3 hours agoprevIs OpenTofu also planning to maintain the language server (terraform-ls) or is that not within the scope ? I was not able to find any language server related repository. reply MrOwen 1 hour agoparentThe language server is still MPL licensed. Not sure if that&#x27;s slated for a change but I&#x27;m sure they can always fork if&#x2F;when that happens. reply bilalq 7 hours agoprevWhat are OpenTofu&#x27;s plans around CDKTF? Will that only work with HashiCorp TF going forward? Or will that be forked as well?Terraform is a better foundational layer than CloudFormation, but CDK is by far the better level of abstraction, I believe. AWS CDK is decent, but it is of course limited to AWS. CDKTF was one of the more interesting initiatives in this space. reply fishnchips 7 hours agoparentShould work out of the box TBH, IIRC the CDK works as a preprocessor. reply bilalq 17 minutes agorootparentFor now. But the fork will likely diverge over time, right? I suspect this will cause issues unless compatibility is an explicit goal. reply fishnchips 0 minutes agorootparentCorrect, we will want OpenTF to remain a drop-in replacement. paulddraper 6 hours agoparentprevCDKTF is wonderful.Stop struggling with HCL files, there is a solution. reply candiddevmike 5 hours agoparentprevTerraform CDK is still MPL. reply bilalq 19 minutes agorootparentEven if the license is unchanged, will it interop with OpenTofu? Will interop with CDKTF be an explicit goal of the project? reply totetsu 7 hours agoprevI always have the problem when I open tofu that the brine squirts out everywhere. Anyone got a technique to avoid this? reply cnunciato 6 hours agoparentPierce the cover with a knife and cut along the edges, then remove the goods through the flap. Works for us. :) reply lantry 6 hours agorootparentand do it over the sink reply candiddevmike 6 hours agoparentprevFreeze it first? Keeps it firmer too in my experience reply issafram 1 hour agoprevSo the voters were JavaScript kids reply asmor 9 hours agoprevOh, it&#x27;s meatless terraform. reply fishnchips 9 hours agoparentWholesome and sustainable :) reply petesergeant 9 hours agoparentprevTerraform but without the beef over licensing reply timeon 6 hours agoparentprevNot necessarily. There are people who use tofu as substitute for mushrooms. So I&#x27;ve seen it mixed with meat. reply toyg 9 hours agoparentprevAbsorbs juices much better. reply ricc 6 hours agoprevIt seems the license info is not readily available on the website. I can easily find it in the GitHub repo but not on the website. I think it would be nice to have it clearly visible on the website, too. reply minroot 5 hours agoprevSlightly disappointed, I felt hungry reading the name reply isilofi 4 hours agoprevAre there any official statements about the cloud vendors&#x27; support or non-support for OpenTofu? reply fishnchips 1 hour agoparentBigger players naturally take longer to reach decisions for projects that are not their own, so it&#x27;s only natural to see some caution on their end. It would be premature to announce anything at this point but I can just say that \"good things come to those who wait\". reply rrrrgrs 10 hours agoprevIts related to fact they are joining linux foundation today as well :) reply rrrrgrs 10 hours agoparenthttps:&#x2F;&#x2F;www.linuxfoundation.org&#x2F;press&#x2F;announcing-opentofu reply xigangxi 7 hours agoprevOne thing I really miss on the landing page of the website is the \"Getting Started\" reply da39a3ee 5 hours agoprevThe criticism of hashicorp seems childish. Why shouldn&#x27;t they restrict the way in which companies make money from their inventions as they see fit? There&#x27;s a lot of thoughtless entitlement among some of the attitudes being expressed in this debate. reply tristan957 1 hour agoparentHashiCorp is free to make money, but to take the work on community contributors and relicense it for its own gain is the biggest scam an \"open source\" company can commit. HashiCorp&#x27;s inability to license their software effectively is what got them into this mess. Instead of using a license like the AGPL, they left themselves open to this attack. Why would you have sympathy for a company that dug their own grave? reply fishnchips 4 hours agoparentprevI think at this point we exhausted arguments on both sides of the debate. I think that agreeing to disagree and moving on is a better alternative to competing on ad hominems. reply verdverm 3 hours agorootparentIt&#x27;s easy to say that when it is not your work others are making money onJust \"moving on\" is like putting your head in the sand to avoid difficult conversations about financially sustainable open source (which requires an amount of unopen-source if we&#x27;re going to be honest with ourselves). Donations and charity don&#x27;t put food on the table for those building the projects.We have not figured this out as a society, so we should keep talking and debating reply fishnchips 3 hours agorootparentMany of these discussions seem to devolve into calling names, throwing ad hominems or even darker stuff like threats of symbolic or physical violence. Being on the receiving end of all that in relation to the fork makes me wish we can indeed move on and resume the conversation when the tempers cool down. reply throwawayllaq 3 hours agoparentprevThis discussion ship has sailed. reply da39a3ee 1 hour agorootparentDon&#x27;t try to silence people. If you have nothing substantive to say then say nothing. reply watwut 10 hours agoprevKind of makes sense, it made OpenTF made me think of OpenTheFuck ... which is not ideal. reply Mashimo 6 hours agoparentI thought of OpenTTD. Transport Tycoon Deluxe reply plufz 9 hours agoparentprevI was seriously expecting some sort of open sourced tools for making tofu. As a vegetarian that likes to cook I was a little disappointed, but this sounds good as well. reply grafelic 10 hours agoparentprev- reply notpushkin 10 hours agorootparentI think with OpenTofu it&#x27;s a weaker association, given tofu is an actual word many people already know.(Edit: added a bit of context as parent comment suggesting you can interpret the new name as open to fuck was removed) reply yyyk 9 hours agoprevThe new branding is recognizable, cute and short. However, Tofu has a somewhat mixed reputation. I guess OpenTofu can stand on its own though. reply vore 8 hours agoparentThis didn’t stop Celery, though! Some people don’t like other vegetables either! reply roebk 9 hours agoparentprevCare to explain why? reply yyyk 9 hours agorootparentTofu has an ancient reputation as a vegetarian replacement for meat. Its taste depends on the preparation (raw Tofu is very flexible).Some people associate it positively (&#x27;ethical&#x27;, &#x27;wholesome&#x27;, &#x27;tasty&#x27;), others do not (&#x27;not the real thing&#x27;, &#x27;tasteless&#x27;). reply makeitdouble 8 hours agorootparentIn its original producing country it&#x27;s often used as an expression of excessive softness (\"tofu mental\" for instance, for mental fragility). But it&#x27;s also cute and inoffensive, I think it&#x27;s a nice name overall. reply throwawayllaq 3 hours agorootparentprevI think OpenTofu should embrace the negative connotations. Go crazy, make everything Tofu, that&#x27;s the goal. It&#x27;d be a nice side history for marketing purposes. I doubt anyone would not use the tool because of it and others would get a good chuckle. reply layer8 8 hours agorootparentprevThere’s also https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Posting_style#Top-posting which is (or used to be) negatively connotated. reply malermeister 9 hours agoparentprevSo does terraforming, fwiw. reply bigstrat2003 9 hours agorootparentIs terraforming even a thing outside of the realm of SF? I can&#x27;t say I&#x27;ve ever seen it depicted as anything but positive, since it&#x27;s taking unlivable planets and making them livable. reply serf 8 hours agorootparentthere are countless SF examples where terraforming is used against the protagonist group in some negative manner; some alien race begins some scheme to turn the planet hotter&#x2F;colder&#x2F;acidic&#x2F;whatever and has to be stopped by some hero.as far as being a thing outside of SF, there are lots of studies on the idea of being able to do it in one way or another to both the moon and Mars, with real life validation efforts here on Earth -- but no real practical efforts as far as I know.p.s. the reason I avoid mentioning our efforts here on Earth changing the climate being akin to terraforming is that I think that intentionality is really the defining feature of terraforming that differentiates it from pollution or abuse otherwise. reply RealStickman_ 7 hours agorootparentprevThere are plenty of examples of terraforming going&#x2F;having gone wrong or being abandoned. My first associations are Snowpiercer (overdoing the fight against climate change) and Stellaris (abandoned machinery on planets). reply paulddraper 6 hours agorootparentprevYeah, I&#x27;m lost.Terraforming is a sci-fi concept for making planets viable for life......What&#x27;s the other usage? reply fishnchips 9 hours agorootparentprevI think this [0] may be what the OP meant.[0] https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Great_Plan_for_the_Transform... reply viraptor 8 hours agorootparentOr the global warming. In a few years we&#x27;ll be able to say that&#x27;s deliberate if we continue. reply simbolit 7 hours agorootparentIn relative terms, co2 emissions have gone up >50% since Kyoto; in absolute terms, we have emitted more co2 since Kyoto than in all of history before.I&#x27;d argue your \"in a few years\" was like 2018 or 2019 or so. replylost_tourist 5 hours agoparentprevIt&#x27;s a fine name in my estimation! tofu is good stuff, even the most antivegan person has to admit that it&#x27;s nutritious and healthy reply EVa5I7bHFq9mnYK 6 hours agoprevAs a total outsider, what&#x27;s wrong with \"TF\"? Doesn&#x27;t a penis picture as a github symbol rather bother anyone? reply throwawayllaq 2 hours agoparentIt&#x27;s more practical and less hilarious.There is a thing called acronym, abbreviation, or initialism copyright.For Hashicorp&#x27;s Terraform, \"TF\" is a well recognized abbreviation.Hashicorp can&#x27;t prohibit anyone from using \"TF\" in all areas, but it can argue that \"OpenTF\" confuses users that expect anything \"TF\" to mean \"Terraform\".You can probably create a \"OpenTF juice maker\" without problem but OpenTofu especifically is in the same area as Hashicorp&#x27;s Terraform, so it&#x27;s better to avoid any trouble there. reply EVa5I7bHFq9mnYK 1 hour agorootparentI see, thanks. reply verdverm 8 hours agoprev [–] Well, I guess this is more motivation to leave HCL and anything related to TF... tofu? Poor naming choice imho, searching is going to be a terrible time, wonder how confused the ChatGPTs will get?I&#x27;m allergic to soy and derivatives like tofu, so not liking this name changeA CUE powered solution will be much better anyway, go straight to the APIs for definitions, no intermediate, yet still unique, (leaky) abstractions reply throwawayllaq 2 hours agoparentModern search engines and LLMs have no trouble distinguishing between different things with the same name. Google Trends will even show you something is a product, a service, a book, whatever. If you ask a LLM \"what is this tofu infrastructure as code tool I keep hearing about?\" it will 100% tell you about the tool and not the food. reply jen20 2 hours agoparentprev [–] > go straight to the APIs for definitionsDo you really think no-one has tried that?The API definitions (even the good ones, like Azure) do not contain sufficient information to be able to build a declarative tool. Google seem to view their internal annotations about what is mutable or not as some kind of competitive advantage (bizarre). The AWS API is wildly poorly specified for building anything except 1-1 API wrappers. (Cloud Control improves it, but covers few important resources). replyApplications are open for YC Winter 2024 GuidelinesFAQListsAPISecurityLegalApply to YCContact Search:",
    "originSummary": [
      "A discussion on GitHub revolved around renaming the OpenTF project due to potential trademark conflicts.",
      "The community sought a new name that aligns with the project's purpose and is easily searchable through search engines.",
      "Ultimately, the project was rebranded as OpenTofu under the Linux Foundation."
    ],
    "commentSummary": [
      "The OpenTofu project, previously called OpenTF, has been included in the Linux Foundation and is setting up a governance structure.",
      "The project's technical aspects will be managed by an interim technical lead, and a steering committee, including various company representatives, has been selected.",
      "The dialogue also highlights concerns about changes in HashiCorp's licensing and pricing, suggestions for leadership modifications, and a greater emphasis on community involvement."
    ],
    "points": 368,
    "commentCount": 205,
    "retryCount": 0,
    "time": 1695192282
  },
  {
    "id": 37584224,
    "title": "Svelte 5: Runes",
    "originLink": "https://svelte.dev/blog/runes",
    "originBody": "Skip to main content SVELTE.DEV CTRL K Docs Examples REPL Blog Tutorial SvelteKit Introducing runes Rethinking 'rethinking reactivity' THE SVELTE TEAM SEP 20 2023 ON THIS PAGE In 2019, Svelte 3 turned JavaScript into a reactive language. Svelte is a web UI framework that uses a compiler to turn declarative component code like this...let count = 0;function increment() { count += 1;} clicks: {count}...into tightly optimized JavaScript that updates the document when state like count changes. Because the compiler can 'see' where count is referenced, the generated code is highly efficient, and because we're hijacking syntax like let and = instead of using cumbersome APIs, you can write less code. A common piece of feedback we get is 'I wish I could write all my JavaScript like this'. When you're used to things inside components magically updating, going back to boring old procedural code feels like going from colour to black-and-white. Svelte 5 changes all that with runes, which unlock universal, fine-grained reactivity. Introducing runes Before we begin permalink Even though we're changing how things work under the hood, Svelte 5 should be a drop-in replacement for almost everyone. The new features are opt-in — your existing components will continue to work. We don't yet have a release date for Svelte 5. What we're showing you here is a work-in-progress that is likely to change! What are runes? permalink rune /ro͞on/ noun A letter or mark used as a mystical or magic symbol. Runes are symbols that influence the Svelte compiler. Whereas Svelte today uses let, =, the export keyword and the $: label to mean specific things, runes use function syntax to achieve the same things and more. For example, to declare a piece of reactive state, we can use the $state rune:let count = 0;let count = $state(0);function increment() { count += 1;} clicks: {count}At first glance, this might seem like a step back — perhaps even un-Svelte-like. Isn't it better if let count is reactive by default? Well, no. The reality is that as applications grow in complexity, figuring out which values are reactive and which aren't can get tricky. And the heuristic only works for let declarations at the top level of a component, which can cause confusion. Having code behave one way inside .svelte files and another inside .js can make it hard to refactor code, for example if you need to turn something into a store so that you can use it in multiple places. Beyond components permalink With runes, reactivity extends beyond the boundaries of your .svelte files. Suppose we wanted to encapsulate our counter logic in a way that could be reused between components. Today, you would use a custom store in a .js or .ts file: import { writable } from 'svelte/store'; export function createCounter() {const { subscribe, update } = writable(0);return { subscribe, increment: () => update((n) => n + 1)}; } Because this implements the store contract — the returned value has a subscribe method — we can reference the store value by prefixing the store name with $:import { createCounter } from './counter.js';const counter = createCounter();let count = 0;function increment() { count += 1;} clicks: {count} clicks: {$counter}This works, but it's pretty weird! We've found that the store API can get rather unwieldy when you start doing more complex things. With runes, things get much simpler: import { writable } from 'svelte/store'; export function createCounter() {const { subscribe, update } = writable(0);let count = $state(0);return { subscribe, increment: () => update((n) => n + 1) get count() { return count }, increment: () => count += 1 }; }import { createCounter } from './counter.js';const counter = createCounter(); clicks: {$counter}clicks: {counter.count}Note that we're using a get property in the returned object, so that counter.count always refers to the current value rather than the value at the time the function was called. Runtime reactivity permalink Today, Svelte uses compile-time reactivity. This means that if you have some code that uses the $: label to re-run automatically when dependencies change, those dependencies are determined when Svelte compiles your component:export let width;export let height;// the compiler knows it should recalculate `area`// when either `width` or `height` change...$: area = width * height;// ...and that it should log the value of `area`// when _it_ changes$: console.log(area); This works well... until it doesn't. Suppose we refactored the code above: const multiplyByHeight = (width) => width * height; $: area = multiplyByHeight(width); Because the $: area = ... declaration can only 'see' width, it won't be recalculated when height changes. As a result, code is hard to refactor, and understanding the intricacies of when Svelte chooses to update which values can become rather tricky beyond a certain level of complexity. Svelte 5 introduces the $derived and $effect runes, which instead determine the dependencies of their expressions when they are evaluated:let { width, height } = $props(); // instead of `export let`const area = $derived(width * height);$effect(() => { console.log(area);}); As with $state, $derived and $effect can also be used in your .js and .ts files. Signal boost permalink Like every other framework, we've come to the realisation that Knockout was right all along. Svelte 5's reactivity is powered by signals, which are essentially what Knockout was doing in 2010. More recently, signals have been popularised by Solid and adopted by a multitude of other frameworks. We're doing things a bit differently though. In Svelte 5, signals are an under-the-hood implementation detail rather than something you interact with directly. As such, we don't have the same API design constraints, and can maximise both efficiency and ergonomics. For example, we avoid the type narrowing issues that arise when values are accessed by function call, and when compiling in server-side rendering mode we can ditch the signals altogether, since on the server they're nothing but overhead. Signals unlock fine-grained reactivity, meaning that (for example) changes to a value inside a large list needn't invalidate all the other members of the list. As such, Svelte 5 is ridonkulously fast. Simpler times ahead permalink Runes are an additive feature, but they make a whole bunch of existing concepts obsolete: the difference between let at the top level of a component and everywhere else export let $:, with all its attendant quirks different behaviour between andthe store API, parts of which are genuinely quite complicated the $ store prefix $$props and $$restProps lifecycle functions (things like onMount can just be $effect functions) For those of you who already use Svelte, it's new stuff to learn, albeit hopefully stuff that makes your Svelte apps easier to build and maintain. But newcomers won't need to learn all those things — it'll just be in a section of the docs titled 'old stuff'. This is just the beginning though. We have a long list of ideas for subsequent releases that will make Svelte simpler and more capable. Try it! permalink You can't use Svelte 5 in production yet. We're in the thick of it at the moment and can't tell you when it'll be ready to use in your apps. But we didn't want to leave you hanging. We've created a preview site with detailed explanations of the new features and an interactive playground. You can also visit the #svelte-5-runes channel of the Svelte Discord to learn more. We'd love to have your feedback! Introducing the upcoming Svelte 5 API: Runes",
    "commentLink": "https://news.ycombinator.com/item?id=37584224",
    "commentBody": "Svelte 5: RunesHacker NewspastloginSvelte 5: Runes (svelte.dev) 305 points by benmccann 3 hours ago| hidepastfavorite228 comments satvikpendem 2 hours agoThis is basically what Vue and Solid do, no? Same sort of state and derive&#x2F;computed variables, it seems like.Also, I will never understand why people like reactive signals. The article even quotes \"Knockout being right all along\" which, no, reactivity and two way data binding creating a spaghetti mess of changes affecting other changes all over the place unless you&#x27;re really careful is why React was made in the first place, to have only one way data binding and to re-render the entire page in a smart way. React will soon get its own compiler as well which will made regenerating the DOM even more efficient.It&#x27;s like every other framework is slowly rediscovering why React made the decisions it made. I am assuming it&#x27;s because the users who are making these frameworks now have not used or do not remember the times where \"signals\" were called observables, or the usage of Rx libraries, and how having too many of these would cause you to lose your mind debugging the intricate webs you inadvertently spun. reply rich_harris 2 hours agoparentYes, Vue and Solid — like Knockout — use a dependency tracking mechanism. Back in the day it was called `ko.observable`, nowadays we call them signals.That&#x27;s the part Knockout was right about. It&#x27;s absolutely true that you can mishandle them and create a spaghetti mess, _if your design allows it_. Svelte 5 doesn&#x27;t — it uses signals as an implementation detail, but in a way that prevents the sorts of headaches you&#x27;re describing.Signals and observables (e.g. RxJS) are related but separate concepts. The framework world is converging on signals as the appropriate mechanism for conveying reactivity — even Angular (which has historically been most closely tied to RxJS) is moving in this direction. I promise you it&#x27;s not just a mass delusion. reply hajile 2 hours agorootparentNot everyone has teams of perfect developers given all the time they want to make their perfect frontend app. Most of us deal with average teams where half the devs are at or below par while managing very tight deadlines. The spaghetti from everything in the whole system mutating always comes back to bite.You call signals an \"implementation detail\", but if someone doesn&#x27;t know that&#x27;s what they are, then they&#x27;ll wind up doing very bad things. This means they either aren&#x27;t just an implementation detail or they are a hyper-leaky abstraction. reply rich_harris 2 hours agorootparentWhat I mean by &#x27;implementation detail&#x27; is that you _literally can&#x27;t get a reference to a signal_ in Svelte 5. This alone prevents people from mutating things in unexpected ways. reply oooyay 17 minutes agorootparentprevPretext: I&#x27;m a backend developer that often needs to stare into the abyss that is frontend.I used to say these same things about reactivity. It was highly confusing to me years ago; as a backend developer doing frontend tasks was always reaching outside of my cookie jar and testing the boundaries of what I knew vs what I thought I knew. Many headaches ensued. That said, using Vue 3 and Svelte 4 has made utilizing stores and reactivity a lot more obvious in my opinion. Things render when they&#x27;re supposed to and my applications remain performant. As a non-frontend person, I mainly like the APIs that Vue and Svelte bring. In React I&#x27;m almost always switching to class based components for what I can do in the compositional API in Vue or what&#x27;s natively possible in Svelte. That brings a lot of repeated code and doesn&#x27;t look as clear to people not as familiar with React. reply satvikpendem 12 minutes agorootparentSeems like your comment cut off there, but if you&#x27;re using class components in React, there will be repeated code, yes, which is why hooks were invented and why they enable you to reuse such code. reply corbezzoli 40 minutes agorootparentprev> You call signals an \"implementation detail\",You haven’t even seen Svelte 5 yet, I don’t think it’s fair to say its internals will create trouble yet. reply chrisco255 2 hours agorootparentprev> create a spaghetti mess, _if your design allows it_. Svelte 5 doesn&#x27;t — it uses signals as an implementation detail, but in a way that prevents the sorts of headaches you&#x27;re describing.Care to elaborate or do you have a link to a blog post explaining further? reply rich_harris 2 hours agorootparentI&#x27;ll try — I&#x27;m currently fielding a zillion messages so excuse brevity!Basically, you can only modify state _where it&#x27;s declared_. If you want to allow the &#x27;outside world&#x27; to modify that state, you need to expose a function that does so. This is unlike cases where you&#x27;re passing around an observable object where anyone with a reference, which they need for reading, can also write to it by doing `thing.value += 1`.This is something Solid gets right — you can only change a signal&#x27;s value if you have a reference to its setter. reply troupo 5 minutes agorootparent> fielding a zillion messagesSurely you mean signals? :) reply satvikpendem 2 hours agorootparentprevThanks for the reply, Rich. It seems that, given a large enough codebase, that sort of spaghetti mess will emerge on its own, as not everyone will be so thorough. Granted, I haven&#x27;t used runes and based on your blog post here, I&#x27;m not reading where it would prevent such headaches as there&#x27;s not much mention of that there, so I don&#x27;t know exactly how it&#x27;d work, but just based on my experience using things like Vue and Knockout in the past, it wasn&#x27;t too clean.I was just mentioning in another comment how Rust has a similar problem where, as in C, you can mutate variables via pointers anywhere in the codebase, but Rust counters that by having a borrow checker that explicitly tracks the changes made and makes sure that only one user can modify a variable at any one time. An analogous concept might be quite interesting to implement in all these signal based frameworks as well. reply ttfkam 1 hour agorootparent> An analogous concept might be quite interesting to implement in all these signal based frameworks as well.Which is what Svelte 5 is doing with its compiler.> […] given a large enough codebase, that sort of spaghetti mess will emerge on its own, as not everyone will be so thorough.LOL! You&#x27;ve just described React projects! Yes, of course you and your team are wonderful and have all the FP experience, so obviously this isn&#x27;t an issue for YOU.Most React codebases however turn into big balls of mud. Enormous balls of useMemo-y, useEffect-y, re-render the world-y, spaghettified mud without even any compiler-enabled guardrails that get re-written every 18-24 months but \"this time we&#x27;ll do it right.\" reply satvikpendem 16 minutes agorootparentBased on your profile and comments, it seems you have some particular grudge against React, so I&#x27;m not sure I can convince you or anything React related that you have not already convinced yourself of. Nevertheless, I (nor you, it seems) have not used Svelte 5 yet so I cannot judge, just that based on my, yes, personal experience, 2 way data binding based frameworks create messes. Even though you can shoot yourself in the foot in any language or framework, some are simply better at preventing it, such as C versus Rust, as I analogized. reply jakelazaroff 42 minutes agorootparentprevI think the true lesson here is that if you fundamentally dislike a programming paradigm, then everything written in it looks like a big ball of mud. reply no_wizard 2 hours agorootparentprevI always found observables need better nomenclature.I know its not anyones fault (RxJS is amazing), but it does seem to invoke some gray area in the brain, thinking observables would do more heavy lifting around change tracking of inputs &#x2F; sources, when its not that straightforward. They more rightly should be called SubscriptionStreams maybeI think its always been somewhat poorly named, based on how often I&#x27;ve had to explain the concept to other developers. reply throwaway46281 2 hours agorootparentHuh? It&#x27;s called observable because it can be observed (that&#x27;s what \"-able\" means). If it were actually meant to observe something (as you say), it would have been named \"observer.\" But it&#x27;s not - it&#x27;s the callback that&#x27;s the observer.Also observables are more like streams than arrays. reply no_wizard 1 hour agorootparentI don&#x27;t think I&#x27;m entirely out of band to say there could be a better way of naming them, like why not call them SubscribableStream.Saying its an observable invokes a messy gray area in people&#x27;s brains. I know this because I&#x27;ve had to explain observables to co-workers more times than I can count in my career (I&#x27;m a big fan of RxJS, I didn&#x27;t mean what I said as a dismissal), and I like them for async work vs promises in many many cases, but the nomenclature does not invoke easy understanding reply cassepipe 1 hour agorootparentMaybe it would be easier for you (and your colleagues) if the function to \"observe\" observables was called... observe, instead of \"subscribe ? reply no_wizard 1 hour agorootparentnot particularly, I think it would make it more confusing.When I break it down to folks explaining its stream processing over iterables or async work and you subscribe (and can unsubscribe) a pipeline that runs over that stream, people get it quickly.When I say you can \"observe a stream\" people start getting other connotations, for some reason. I have ran into this over and over and over. Smart people too, not talking about just juniors here reply cassepipe 1 hour agorootparentprevIndeed !`observers` do exist in RxJs by the way: https:&#x2F;&#x2F;rxjs.dev&#x2F;guide&#x2F;observer reply klaussilveira 1 hour agorootparentprevQt was always right. reply lolinder 2 hours agoparentprevYes, the API is very similar to Vue&#x27;s. $state is ref&#x2F;reactive, $derived is computed, $effect is watch&#x2F;watchEffect.> why React was made in the first place, to have only one way data binding and to re-render the entire page in a smart wayThis last part is why Vue and now Svelte didn&#x27;t adopt React&#x27;s model. Yes, reactivity and two-way data binding give you enough rope to thoroughly hang yourself, but it also gives you a very explicit picture of how and when components will update. React, on the other hand, expects you to trust its smart algorithms, which definitely removes a lot of the pain from day-to-day coding but also makes troubleshooting performance problems harder.I see the distinction as similar to GC languages vs something like Rust: if all you need is to have an app that does a job and you don&#x27;t care about how it does it, React is a good choice. If you need to have control over exactly what will update and when, Vue&#x27;s model gives you fine-grained control over updates that&#x27;s hard to achieve in React.EDIT: And with that in mind, it&#x27;s obvious why Svelte, which prides itself on being lean and fast, would avoid the React smart-but-complicated runtime model in favor of the Vue model. reply hajile 2 hours agorootparentReact is the pragmatic answer.Most devs are of average talent and will hang themselves and everyone else with the stateful webs they weave. Even with careful PR reviews, these things have a way of sneaking in and becoming permanent hinderances.Performance hasn&#x27;t been a dealbreaker in most JS apps for years now. What HAS been a problem is getting good code out the door as fast as business needs. MOST React code is disposable based on the whims of the company. The bits that aren&#x27;t disposable are used enough to justify having them designed and maintained by your best devs who should also have the skill to write performant code. reply mwcampbell 1 hour agorootparentCounterpoint: https:&#x2F;&#x2F;ericwbailey.website&#x2F;published&#x2F;modern-health-framewor...Performance does matter to the people who depend on our products. Can we please stop throwing people under the bus in the name of churning out more crap? reply hajile 1 hour agorootparentThe real-world performance difference between Svelte and React outside of the tiny benchmark apps isn&#x27;t very much. The fact that React can prioritize rendering of some things over others means that it can be slower overall, but still feel faster to users. reply josephg 2 hours agorootparentprev> What HAS been a problem is getting good code out the door as fast as business needs. MOST React code is disposable based on the whims of the company.I know you&#x27;re right; but this still deeply saddens me. I want well crafted software. I want the code I write and the code I depend on to be made in a way that holds reverence and honor for the craft of software engineering.I don&#x27;t want to be running crappy, badly performing javascript made by average talent in react, that exists to serve someone else&#x27;s transient business needs. Gross. reply no_wizard 2 hours agorootparentprevit may have been true in the Knockout days, however signals in Solid is very very similar in feel and reasoning to React hooks.It makes it straightforward to reason about, because you aren&#x27;t dealing with globals, undeclared deps etc. like in the Knockout days reply kabes 2 hours agorootparentprevYou make it sound like react is a dark box with a lot of magic behind the curtains, but I always found the react model very easy to reason about. Modifying state is explicit and is the only thing that can trigger a rerender. These rerenders can only happen down from where in the tree the state change happens. reply ttfkam 1 hour agorootparentLet&#x27;s be honest: the state (see what I did there?) of React state management is a dumpster fire.https:&#x2F;&#x2F;fe-tool.com&#x2F;awesome-react-state-managementThat&#x27;s an article listing the top 18 state management libraries for React.18?!?React devs can&#x27;t even agree on a common development model for state, but you think it&#x27;s explicit and very easy to reason about?Folks don&#x27;t adopt utility libraries for things that were already easy to reason about on their own. I&#x27;m glad you&#x27;ve found peace with React&#x27;s basic notion of state, but it&#x27;s a far cry from optimal. And the \"state ecosystem\" of React is a dumpster fire. Layers upon layers of madness that acolytes peer through and proclaim insight.> These rerenders can only happen down from where in the tree the state change happens.Yes, after it has DIFFED the whole tree to see where the changes occurred in the first place. Madness. Layers of utter madness. reply hajile 58 minutes agorootparentReact isn&#x27;t a state manager and why should everyone be forced to use the one \"blessed\" manager?Despite there being so many, only a handful (redux toolkit, jotai, zustand recoil, and mobx) see much real-world use and they are basically just 3 approaches (reducers, signals, and directed graphs) with varying levels of complexity and features.> Yes, after it has DIFFED the whole tree to see where the changes occurred in the first place. Madness. Layers of utter madness.Not true. It only needs to diff the leaves of the part that changed and some of those sub-trees can be skipped too if they are functionally pure (or uses shouldComponentUpdate). This is how they reduce complexity down from O(n^3) to something generally closer to O(n) reply rmilejczz 54 minutes agorootparentprevI’ve written a lot of react apps (first used it in a hackathon in 2014) and this list is really just fluff. hooks + context make all of these libraries pretty much unnecessary for most react apps as they are not that complexI think the more glaring criticism is the lack of any unified component library. The amount of different Button implementations alone is astounding reply satvikpendem 2 hours agorootparentprevReact is honestly how I used to write my code in jQuery too, for some pages that had a lot of state. Basically, just like in game dev, I had a render() function that I&#x27;d call at the end of the file that would re-render everything. The pattern itself is very easy to understand, re-rendering efficiently is the hard part, but for React users today, that&#x27;s an implementation detail.Hooks are also very interesting, they&#x27;re basically functions that run at specific times, or that is to say, they&#x27;re `f(...parameters, state)`. They hold state inside the function, sort of like a closure. reply softfalcon 2 hours agorootparentprevI mostly agree with you.Unfortunately, many React apps use Relay (another Meta product) and it opens up a world of “magic” that is sometimes a real pain to reason about. reply satvikpendem 2 hours agorootparentWhat do you mean by \"many?\" While I like Relay, I&#x27;ve almost never seen Relay used in the wild. It&#x27;s sad as it&#x27;s quite an elegant concept; just as you define your props for your React component, you define your \"props\" coming from the server as well, through the GraphQL notation. I&#x27;ve been looking at ways to combine both concepts so that there is no client- or server-side state at all, it&#x27;s all just state, from a cache that determines whether to refetch from the server or to keep the state local. reply satvikpendem 2 hours agorootparentprevNow if only we had an analogous borrow checker in Vue and Svelte so that we don&#x27;t hang ourselves with 2-way binding. That might a good research project, actually. reply jauntywundrkind 2 hours agorootparentReact & redux both come standard with tools to dynamically observe behavior. A flurry of updates is easy to pin down & fix.Static analysis seems like a nice to have. All in all I class this category of concern as very far down the list of concerns, one way or two way. Yes bad things are possible. But the martial attitude that oh no people will do it wrong this tech is horrible is, in my view, actively harmful.99.99999% of times it goes great. We don&#x27;t need to make coding environments were bad things are impossible. reply satvikpendem 2 hours agorootparent> 99.99999% of times it goes great.I&#x27;ll disagree with you on that. I&#x27;ve seen and used enough 2-way binding in various projects to know that even the best of devs can create tangles of effects everywhere. At some point, you gotta blame the tool for having footguns, which is why Rust was created over C and C++, to solve such footguns. In the same vein, something like that should be made for frontend frameworks too. reply ttfkam 1 hour agorootparentBut have you used 2-way binding with a more modern framework? Or are you still hanging on to your experience with a defunct framework like Knockout from over a decade ago?And don&#x27;t get me started on React&#x27;s \"put all the logic you want in our templating language that doesn&#x27;t even target HTML5\" elephant-footgun. Oh! Sorry! Forgot that React&#x27;s footguns are aKeats elegant and reasonable while everything else&#x27;s footguns are dealbreakers. reply jddj 1 hour agorootparentprevI&#x27;m replying to you, but I&#x27;m asking the room: what, if anything, stops vue3 from compiling down to pure JavaScript like svelte does and reaping the speed benefits? reply berkle4455 49 minutes agorootparentprevWhat is the difference between $derived&#x2F;computed and $effect&#x2F;watch? reply skrebbel 2 hours agoparentprevI recently took Solid for a spin and I found none of that 2-way data binding mess you complain about. To be fair, I think you’re assuming is has behavior that it doesn’t.Eg if a form input changes, that change triggers an onChange and in a handler function, you can let the change just flow through the data layer (ie through a signal or a store, which is just a hierarchy of signals). This then updates the input, but it already had that value so nothing happens. It’s pretty much the unidirectional loop that React people love to talk about. reply satvikpendem 2 hours agorootparentSorry, I should have been more clear, I was talking more about Vue and Svelte rather than Solid, which explicitly says they don&#x27;t have 2-way binding due to learning about how dangerous it is and how React doesn&#x27;t have it: https:&#x2F;&#x2F;www.solidjs.com&#x2F;guides&#x2F;faq#why-can-i-not-just-assign... reply preommr 2 hours agorootparentThese discussions are so tiring.React has as much two way binding as vue - in vue v-model is just syntactic sugar for setting up event listeners and setting the value on an input element.Per the docs [0]BecomesIt&#x27;s such a small thing that it&#x27;s crazy it&#x27;s being discussed this much.[0] https:&#x2F;&#x2F;vuejs.org&#x2F;guide&#x2F;components&#x2F;v-model.html reply mmmeff 2 hours agorootparentprevWhat you’re talking about is unidirectional data binding, and what you’re replying to specifically mentions its failure to scale with complex applications.It’s not the kind of problem you can appreciate when taking any framework for a spin with a form input. reply skrebbel 1 hour agorootparentNo, what I replied to said that about 2-way data binding. React also (just about) forces you to do unidirectional data flow, just like Solid. reply WuxiFingerHold 28 minutes agoparentprevArchitecture and the used reactivity mechanics are different things.You need architecture to avoid a big ball of mud or spaghetti code. Organising your code in layers, modules, each with its own API. Rules which layer can access what other layer. Like backend does for ages. You can and should do this in large frontend SPAs as well. No matter if written Svelte, Angular or React. reply diob 2 hours agoparentprevYeah, I have no desire to go back, regardless of \"performance\" gains. React keeps me sane and it&#x27;s fairly simple to keep it performant. reply synergy20 2 hours agorootparentsecond this, plus its mature ecosystem, which is very valuable for the long term.though, the SSR madness movement including React concerns me, everyone tries to mix CSR and SSR into one now, which makes things way more complex than it needs. reply brigadier132 56 minutes agorootparentThe \"ecosystem\" is taking vanilla js libraries that work without modification in other frameworks and making them work with react via a wrapper. The react ecosystem is nothing. reply softfalcon 2 hours agorootparentprevI could not agree more. There is a huge push to make both side of the rendering “the same”. Next.js is pushing it really hard for their edge level rehydration.I get it, it gives you flexibility to hydrate the view as close to the user, as late as possible. That sounds cool, but I wonder how many folks really use it and how much you pay for not clearly defining where and when each bit is happening. reply satvikpendem 1 hour agorootparentAs someone who tries to limit their client-side JS usage through uBlock&#x2F;uMatrix, websites that aren&#x27;t just blankwith JS disabled would be nice to see, which is why I like React Server Components. Of course, if it&#x27;s a useful enough web app, I&#x27;ll enable JS, but if someone&#x27;s writing a blog, ecommerce site, or really any site that may not require a full blown SPA. Sending minimal unneeded JS to the client is best, as it saves bandwidth and battery, as well as feeling faster due to loading faster, in my opinion. reply pcthrowaway 46 minutes agorootparentYou can also achieve this with Astro, which will render your React islands statically and also enable client-side JS for interactivity &#x2F; progressive enhancement when the client has JS enabled reply satvikpendem 21 minutes agorootparentTrue, however it&#x27;s wrapped up in a nice DX in NextJS. In Astro, if I have multiple components that need React interactivity, are they all separate React apps basically? Or are they the same but with different roots? In NextJS, they&#x27;re the same and Next can intelligently figure out which to render server side and which to render client side. replybhouston 2 hours agoparentprev> It&#x27;s like every other framework is slowly rediscovering why React made the decisions it made.Definitely there is convergence in DX now. No need for everyone to admit one or another framework was right first or not - that is just creating antagonism or negating people lived experiences and innovation. But I do find it pretty weird that this convergence is happening. Initially I thought it was diverging with svelte but it seems to be reserving direction. reply satvikpendem 2 hours agorootparent> * But I do find it pretty weird that this convergence is happening. Initially I thought it was diverging with svelte but it seems to be reserving direction.*Convergent evolution [0]. Just as a shark, dolphin, and ichthyosaur all have the same body shape which is efficient for swimming and hunting in the water, so too do technologies converge when the problems are all the same and the solutions are understood, only as humans we can learn from each other rather than randomly mutating our codebases [1]. It&#x27;s the same reason why we see a lot of languages starting to adopt more functional features such as not using `null` and having exhaustive pattern matching, such as Rust (from OCaml), Dart 3, recent versions of Java, etc.[0] https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Convergent_evolution[1] https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Genetic_programming reply dleeftink 1 hour agorootparentBut for every similar shaped organism, there exist as many, if not more dissimilar ones, either alive or preceding. Convergence is not a given, and for every instance of convergence there are just as many divergences, even when appearing similar on the surface. For each degree of software &#x27;carcinization&#x27; [1], I&#x27;d contend there are as many evolutionary offshoots going against the grain.[1]: https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Carcinisation reply satvikpendem 1 hour agorootparentThat&#x27;s true, but perhaps just like in biological evolution, the ones that are against the grain don&#x27;t survive, for whatever reason. So it could even be that convergence occurs via selection. reply hajile 2 hours agorootparentprevIt&#x27;s not convergence, it&#x27;s the cycle of development patterns. Patterns come and go leaving bad memories that become anecdotes. Anecdotes become \"misunderstanding the paradigm\" and even the misunderstandings are long forgotten when the pattern that made them comes into vogue again. reply satvikpendem 1 hour agorootparentI wonder if it&#x27;s due to how new people are to the industry, as well as how new the industry itself is. In disciplines like mechanical or chemical engineering, you don&#x27;t see nearly this much reinvention of the same patterns. I imagine most people these days using React, Vue, Svelte, or Solid have never even used jQuery or Knockout, as those are almost 15 years or older at this point. reply hajile 1 hour agorootparentIf you&#x27;re an engineer, physics are always there to smack you in the face. As a result, engineers collect sets of things that physics seem to be fine with and reuse them. If engineering were programming, a woodpecker in Central Park would bring down the Eiffel Tower.Programming is not physical. It is generally bound by Turing completeness, the halting problem, 2 generals problem, and the like, but most developers don&#x27;t even write code on that level. That leaves them with an infinite number of ways to solve problems with the real limiting factor often being the humans instead of the fundamental limits. If you use 5 different design patterns in 5 different frameworks, they all still work, so now you must decide (based on ever-changing factors) which one is actually the best.Complicating this is the issue that not all people were taught the same or think the same way either, so an approach that makes sense to some people might not make sense to other people. The extremes here based on education and what you learned first are massive even when there are objectively better answers too. An entire generation of devs either retired or died rather than move from assembly to Fortran or C. That generation retired or died rather than move to OOP and the OOP people are retiring&#x2F;dying rather than moving on to more functional approaches to programming. reply satvikpendem 1 hour agorootparentIndeed, design patterns in physics and chemistry is a matter of the laws of nature, one cannot try something that doesn&#x27;t follow such laws. In software, design patterns are simply guidelines, as there are no laws of nature in the realm of virtual space. It reminds me of mathematics but even mathematics has its own laws to follow, so software is even more unconstrained. reply LapsangGuzzler 2 hours agorootparentprevI think this somewhat inevitable given the flexibility of javascript. The lack of convergence on one single paradigm as a long-lasting set of best practices speaks to all of things that a web framework needs to have in order to accommodate all developers.In Svelte&#x27;s case, it feels like they went as far as they could without directly addressing observables until they reached a point where it became one of the largest features that had yet to be addressed.Open source frameworks, not unlike companies, need to continue attracting new users to grow the ecosystem, which means pleasing an ever-growing user base. reply ttfkam 56 minutes agorootparentSvelte Stores are observables, just without the extra boilerplate. reply jjtheblunt 2 hours agorootparentprev> reserving directionautocorrect style typo, i think reply cornfutes 2 hours agoparentprev> I am assuming it&#x27;s because the users who are making these frameworks now have not used or do not remember the times where \"signals\" were called observablesAnd also a tendency to not have experiencing working on large web apps (I’m talking 100k+ cloc) where issues arise, and why those React engineers made the decisions that they did reply trueadm 1 hour agorootparentI work on Svelte 5 and I was also a React engineer on the core team previously FWIW. reply gedy 13 minutes agoparentprev> no, reactivity and two way data binding creating a spaghetti mess of changes affecting other changes all over the placeHonestly never understood this - 2 way is less code and way more understandable to me. Redux style codebases are very difficult for me to understand, and never saw benefits praised for. More frequently was \"why isn&#x27;t this updating?\".Different strokes I suppose. reply Raed667 2 hours agoparentprevTwo way data binding and signals are such bad ideas when dealing with large real-world apps. I feel they only make sense in small code snippets that are cool to tweet.For me they&#x27;re a dealbreaker when considering a new framework. reply SarcevicAntonio 1 hour agoparentprev> implying react codebases aren&#x27;t spaghetti mess reply unconed 2 hours agoparentprevIndeed. You can get all the main benefits of two-way binding in a one-way dataflow system like React by using cursors... i.e. whenever you access a property `state.foo.bar`, also derive the setter&#x2F;updater, `setBar(…)`.With proper memoization, this is both fast and ergonomic, and it even allows you to turn mutations into data and pass them to a server. I&#x27;ve implemented this as a stand-alone state helper [1] based on JSON patch&#x2F;diff, and it&#x27;s magical. Undo&#x2F;redo, multiplayer, it&#x27;s all within reach.[1] https:&#x2F;&#x2F;usegpu.live&#x2F;docs&#x2F;reference-live-@use-gpu-state reply onsclom 2 minutes agoprevI snooped around Rich&#x27;s GitHub history and found he&#x27;s working on esrap[1], a package to convert an AST into code. It uses Bun for development and testing!Crazy theory: esrap will be part of a transpiler that converts Svelte 4 code to Svelte 5 code. I&#x27;m not sure if that&#x27;s actually the case or if it&#x27;s even technically possible. But it would be really cool![1] https:&#x2F;&#x2F;github.com&#x2F;Rich-Harris&#x2F;esrap reply chrismorgan 2 hours agoprevI’m not particularly comfortable with some of the nature of the change. Runes are magic compiler symbols, but they look even more like just normal code than was the case before. Previously, Svelte’s reactivity model was very easy to understand, including its limitations, because it was the result of very simple analysis—you can cover the rules in a few minutes without difficulty. It included some things that were obviously magic: $: reactive blocks and $ prefixes on stores.When you had this: let count = 0; count += 1;… it made reasonable sense, because that’s just normal JavaScript; the fact that `count` was made reactive was basically incidental.But once it’s this: let count = $state(0); count += 1;This looks like you’ve called a function named $state, and given that you’re talking about migrating from compile-time to runtime reactivity, you might (I think reasonably) expect `count` then to be some object, not just an integer, and so `+= 1` would be the wrong (since JavaScript doesn’t let you overload those operators). But no, it’s instead some kind of decorator&#x2F;annotation.Yes, stores are unwieldy as you scale them up, and definitely have some practical problems, but that createCounter stuff looks fragile. I’m curious how it all works, because it looks like it’d be needing to do quite a lot of control flow analysis, but not curious enough to investigate at this time. But my intuitions suggest it’s probably markedly more complex and difficult to explain, though perhaps and hopefully more consistent. reply rich_harris 2 hours agoparent> it looks like it’d be needing to do quite a lot of control flow analysisImplementation-wise, this is vastly simpler than Svelte 4, because everything is explicit.One thing we didn&#x27;t really show today is how this works in your editor in practice — for example, TypeScript thinks `$state` and `$derived` are just the identity function. It makes sense when you use it, but I appreciate that I&#x27;m basically asking you to just trust me on that!> Previously, Svelte’s reactivity model was very easy to understand, including its limitations, because it was the result of very simple analysisI totally understand what you&#x27;re saying. But in fact the analysis is _anything but_ simple — in places it&#x27;s frighteningly complicated, to the point that even I sometimes don&#x27;t understand what&#x27;s going on! And that&#x27;s part of the problem — because Svelte 4 is more implicit, you can&#x27;t really know what&#x27;s happening in a lot of cases, you just have to hope that the compiler knows what it&#x27;s doing. reply chrismorgan 2 hours agorootparentFair enough. I’ll see how things go and wish you well. For simple cases, the new will be syntactically-inferior, but it makes sense that the explicitness allows it to be more consistent. Ah, modelling mutable trees as stores… not a great deal of fun. reply eyelidlessness 1 hour agorootparentprev> for example, TypeScript thinks `$state` and `$derived` are just the identity functionThat seems like a missed opportunity on Svelte’s part… but hard to fault, because TypeScript doesn’t support nominal primitive types very well. Ideally it would be something like Reactive to signal (ha) that it’s not just a plain value. reply rich_harris 1 hour agorootparentWe&#x27;ve toyed with this idea. There&#x27;s a couple of problems though. Firstly, if you have this...type Reactive = T; function $state(value: T): Reactive...then TypeScript will &#x27;unwrap&#x27; the type anyway, unless you do funky stuff like this...type Reactive = T & { [uniquesymbol]: any };...in which case things like `value += 1` will cause type errors because it coercies `value` from `Reactive` to `number`.But it also creates problems here:let message = $state(&#x27;hello&#x27;); obj = { message };The type of `obj.message` is Reactive, but it&#x27;s _not_ reactive — it&#x27;s a non-reactive snapshot of the value when the object was created.It&#x27;s possible that we can do some fun stuff with TypeScript plugins, but we haven&#x27;t dived too deeply into it yet. reply eyelidlessness 24 minutes agorootparent> TypeScript will &#x27;unwrap&#x27; the type anyway, unless you do funky stuff like this […] in which case things like `value += 1` will cause type errors because it coercies `value` from `Reactive` to `number`.Yeah. I’ve spent more time than I’d like to admit trying to find a nice solution to this, and I’ve ultimately arrived at “it needs type system support to work for the general case”. I think you can make your brand (symbol) optional to address this case, but it doesn’t address this:> The type of `obj.message` is Reactive, but it&#x27;s _not_ reactive — it&#x27;s a non-reactive snapshot of the value when the object was created.And here is the real problem: the types are right (in this case)! It’s Svelte that is wrong (in that it deviates from the JavaScript language semantics, which TypeScript has correctly modeled).This leads to my other ultimate conclusion with nominal primitive types: most of the time you’re better off just boxing the value… unless, or until, it becomes problematic for other reasons (eg performance, which would probably be a concern here, albeit one worth testing). Boxing allows correct, refined typing; it makes semantics of the value clear. The only downside is convenience… but this sort of convenience is exactly the kind of thing people rightly judge about the JS ecosystem.I’m not likely to use Svelte (for a variety of other reasons), so I don’t have a particular dog in this race… but I will say I find more explicit types for signals a great deal nicer to work with. Whether the explicit mechanism is a function call (like Solid) or an accessor (like many others). reply jamincan 20 minutes agorootparentprevWith Rust, mutable variables are underlined by RustAnalyzer by default - it would be really useful for reactive variables in Svelte to have a similar distinction. reply jameshart 2 hours agoparentprevFunctions can return primitives, so there’s nothing wrong with $state() returning a number that you can +=1.What is weird is that it’s actually typed as a svelte-compiler-only ‘extended int’ that can have side effects when you increment it, and weird knock on results from reading it. reply ranting-moth 2 hours agoprevPerhaps I&#x27;m just the grumpy old guy that&#x27;s afraid of change.But I fell in love with Svelte because it was dead simple (according to me). It was a breeze of fresh air and I felt I just program again without wiring enchantments together.I do agree that its simplicity has downsides too, so perhaps it&#x27;s just nothing to be afraid of?But I can&#x27;t help seeing this as ominous:> This is just the beginning though. We have a long list of ideas for subsequent releases that will make Svelte simpler and more capable.Please don&#x27;t turn Svelte into a black magic box. reply sanitycheck 1 hour agoparentLargely agree.I&#x27;ve got a couple of thousand hours of Svelte dev experience, and these changes offer me nothing I really want.Svelte dependencies outside my .svelte files? No thanks, I&#x27;ll keep them usable in non-Svelte projects.A new way to do reactivity to try to appeal to React users? (\"When people come to our community in future...\" in the vid.) No, thanks! Svelte 3&#x2F;4 reactivity was very straightforward, one could learn the whole thing in a day from the excellent tutorials. It was better than React.There was definitely a bit of weirdness with overuse of reactive vars but that&#x27;s been incentive to keep components small and simple. A good thing!Personally I&#x27;m still stuck on v3 because 4 introduced breaking changes I haven&#x27;t had a chance to debug, so it&#x27;ll be a while until any of this impacts me anyway. reply ansc 1 hour agoparentprevAgree. Svelte is a blast to write as an old grumpy backend engineer. But yes, probably just scared for nothing. Turning onMount() into $effect() is a tiny change, but this self-aware smol brained grug likes onMount() as it means something! To enable logical grouping, Svelte 5 allows us to nest the $effect()s? What does that even mean? Where am I? Nurse! reply fyzix 27 minutes agorootparentnesting means that a variable being watched in the parent scope triggers both the parent and child functions, but a change to a variable in the child&#x27;s scope only triggers the child function. reply benmccann 2 hours agoparentprevThis set of changes makes things more explicit. That&#x27;s the opposite of a black magic box as far as I can see reply pier25 1 hour agorootparentDefinitely. It&#x27;s surprising to see all these magic comments.Maybe it&#x27;s because of using the \"runes\" word :) reply wentin 1 hour agoprevOne of Svelte&#x27;s biggest advantages is its compiler, positioning it more as a language than just another JS framework. If I&#x27;m not mistaken, the compiler allows Svelte to define its syntax to anything they want.Given this, I&#x27;m curious: couldn&#x27;t the traditional syntax of `let counter = 0` be made to function similarly to the new let count = $state(0);? Transpile it to let count = $state(0) under the hood? If that can work technically, instead of introducing a new rune for reactivity, why not introduce a \"negative\" rune to denote non-reactive statements? This way, the change wouldn&#x27;t break existing code; it would be more of a progressive enhancement.I agree the move to unify the Svelte tag with regular js&#x2F;ts files is an improvement. It was indeed a little odd that certain syntactic sugar, like the $, would work exclusively within the Svelte and not in a js&#x2F;ts file that&#x27;s right next to it. However, from what I gather, it seems the Svelte team is aligning the Svelte script more with js&#x2F;ts, rather than bringing the js&#x2F;ts closer to Svelte&#x27;s unique syntax. This trajectory seems to be pushing Svelte towards resembling traditional JavaScript frameworks, like React. It&#x27;s a departure from Svelte&#x27;s unique strength of having a custom compiler and behaving more like a language. If every syntax in Svelte is expected to mirror its behavior in js&#x2F;ts, eventually svelte will lose all it secret sauce that made it so unique. Why can&#x27;t we add a rune into js&#x2F;ts file, a note in the beginning to tell svelte compiler that this is svelte enhanced js&#x2F;ts file, compile it like svelte script tag code? Bring js&#x2F;ts more alike to svelte? reply rich_harris 1 hour agoparentWe evaluated somewhere close to 50 different design ideas (seriously) before settling on this one, and what you describe was one of those ideas.But one of our goals was for you to be able to use Svelte&#x27;s reactivity inside .js&#x2F;.ts files, since that&#x27;s one of the things people have been crying out for since we released Svelte 3. For that to work, reactivity has to be opt-in, not opt-out.And that&#x27;s how it _should_ be — someone reading the code should be clued into the fact that this `let` won&#x27;t behave like a normal `let` in JavaScript, and it should be possible to move code between modules (and between modules and components) without worrying about whether a specific file was opted in to certain behaviour.In other words this...> This way, the change wouldn&#x27;t break existing code...isn&#x27;t quite right — it would break _all_ your existing code that wasn&#x27;t in .svelte files.> If I&#x27;m not mistaken, the compiler allows Svelte to define its syntax to anything they want.On this point specifically: unfortunately not. The code in a .ts file, for example, has to be valid and typecheckable. You can&#x27;t insert a preprocessing step ahead of the TypeScript compiler. Again though we concluded that this is a good thing, since it means this all works with all existing ecosystem tooling. reply wentin 47 minutes agorootparentFirst off, thanks for chiming in with that detailed explanation. It&#x27;s always a learning curve when you dive into the technical side of things, and I genuinely appreciate it.Given the constraints with TypeScript not being further compilable, I&#x27;ve been pondering on Svelte&#x27;s direction. Personally, I&#x27;d lean towards letting go of some of the special touches in js&#x2F;ts file if it means keeping more magic in Svelte. If we&#x27;re heading towards making Svelte syntax work exactly the same in js&#x2F;ts entirely, it feels like we might risk turning Svelte from its unique language-like identity into just another framework in the JS world.Thanks again for the insights! I have already felt a little better about my current work in migrating an app from another framework to svelte 4. I was worried that I have made a very wasteful decision for my own company. reply Phillippe 49 minutes agorootparentprev\"...isn&#x27;t quite right — it would break _all_ your existing code that wasn&#x27;t in .svelte files.\"What if it is opt-out reactivity in .svelte files and opt-in reactivity in .ts&#x2F;.js files? Yeah I know it would be a bit more combersome to copy code from .svelte to .js&#x2F;.ts files but I think it would be worth it reply rich_harris 46 minutes agorootparentThat would be a _terrible_ outcome. Things would routinely break, and code would be vastly more confusing. reply Phillippe 26 minutes agorootparentI love all the changes except that single thing with let count = $state(0);I&#x27;m just brainstorming here, but what about an optional $reactive rune where everything in that is reactive by default?$reactive(() => { let name = &#x27;world&#x27;; });vslet name = $state(&#x27;world&#x27;); reply omnimus 5 minutes agorootparentThey mentioned that the team tried around 50 different variations. Meaning they spent a lot more time than a comment on this. I would trust they know what they are doing considering track record of Svelte team.Tbh this seems kinda rude. Maybe check github i am sure the whole journey can be seen there. Phillippe 19 minutes agorootparentprevMaybe reuse the $:{} here, tho that would probably be really confusing for svelte 4 developers lol$:{ let name = &#x27;world&#x27;; };vslet name = $state(&#x27;world&#x27;);$: is valid javascript right? So that should also work in .js&#x2F;.ts files I assume replyspacebuffer 56 minutes agoparentprev> Given this, I&#x27;m curious: couldn&#x27;t the traditional syntax of `let counter = 0` be made to function similarly to the new let count = $state(0);? Just transpile it to let count = $state(0) under the hood? If that can work technically, instead of introducing a new rune for reactivity, why not introduce a \"negative\" rune to denote non-reactive statements? This way, the change wouldn&#x27;t break existing code; it would be more of a progressive enhancement.exactly my thoughts, feels like they could&#x27;ve kept it much simpler reply mbStavola 2 hours agoprevAs a recent adopter of Svelte, these changes are intriguing but I don&#x27;t really have a grasp of how I feel about it quite yet.One thing that I am definitely happy to see is the removal of $: as it should help Typescript users. Personally, I was quite sick of writing: let input = &#x27;Hello&#x27;; &#x2F;&#x2F; ... let loudInput: string; $: loudInput = `${input)!`;Instead of: let input = &#x27;Hello&#x27;; &#x2F;&#x2F; ... $: loudInput: string = `${input)!`;It&#x27;s an incredibly minor thing, but when you do it 1000 times it becomes very frustrating. Having reactivity be rune-based should help TS avoid the syntactic confusion, bringing us to: let input = $state(&#x27;hello&#x27;); &#x2F;&#x2F; ... let loudInput: string = `${input)!`; reply rich_harris 1 hour agoparentHaving a great experience with TypeScript was very much one of our goals. Many design ideas failed to clear this hurdle reply cornfutes 2 hours agoprev> At first glance, this might seem like a step back — perhaps even un-Svelte-like. Isn&#x27;t it better if let count is reactive by defaultActually, it was Svelte who coined the term and sold us on the idea of reactivity by default. I don’t think anybody asked for “Reactivity by default”. Svelte advanced this idea, and it helped the framework gain traction. It was easy to get started, and gave Svelte this sense of better ergonomics than other frameworks. I was always skeptical about the performance claims, amortized, and the real selling point of Svelte was ergonomics and the dev experience.The problem with the Node.js ecosystem is the devs are borderline marketing and sales type. They’ll justify, rationalize and make things sound good after the fact. Previously, Svelte was persuading us that Svelte was better than the rest because of reactivity by default. Now they did a literal 180. It’s probably in the right direction, and maybe how things should have been. A related symptom of the Node.js ecosystem is reinventing and rediscovering the wheel. The problem here is a lost of trust. Anything else which Svelte purports it’s got figured out or is more enlightened about should be taken with a grain of salt.So it seems those boring FANG engineers with React has it right all along. They had experiencing building sufficiently complex apps where verbose but explicit code was necessary.> Because the compiler can &#x27;see&#x27; where count is referenced, the generated code is highly efficientYeah, I don’t believe such claims anymore. Sure, in cherry picked and constrained settings, the performance benchmarks might seem good. As much as I hate to admit, I will reach for the production ready and battle tested React, as boring as it is. reply rich_harris 2 hours agoparentWe never made any such claim! In fact, the reverse: https:&#x2F;&#x2F;twitter.com&#x2F;nsthorat&#x2F;status&#x2F;1653890181592653825In Svelte 3, you had to opt in to running code on updates, using things like the `$:` label. It was designed to be conservative about updating components, unlike virtual DOM solutions that like to update everything unless you opt _out_.I too am very sceptical of benchmarks — they can certainly obscure more than they reveal at times. But you don&#x27;t have to take my word for it, or the benchmark results showing that Svelte 5 is faster than every other framework in existence (https:&#x2F;&#x2F;twitter.com&#x2F;Rich_Harris&#x2F;status&#x2F;1688581184018583558) — you just need to understand the different mechanisms in play. reply pimterry 2 hours agoprevIt&#x27;s great to see people moving in this direction, but I&#x27;m disappointed that everybody has decided to reimplement basically the same thing independently.Mobx was ahead of the game here (though, granted, it too draws on Knockout.js). You can use Mobx to declaratively describe reactive state, much like this. But it isn&#x27;t integrated into any framework - you can use it in vanilla JavaScript with no other runtime or compilation required. You define models with Mobx, then on top of that there&#x27;s mobx-react, which ties your model into React&#x27;s update APIs (essentially making render() automatically observe values, and making relevant changes trigger a re-render), or there&#x27;s mobx-vue, or mobx-svelte, or mobx-preact, etc etc. Decoupling this is super helpful - for example I&#x27;m using mobx to model raw state, computed state & reactions to changes in server side Node.js, no problem.Meanwhile, recreating the same reactive concepts independently in each library instead makes all the resulting code incompatible, so even your pure JS state models are coupled to your UI framework - e.g. createCounter in this post has to import & use $state from Svelte. That makes it far harder to change frameworks in future, hard to share code between apps using different frameworks (plausibly even different versions of the same framework), etc etc.I&#x27;d love to see a native common standard for this, similar to how promises were eventually standarized and suddenly everything had a compatible model for handling async future results (I could swear I&#x27;ve seen initial discussion on exactly that already, but I can&#x27;t find it anywhere now sadly). reply gabeidx 1 hour agoparentYou may be thinking of the ECMAScript Observable proposal: https:&#x2F;&#x2F;github.com&#x2F;tc39&#x2F;proposal-observable reply pier25 1 hour agoparentprevI loved MobX. Used it for years with React and Inferno.But not only it&#x27;s an added layer of abstraction, it&#x27;s also a complex piece of machinery which is not needed when the framework solves reactivity.When I started using Svelte back in 2019 I was very happy to let go of MobX. reply Rapzid 1 hour agoparentprevThis is the way.Mobx tc39 decorator support is pretty much done too. I check in on the PR weekly haha. reply jauntywundrkind 1 hour agoparentprevIt kind of had to get sent back to the drawing board to work well (avoid all the absurd one-at-a-time limitations of generators), but async-iteration-helpers I think will be an incidental huge help in normalizing&#x2F;nudging the consumer api into \"just an async iterable\". Updating&#x2F;writing state might be more complex, speak to the implementation, but seeing things change should have a semi-standard api. https:&#x2F;&#x2F;github.com&#x2F;tc39&#x2F;proposal-async-iterator-helpersOne huge sadness I have is that when you have a callback in .then or .next, your handler doesn&#x27;t get a gratis reference to what you were listening to. I&#x27;d love to have this be a better record. DOM is so good about having thick events that say what happened, and it&#x27;s so helpful, sets such a rich base, but js snubbed that path & left passing data in 100% to each event producer to decide as it will. Consumers can craft closures to seal some data into their handlers but it sucks compared to having an extensible data flow system. We&#x27;re kind of sort of finally fixing this crime the hard way by standardizing async context&#x2F;async_hooks, which is a whole new ambient way to create context that we can enrich our async events with, since there was no first class object to extend for having omitted passing in the promise to the promise handler. https:&#x2F;&#x2F;github.com&#x2F;tc39&#x2F;proposal-async-contextAlso worth pointing out, maybe arguable as a hazard tale, observables was proposed a long long time ago. There&#x27;s still a ton of adoption. But it also feels extremely similar yet notably apart & worse ergonomics than async iteration. It&#x27;s imo a good thing it didn&#x27;t get formalized. https:&#x2F;&#x2F;github.com&#x2F;tc39&#x2F;proposal-observableAlas one reactivity I really wish we had had is object.observe (note: different API than observables), or something like it. Undoing good specification work & saying, &#x27;yeah, if users want it, they can implement it themselves with proxies&#x27; has lead to no one doing it. And you can&#x27;t just observe anything; whomever is the producer has to up front make the decision ahead of time for all consumers, which turned a great capability into something first boutique then quickly forgotten. Alas! https:&#x2F;&#x2F;esdiscuss.org&#x2F;topic&#x2F;an-update-on-object-observeI ack your ask, and there&#x27;s no shortage of options that are pretty damned good. But I feel like we are still in a discovery not deployment phase, still delay competing because we have a lot of terrain and idea space to consider. Before we pick, standardize & ship one. reply Dnguyen 2 hours agoprevI&#x27;ve been trying Svelte for the last couple of months. At first the claim was that it&#x27;s not complicated like React because there&#x27;s a lot less concepts to learn. And it&#x27;s just using basic Javascript and CSS so those skill sets are transferable to any other job. As I use it more and more, there&#x27;s more and more special way of doing things I have to learn: store, reactive variable, $, $$, etc. I didn&#x27;t mind, sure I&#x27;m in Svelte&#x27;s world. But the number of libraries is limited and it really slowed me down tremendously. Now with runes, it&#x27;s just more \"magic\" to learn. I think that&#x27;s the last straw for me. I&#x27;m done with Svelte experiment. Back to React land. reply rich_harris 2 hours agoparentDid you read the bit about how runes make all those things unnecessary in future? reply FireInsight 1 hour agoparentprevI&#x27;d argue that there are way more libraries, since vanilla JS libraries integrate beautifully, unlike in React. Unless you are only talking about component libraries, of course. reply epmatsw 3 hours agoprevThis looks like it’s moving closer to React Hooks, but using the compile step to optimize them out? Kinda like a better React Forget? reply pevey 2 hours agoparentThis might be the impression on first glance because it uses the word \"state.\" But keep reading, and its much more akin to what Solid is doing. In fact, the new docs openly credit the work Solid&#x27;s team is doing. They also credit Knockout&#x27;s approach form way back in 2010. reply pcthrowaway 33 minutes agorootparentUnder the hood it&#x27;s doing something more similar to solid, but the API exposed is a step in the direction of React (it doesn&#x27;t expose the signals to the user). It&#x27;s not quite React either because there&#x27;s no &#x27;setter&#x27;, just a different way to opt in to reactivity which also (IIUC) makes it possible in .js&#x2F;.ts files reply davedx 2 hours agoparentprevFor sure. Look at this Svelte 5 example: let time = $state(new Date().toLocaleTimeString()); $effect(() => { const timer = setInterval(() => { time = new Date().toLocaleTimeString(); }, 1000); return () => clearInterval(timer); }); Current time: {time} reply harrygeez 3 hours agoparentprevI kind of feel the same. React and all the new stuff now feels like unnecessary complexity but they definitely got the initial DX right reply cornfutes 2 hours agorootparentThe fact that the frameworks are converging on the same idea should suggest that it is necessary complexity in the framework for any sufficiently complex app. reply bhouston 2 hours agoparentprevIt looks so close to react hooks, that is the first thing that struck me. Of course the syntax is slightly different but functional it is mostly the same. It seems weird that we are definitely converging between the various frameworks. For a while with svelte I though we were diverging but that seems to be changing now. reply handsaway 2 hours agoprevI&#x27;ve dabbled with Svelte and find it pleasant to use and I think this is a step in the right direction. The main reason I ultimately keep coming back to React is I find the compile-time alterations to the semantics of my code difficult to reason about.I&#x27;ve spent a lot of time building an intuition for how Javascript code executes and how I can combine its primitives to make reasonable abstractions. The fact that this _looks_ like Javascript but suddenly operates differently is almost more confusing to me than if Svelte was just a non-Javascript language.React&#x27;s `useState`, `useMemo`, etc. are perhaps more verbose but they&#x27;re just functions. Dependency arrays are messy but it&#x27;s fairly easy to extrapolate their behavior from a basic description. reply schietegal 3 hours agoprevComparisons (Svelte 4 vs. Svelte 5 and other Frameworks): https:&#x2F;&#x2F;component-party-runes.vercel.app&#x2F; reply topoftheforts 2 hours agoparentthank you so much for sharing this site! I&#x27;ve been having a hard time wrapping my head around some Vue2->Vue3 changes and this is very helpful reply jasim 2 hours agoprevWhat about long arrays? Is there a mechanism where Svelte knows which element is mutated, and do fine-grained recomputation&#x2F;update only the corresponding view elements?This is the primary place where we have to go outside the framework in React. Only a large linear list has this problem -- if it was a decently balanced component tree, then we could skip updating huge swathes of it by skipping at a top level node. But it is not possible in an array. You have it iterate through each element and do a shallow comparison to see if the references have changed.That said, it is fairly easy to escape to DOM from inside a React component with useRef and the portal pattern. Then we can write vanilla JS which makes updates to only the values it changes.If Svelte solves this in an elegant manner, then it would be a very compelling feature over React. I&#x27;m asking here because last I checked, most of the examples in Svelte&#x27;s documentation pointed to simple counters and regular objects, and I couldn&#x27;t find an example of a large linear list. reply rich_harris 2 hours agoparentYep! https:&#x2F;&#x2F;svelte-5-preview.vercel.app&#x2F;docs&#x2F;fine-grained-reacti... reply jasim 2 hours agorootparentThank you! reply nicoburns 1 hour agoparentprevDid you try setting the `key` property in React? reply jasim 1 hour agorootparent`key` informs React of the identity of an element. That helps it during the reconciliation phase -- if it knows only one `key` in a list of DOM elements has changed, then it will run the DOM updates only on that one. Similarly if the order has changed, it only needs to move its index in the parent DOM element.But it doesn&#x27;t help in the rendering phase - aka when the virtual DOM is constructed when `render` is called on the root component, and all our JSX code is executed across the component hierarchy. Virtual DOM reconciliation cost is only a part of the performance penalty, re-running the \"view as a function of state\" computation is another major chunk. reply kalpolintrol 7 minutes agoprevtheyre really not mucking about - just a cursory play in the live preview and it promises to solve basically 99% of the weirdness I encounter in my projects. it makes sense that automatic reactivity for any let was always overkill, and the use of $: in complex scenarios got stringy. $state &#x2F; $derived &#x2F; $effect seems elegant and I&#x27;m sure will make everyday grokking + maintenance easier (\"ergonomics\"). bigup reply pier25 3 hours agoprevThis makes a lot of sense and will simplify some confusions around reactivity.I&#x27;m guessing runes will make it easier for the compiler to track the reactivity which will enable stuff like automatic partial hydration? Maybe even something like qwik?I only read the blog post and didn&#x27;t watch the video... was there any mention on perf and size improvements? reply benmccann 1 hour agoparentReactivity is faster now: https:&#x2F;&#x2F;twitter.com&#x2F;Rich_Harris&#x2F;status&#x2F;1688581184018583558And the output from the compiler is much smaller. You can compare the output on the Svelte 4 REPL to the output on the Svelte 4 REPL. The runtime has grown a bit, but the output overall is still much smaller even when factoring that in reply kevinak 3 hours agoparentprevSmaller and faster :) reply pier25 2 hours agorootparentCan&#x27;t wait to see some numbers! reply hinkley 2 hours agoprevSo if I’m understanding this, Svelte is moving from reactive by default to declarative reactivity? That does seem like an improvement in signal to noise ratio.Shared-everything does not scale. It ends in whack-a-mole and an escalating blame game about whether team members are fit to work on the project. It’s bunk. It’s deflecting from the real problem which was dereliction of duty by the “architects” who took a laissez-faire stance on state management instead of providing structure. Worked on a couple of those. Never again.Practically the whole point of encapsulation is gated access to data, putting constraints on sharing, compressing the possible state space of the system closer to the desired state space. reply spencerchubb 57 minutes agoprevThe whole selling point of Svelte was that it was simple, like a breath of fresh air. You could update the state of your component just by assigning a variable. I guess this is the natural progression of web frameworks. reply crackinmalackin 28 minutes agoprevI see these changes as net positive in the long run. Especially since it sounds like performance is getting a boost as well. The $props rune isn&#x27;t something I realized I needed, but it definitely clears up code clarity. The $effect runes makes people think we are going down the React useEffect route... but I didn&#x27;t see a dependency array attached there waiting to obliterate performance? I&#x27;m all for removing a tiny piece of Svelte magic to improve code clarity and performance gains. Seems like a big win to me. Thanks Rich and team! reply wirahx 3 hours agoprevI&#x27;ll be the first to mourn the (future) loss of $: but the video clearly shows that the changes are a pretty enticing way to make your code that little bit cleaner, and solve all of the \"but Redux!\" style questions.Svelte for Apps. Svelte for Sites. reply bowsamic 3 hours agoparentI&#x27;m not going to miss $, I&#x27;ve found it to be a weirdly documented nightmare... reply qudat 2 hours agorootparentI originally created https:&#x2F;&#x2F;neovimcraft.com in Svelte to learn how it works.I found `$:` to be extremely confusing, full of weird quirks, and completely turned me off to using svelte for anything more than basic sites.Runes seem like a clear improvement, but brings Svelte a step closer to React -- which hurts its appeal to me.The difference between `let counter = $state(0)` and `const [counter, setCounter] = useState(0)` is near its initial value -- zero.I do love the view library competitive landscape and enjoy seeing different paradigms leveraging reactivity. I also like the compiler optimizations that Svelte is bringing to the entire ecosystem.I wrote my initial thoughts on sveltekit when I built neovimcraft: https:&#x2F;&#x2F;bower.sh&#x2F;my-experience-with-svelte-kit reply rich_harris 2 hours agorootparentAs we&#x27;ve taken to saying around the virtual Svelte offices:> The magic of Svelte isn&#x27;t `let count = 0`, it&#x27;s `count += 1`That part hasn&#x27;t changed! reply bowsamic 2 hours agorootparentprevYeah I gotta agree. No comment on runes but $: was so weird that I was immediately confused at why I would try and use svelte for anything reply beders 21 minutes agoprev> Like every other framework, we&#x27;ve come to the realisation that Knockout was right all along.And we are back full-circle ;) reply keb_ 18 minutes agoprevI&#x27;m cautiously optimistic for this. My first instinct is that it doesn&#x27;t seem to provide much value add over just sticking with stores, which I think were already thoughtfully designed, but I won&#x27;t knock it till I&#x27;ve tried it. reply trafnar 41 minutes agoprevWhat I like about Imba is that you can update a variable, and the result in the view&#x2F;page is updated, without any special syntax. let count = 0 def increment count++ tag App \"Increment\"\"Count: {count}\" imba.mount Try this example here: https:&#x2F;&#x2F;scrimba.com&#x2F;scrim&#x2F;cpbmKzsq(Imba is a compile-to-js language that includes JS&#x2F;HTML&#x2F;CSS and a react-like framework all as part of the language. https:&#x2F;&#x2F;www.imba.io) reply orangepanda 3 hours agoprevReact Hooks has its problems, but it got so many things right from the start - code written in 2018, when hooks first came out, still works today. No need to rewrite everything when a new major release comes out.That said, svelte5 does solve a lot of problems that stop me from trying it. reply timeon 2 hours agoparent> code written in 2018, when hooks first came out, still works todayDoes not Svelte from 2018 works today? reply orangepanda 2 hours agorootparentjQuery from 2009 also still works today. What I meant was, developers want to use the latest and greatest. Hooks added in 2018 havent changed, there’s no replacement api for them - it’s still modern code.They got the DX right from the start, that other libraries are still trying to emulate. reply Raed667 2 hours agorootparentthat&#x27;s one thing I admired about the React team back then, they took the time to think about how things \"should\" work long term. The functional&#x2F;hooks release was criticised as people liked their class components, but time has shown that hooks were the correct decision.I feel they lost that as people gradually rotated out of the team, around the time they announced concurrent-mode, now suspense and the half baked RSC \"release\". reply nicoburns 1 hour agorootparentYeah, I&#x27;m pretty skeptical about concurrent mode. People have been trying to implement something like this since ~2010, and I haven&#x27;t seen it done well yet. reply Rapzid 1 hour agorootparentprev> Component re-rendered because hook 16 updated.DX Amaze. reply bluelightning2k 2 hours agoprevI&#x27;ve always respected Rich Harris and the Svelte team.They do an excellent job of some pretty substantial tech. But also the way he&#x2F;they explain it is so powerful.That includes the blog posts, the videos, the framework itself and the playground.This does seem like a unifying step. Seems like (at least) Svelte and Angular have both declared this model superior to their existing implementations. The video gave credit to prior art in general but would have been better to give the specific projects credit - not just ethically but also to be explicit about what is and is not similar. reply schnebbau 3 hours agoprevThis is what happens when bored developers just have to improve something that doesn&#x27;t need improving. reply rich_harris 3 hours agoparentSvelte 3 came out in early 2019, and the framework hasn&#x27;t really changed much in that time — one thing we can&#x27;t be accused of is making changes for changes&#x27; sake.But since then, the front end community has discovered valuable new ideas and techniques. Meanwhile, people have encountered the limits of the Svelte 3 approach. Svelte is really good at solving most of the problems you throw at it, but it&#x27;s not perfect. The changes we announced today are _necessary_.If you&#x27;re not convinced, I encourage you to watch this video, where I talk about why that is: https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=RVnxF3j3N8U reply pbowyer 2 hours agorootparentThat&#x27;s a great - and funny - video. Nicely done! reply disintegrator 3 hours agoparentprevI think Rich clearly demonstrated the pitfalls in today&#x27;s Svelte and the introduction of runes seemed like a great solution to them. I&#x27;m not a Svelte user but this new feature does seem clearer to me when looking at the refactored code than the magic reactivity behind the `$` syntax. Overall a net win in my opinion. reply jraph 1 hour agoparentprevI was a bit apprehensive reading the comments here, but reading the presented changes, I&#x27;m actually quite happy.I built two Svelte apps. I liked using Svelte but was a bit annoyed by the aspects these changes are fixing.The code also seems easier to write and to understand.My feeling that the Svelte team has taste is strengthened. reply danaw 1 hour agoparentprevAlways gotta be someone like you in the crowd eh?Perhaps, just perhaps it&#x27;s a good change for a lot of people? reply chrisco255 3 hours agoprev\"Like every other framework, we&#x27;ve come to the realisation that Knockout was right all along.\"Nope, nope. Been there, done that, with 2-way data binding and never going back. reply hinkley 3 hours agoparent> with 2-way data binding and never going back.We used to know that, too. We also used to know that entirely event-driven architectures were a level of chaos you shouldn’t invite into your enterprise. Don’t need to look hard to see those either.Whole industry has been cycles of collective amnesia going back to at least 1975.[Edit] but in this case what we seem to be doing is having another go at Aspect Oriented Programming, which I was interested in for some time but concluded it, like event-only systems, are a poor fit for the average developer’s mental model, and also a terrible way to encode business requirements. Particularly from a testing perspective. They are usually dabbling at functional core, imperative wrapper architectures, but tend to retain global shared state which is a reliability nightmare waiting to happen. reply capableweb 3 hours agoparentprevI thought that quote of yours was a sarcastic overview you yourself had written but no, it&#x27;s an actual quote from the article!> Like every other framework, we&#x27;ve come to the realisation that Knockout was right all along.> Svelte 5&#x27;s reactivity is powered by signals, which are essentially what Knockout was doing in 2010. More recently, signals have been popularised by Solid and adopted by a multitude of other frameworks.> We&#x27;re doing things a bit differently though. In Svelte 5, signals are an under-the-hood implementation detail rather than something you interact with directly.That&#x27;s a sad development and further makes the framework more complect (as defined by Rich Hickey), with more hidden layers and \"magic\". reply tambourine_man 2 hours agoparentprevI’m still waiting for every other framework to realize that jQuery was right all along.But if these guys are only now reaching Knockout, I still have to wait for them to catch up to Backbone.js, I guess. reply paavohtl 2 hours agorootparentjQuery is not a framework by any definition of the word. It&#x27;s a collection of largely unnecessary (in modern times) utility functions for imperative DOM manipulation. reply tambourine_man 26 minutes agorootparentLibrary vs framework is a largely pointless distinction, IMO. reply twic 2 hours agorootparentprevOne day my MooTools skills will be cutting edge again, i&#x27;m positive. reply tambourine_man 2 hours agorootparentI was very glad when jQuery won. I never liked MooTools or Prototype, really. jQuery was love at first sight [site] reply gryzzly 2 hours agorootparentprev I’m still waiting for every other framework to realize that jQuery was right all along.I find myself feeling this way a lot while writing front-end code.While I am primarily a back-end developer by trade, I find myself working in Vue or React quite often just to get things done and regularly come to the realization that the majority of the reactivity in the projects I am working on is either unnecessary or so simple that it would be handled with less complexity as a line or two of jQuery. reply interactivecode 2 hours agorootparentThats similar to me as a frontend dev seeing all the backend complexity and thinking it would be easier just to read and write a json file instead of a db + apis.It works but on longer projects where requirements can explode in complexity it becomes a problem. It really helps to have tools that can stay maintainable. reply tambourine_man 2 hours agorootparentYeah, sure. It&#x27;s pure joy of mantainability and dependencies.Just watch out for that dust, if you sneeze next to a 5 year old Node.js&#x2F;React project, the whole thing falls apart. reply devmor 2 hours agorootparentprevThat comparison works against your point quite well because there are an absolutely incredible amount of backend services built with scalability and sharded postgres dbs with redis caching or what-have-you that would have been perfectly served by a perl script and an sqlite file. reply tambourine_man 2 hours agorootparentprevWe sometimes have to step back from our high tech bubble. Check out jQuery&#x27;s usage on the web. The unbeatable juggernaut that React seems from up here clocks at under 5% market share. It&#x27;s sobering.https:&#x2F;&#x2F;w3techs.com&#x2F;technologies&#x2F;overview&#x2F;javascript_library reply joaonmatos 19 minutes agorootparentThere might be a long tail phenomenon at play here. Do you have stats on number of developers using the tech or on page views for each framework? reply mgaunard 2 hours agoparentprevMy experience with JavaScript is limited, but knockout is what I use because it&#x27;s what makes sense. reply chrisco255 2 hours agorootparentKnockout is fine to use if your JS doesn&#x27;t exceed 1000 lines or so. After that, in more complex apps, 2 way data binding becomes an absolute mess of side effects. reply donpark 48 minutes agoprevUnless I misunderstood, Svelte 5 &#x27;runes&#x27; appears to be just &#x27;markers&#x27; making explicit what used to be implicit with two noteworthy benefits:- simpler compiler implementation - easier to identify moving partsIf so then the intro article needs a rewrite to be simpler without unnecessary districting details. reply gsuuon 1 hour agoprevInteresting that signals are coming back hard - Elm had and removed signals due to the learning curve and complexity. With solidjs I pretty immediately ran into the gotchas of signals. I like that reactivity is explicit rather than implicit in svelte 5 - implicit reactivity makes debugging stale views pretty unintuitive. reply rich_harris 1 hour agoparentYes. Signals are a wonderful mechanism, but they do come with headaches. Our goal was very much to adopt the elegant reactivity model without all the downsides, and we&#x27;ve approached this by making them an under-the-hood implementation detail that you don&#x27;t interact with directly. reply aarpmcgee 40 minutes agoprevFor me, in both Firefox and Chrome (but not Safari), all the code samples look like this:https:&#x2F;&#x2F;imgur.com&#x2F;yGXHb1hAnyone know what&#x27;s going on here? reply zztop44 3 hours agoprevThis looks great. Stores are one of the unexpected pleasures of Svelte and this seems like it will extend them both in terms of power and also grokability reply 4kimov 2 hours agoprevHaving moved from React to Svelte, it was always a breath of fresh air to write less and have it just work. Feels strange seeing state&#x2F;props&#x2F;effect again, almost like I&#x27;m back to React. reply notfed 1 hour agoprevAs someone who just started Svelte two days ago, my naïve take is that this feels like adding verbosity.1. Is there no way for the compiler to automatically, recursively find reactive dependencies?2. Assuming no, is there not a more terse way to decorate reactive expressions? reply matthewmueller 1 hour agoprevCongrats on the announcement! This seems like an impressive step forward to accommodate larger Svelte apps while making the language simpler.One thing that popped out was that it seems like .js files will also need to be transformed now to accommodate the $ to rune translation.Feature request to make that optional, perhaps something like: import { rune } from \"svelte&#x2F;rune\" let $count = rune(0)Oh, one other thing. Will reactivity apply to nested fields in objects and arrays? reply barrongineer 1 hour agoprevSvelte has never looked more like Vue to me. I don&#x27;t mean this as a dig, I think it looks great.It&#x27;s just even less obvious to me why I might pick it over Vue at this point. reply mgaunard 2 hours agoprevWeb tech. So much noise about trivial things. reply viviansolide 2 hours agoprevIt&#x27;s pretty cool to see the direction this framework is taking. It was already easy enough to work on Svelte, but now it&#x27;s even easier. Especially if you&#x27;re familiar with a framework like Vue or React. Performance seems to have improved quite a bit too.GG reply jussayin 2 hours agoprevI&#x27;m evaluating Svelte for a project. The previous Svelte syntax governing reactivity is easier to reason about. For what it&#x27;s worth, I don&#x27;t understand the new proposal after several readings. I suggest that the Svelte team pause and consider feedback for a year before jumping into a what appears to be a wrong design direction. reply danaw 1 hour agoparentHad the opposite experience. It seems intuitive and a step forward making the API clearer. It also eliminates a bunch of potential footguns at the same time. reply emmanueloga_ 2 hours agoprevHmmm. Perhaps \"intrinsic\" would have been ok for this? \"a function which a compiler implements directly\". In any case, it really seems like mainstream frontend programming has gone too far, and has started parodying itself... Runes... sigh :-pFacebook itself (and FB messenger) are pretty buggy apps that are built on React, so not even the \"masters\" know how to do React properly, judging by the results... To be honest, I don&#x27;t know that the whole thing that KnockoutJS started is really necessary. These days I prefer to work with the DOM directly when possible. http:&#x2F;&#x2F;domenlightenment.com&#x2F; is a good resource for people wanting to explore how to implement HTML5 applications, going back to the basics. reply supz_k 2 hours agoprev\"At first glance, this might seem like a step back — perhaps even un-Svelte-like. Isn&#x27;t it better if let count is reactive by default? Well, no. The reality is that as applications grow in complexity, figuring out which values are reactive and which aren&#x27;t can get tricky. And the heuristic only works for let declarations at the top level of a component, which can cause confusion. Having code behave one way inside .svelte files and another inside .js can make it hard to refactor code, for example if you need to turn something into a store so that you can use it in multiple places.\"This is absolutely true. I have been confused many times figuring out what are reactive states and what are not.I never knew Svelte needs changes like this, but seeing this, it sounds like a good plan. reply kokizzu5 1 hour agoparentit is reactive by default, just if you use $: and the dependent value never updated, it would give undefined, personally i never got this kind of issue XD so I&#x27;ll stick with old syntax until I really2 need $state&#x2F;$effect&#x2F;$derived reply zenbai 1 hour agoprevSolid is still the best implementation of fine grained reactivity. reply Nezteb 2 hours agoprevRunes remind me of Recoil atoms&#x2F;selectors: https:&#x2F;&#x2F;recoiljs.org&#x2F;docs&#x2F;introduction&#x2F;core-concepts reply skrebbel 2 hours agoprevIf you like this, I recommend you also look into SolidJS, which is basically this idea with less compiler magic and fewer dollar signs (and more JSX).It also comes with a built-in model layer called Stores which is genius in its simplicity. In React land I’ve used Flux, Redux, MobX, mobx-state-tree, zustand and pullstate, and IMO Solid Stores beats them all (because Solid makes this possible, not because those libs are dumb)https:&#x2F;&#x2F;www.solidjs.com&#x2F; reply kabes 2 hours agoparentWhy didn&#x27;t you like mobx then? In the end, it&#x27;s just implicit signals (where modifying the signal is done by the proxy) reply satvikpendem 2 hours agoparentprevWhat is different about stores compared to what React offers? reply makingstuffs 1 hour agoprevGuess that puts an end to the whole spiel of \"You already know Svelte\" reply klysm 2 hours agoprevI don&#x27;t know svelte, but it seems like every front end framework introduces &#x27;new&#x27; reactivity concepts deep into it&#x27;s lifetime. A lot of them start looking like react hooks too. reply pupppet 2 hours agoprevThese updates lean heavily towards how Vue approaches setting reactivity.Is there any slam-dunk case for using Svelte over Vue? reply jzig 2 hours agoprevEveryone comparing to React but this looks similar to RxJS Observables as well. Don&#x27;t leave out us Angular folks! reply wikoj1021 1 hour agoprevWhat about scoped reactivity? Sometimes you need to react on some of the states not all of them. Right now we are achieving this by passing function with arguments to react on to $: but with $derived and $effect it seems to be not possible because it takes variables from every function passed. Are there any plans how to resolve this? Also nested $effect instead of onMount looks awfull and to be honest is less readable. reply mkishi 55 minutes agoparentYou can use `untrack` [1] when you don&#x27;t want to react to some state inside an effect.You can still use `onMount`. It&#x27;s not deprecated [2], although `$effect` could be used similarly going forward.[1] https:&#x2F;&#x2F;svelte-5-preview.vercel.app&#x2F;docs&#x2F;functions#untrack[2] https:&#x2F;&#x2F;svelte-5-preview.vercel.app&#x2F;docs&#x2F;runes#$effect-what-... reply vorbiscuit 2 hours agoprevI&#x27;m not a website programmer like most people here (I work mostly in C and ARM assembly) so can someone knowledgeable on this topic please explain what is the purpose and background of this?Also, I don&#x27;t really understand why it&#x27;s at the top of HN either, is this a groundbreaking change to whatever Svelte is? reply micahbule 2 hours agoparentjQuery changed the game for frontend web development. Instead of static pages on the browser, interactivity for the client-side proliferated because DX on top of jQuery was way better. Then they started cursing jQuery for its limitations.Then came React -- which again changed the game for frontend web development. Instead of wonky scripts and targetting CSS classes, you get a modular and reactive approach in building the web. Then they started cursing React because of performance issues and implementation complexities.Svelte was designed to behave like React but perform better and reduce the implementation complexities. I had the chance to work with Svelte 1 back then and as a React developer, it would really make you think \"Why did React do that?\".This is probably on top of HN because people loved Svelte too -- but some followers are now questioning the direction as this change is gravitating towards solutions that React already implemented. As it happens, React did solve a lot of problems for the frontend, and they really nailed it. reply tln 2 hours agoprevI recently wrote a game in Svelte 4, and went through a transition from using the &#x2F;$ reactivity to stores. This looks MUCH nicer to deal with.Their examples seem to be missing some imports? Trying to use $state as shown with svelte@5.0.6 gives \"ReferenceError: state is not defined\". reply benmccann 2 hours agoparentNo, runes like $state do not need to be imported. They&#x27;re similar to import() that they look similar to functions, but are keywords built into the language. reply bilekas 2 hours agoprev> Like every other framework, we&#x27;ve come to the realisation that Knockout was right all along.I never had so much fun and understanding of a UI framework as I did when working with KnowckoutJS and DurandalJS way back when. reply noelwelsh 3 hours agoprevSo it&#x27;s a kind of type system using a kind of Hungarian notation? :Flashbacks to Win32 intensify:I think a real type system (i.e. compiler checked, rather than relying on falibilities of human programmers) would be a better solution. If Svelte already has a compiler why not implement this as part of it? reply JoRyGu 2 hours agoparentCan you clarify what you mean? I&#x27;m not sure how you watched&#x2F;read that and got \"type system\" out of it. reply noelwelsh 2 hours agorootparentAdding annotations (runes) to expressions to describe their properties is basically putting type annotations on expressions. Maybe I missed something, but that what it seemed like to me. reply amadeuspagel 3 hours agoprevExporting functions makes so much sense. Had asked myself why this doesn&#x27;t work many times. reply yewenjie 1 hour agoprevThis is all great stuff but my silly mind was expecting new cool features from Svelte 5, not only DX improvements. reply joeldrake 2 hours agoprevWhy not just call it signal and computed? (instead of state and derived) reply joeldrake 1 hour agoparentAfter reading this from rich_harris:”Basically, you can only modify state _where it&#x27;s declared_. If you want to allow the &#x27;outside world&#x27; to modify that state, you need to expose a function that does so. This is unlike cases where you&#x27;re passing around an observable object where anyone with a reference, which they need for reading, can also write to it by doing `thing.value += 1`. This is something Solid gets right — you can only change a signal&#x27;s value if you have a reference to its setter.”I now realize that this isn’t exactly the same thing as Vues ref of Preacts signal. Maybe its own name is good after all. reply dagamerish 2 hours agoparentprevAngular right? reply joeldrake 2 hours agorootparentYes, and Preact.Vue also uses ”computed”, but ”ref” instead if signal. It just strikes me that a lot of frameworks seem to implement the same thing (signals) but use different names for it. reply jamincan 2 hours agoprevAs I understand it, this should make it possible to subscribe to non-top-level stores and avoid having to use the horrible hack from svelte-subscribe. reply wg0 2 hours agoprevThis seems better and makes JS uniform all across but I hope we don&#x27;t go to the nightmare called hooks. useXXX - please no. reply netcraft 3 hours agoprevI dont use Svelte or react, im sure its lovely and solves real problems. And maybe im just getting old, but over the last 20 years all evidence I have is that \"magic\" is a trap. Its so strange to me to see such a high profile project leaning into it like this. Youre writing javascript, but the way you must reason about what your code is doing is so different than javascript. reply BigJono 2 hours agoparentReact gets a bad rap because of all the rubbish built around it, but if you do ever want to try the declarative model over vanilla&#x2F;jQuery, React is actually exactly what you want if you want to avoid compile time magic. The only thing happening at compile time with React is a line-for-line swap from JSX tags: {boop}to a createElement function call: React.createElement(\"foo\", { bar: \"baz\" }, ...boop);Other than that it&#x27;s entirely Javascript. No templates, computed&#x2F;derived values or any of that other bullshit. You could probably implement the compile step in like 5 lines of code.I&#x27;ve built big projects in Vue and find it almost impossible to find a reason to use it. Svelte looks cut from the same cloth. They just fundamentally have the wrong approach. reply spankalee 2 hours agoprevAll these compilers and language forks, man... reply karol 3 hours agoprevI never expected that in 2023 someone will still be inventing new abstractions in JavaScript.I see it a bit like chess now, there will always be people making progress on a particular opening and variant. reply sambeau 2 hours agoprevIsn’t this just qwik?Or have I missed something important? reply sambeau 2 hours agoprevIsn’t this just Qwik?Or am I missing something important? reply chrismorgan 2 hours agoparentIt’s nothing like Qwik, nothing at all. Qwik’s key selling point is being what they call resumable. Svelte is not that. reply sbjs 2 hours agoprev> Isn&#x27;t it better if let count is reactive by default?> Well, no. The reality is that as applications grow in complexity, figuring out which values are reactive and which aren&#x27;t can get tricky.People keep re-learning that there&#x27;s a certain amount of context that needs to be explicit, and you can&#x27;t just imply everything. Just like when ruby and python made the mistake of getting rid of let&#x2F;contst&#x2F;var&#x2F;etc and programmers said wait no that&#x27;s a bad idea, now it just makes everyone&#x27;s job harder, because neither the compiler nor the developer can figure out what context something belongs to. reply notfed 1 hour agoparentSomeone with Svelte experience please help me understand: what did \"tricky\" mean here? Tricky to compile, tricky for readability, tricky to design, what? reply EugeneOZ 2 hours agoprevSame thing but without magic - Angular Signals.I do not like magic in code. reply tootie 3 hours agoprevPerl called these sigils. They were incredibly useful and powerful, but the dev community decided that they hated them. reply vore 3 hours agoparentApart from the superficial use of the $ sign, what else is Perl about any of this? reply notfed 1 hour agorootparentParent made no such comparison to perl, but merely observed a lesson learned from perl. reply tambourine_man 2 hours agoparentprevThere’s almost nothing that Perl hasn’t done before and first. reply high_priest 3 hours agoprev [–] Svelte slowly shapeshifting into jquery. Day after day, methodical evolution. reply vore 3 hours agoparent [–] Apart from the superficial use of the $ sign, what else is jQuery about any of this? reply clessg 2 hours agorootparentPrinciple of charity, perhaps they&#x27;re just referring to how much easier & ergonomic it&#x27;s becoming over time! ;) reply cdelsolar 2 hours agorootparentprev [–] hot takes get a lot of upvotes on Hacker News, I&#x27;ve even done it myself recently and it works (despite me knowing very little about the topic). replyApplications are open for YC Winter 2024 GuidelinesFAQListsAPISecurityLegalApply to YCContact Search:",
    "originSummary": [
      "The forthcoming Svelte 5 API, known as \"Runes,\" introduces granular reactivity and simplifies the development process by using symbols (runes) to guide the Svelte compiler.",
      "The new API expands reactivity outside of .svelte files and allows its use in .js and .ts files. It introduces $derived and $effect runes to set dependencies during runtime, rather than compile-time.",
      "Runes, an implementation detail, offer efficient and user-friendly reactivity, making some older Svelte concepts obsolete. Though Svelte 5 isn't production-ready, a preview site is available for testing and feedback."
    ],
    "commentSummary": [
      "The discourse focuses on features of the Svelte 5 framework, such as signals, observables, and reactivity. Attendees debate over the complexity versus improved code clarity and performance.",
      "Comparison to other popular frameworks like React, Vue, and Solid is prevalent, with considerations on challenges in large web applications and the balance between simplicity and the learning curve.",
      "There is a mixed sentiment towards Svelte, with some users deciding to switch to alternate frameworks, however, the latest changes in Svelte are generally regarded as a positive progress, yet there is persistent conversation around the topic."
    ],
    "points": 294,
    "commentCount": 222,
    "retryCount": 0,
    "time": 1695218372
  },
  {
    "id": 37581485,
    "title": "We have successfully completed our migration to RAM-only VPN infrastructure",
    "originLink": "https://mullvad.net/en/blog/2023/9/20/we-have-successfully-completed-our-migration-to-ram-only-vpn-infrastructure/",
    "originBody": "Not using Mullvad VPN Stockholm, Sweden Check for leaks About Policies Blog Pricing Servers Downloads Help Account Get started We have successfully completed our migration to RAM-only VPN infrastructure 20 September 2023 NEWS SYSTEM TRANSPARENCY Today we announce that we have completely removed all traces of disks being used by our VPN infrastructure! In early 2022 we announced the beginning of our migration to using diskless infrastructure with our bootloader known as “stboot”. Completing the transition to diskless infrastructure Our VPN infrastructure has since been audited with this configuration twice (2023, 2022), and all future audits of our VPN servers will focus solely on RAM-only deployments. All of our VPN servers continue to use our custom and extensively slimmed down Linux kernel, where we follow the mainline branch of kernel development. This has allowed us to pull in the latest version so that we can stay up to date with new features and performance improvements, as well as tune and completely remove unnecessary bloat in the kernel. The result is that the operating system that we boot, prior to being deployed weighs in at just over 200MB. When servers are rebooted or provisioned for the first time, we can be safe in the knowledge that we get a freshly built kernel, no traces of any log files, and a fully patched OS. MULLVAD About Help Servers Pricing Blog What is privacy? Why Mullvad VPN? What is a VPN? Download Press Jobs POLICIES Open source Privacy policy Cookies Terms of service Partnerships and resellers Reviews, ads and affiliates Reporting a bug or vulnerability ADDRESS Mullvad VPN AB Box 53049 400 14 Gothenburg Sweden support@mullvad.net GPG key Onion service FOLLOW US @mullvadnet @mullvadnet MullvadNet Mullvad VPN mullvad LANGUAGE English",
    "commentLink": "https://news.ycombinator.com/item?id=37581485",
    "commentBody": "We have successfully completed our migration to RAM-only VPN infrastructureHacker NewspastloginWe have successfully completed our migration to RAM-only VPN infrastructure (mullvad.net) 268 points by dgavrilov 10 hours ago| hidepastfavorite122 comments HPsquared 3 hours agoI wonder about those VPNs that say \"we don&#x27;t log or store anything\". That may be the case, but they probably just send a continuous stream of data to the law enforcement &#x2F; intelligence services or whoever instead of storing it themselves. They can then correctly say \"WE don&#x27;t log\". reply KomoD 1 minute agoparent> but they probably just send a continuous stream of data to the law enforcement &#x2F; intelligence services or whoever instead of storing it themselves. They can then correctly say \"WE don&#x27;t log\"No they can&#x27;t, because THEY are still logging. reply vinay_ys 1 hour agoparentprevEven with an honest company, the pressures on them are twofold – security and legal. Their systems can be compromised through security vulnerabilities and social engineering (including coercion – money, ideology, compromise, ego – classic psyops playbook). Or they can get legal government orders - which pretty much every government in the world have laws on books and operational practices to force any actor to hand-over data in the name of fighting money laundering and terrorism (AML&#x2F;CFT). It is very expensive to put up strong defenses against these. I don&#x27;t see a viable business model charging $5&#x2F;month that covers regular operational expenses and covers these types of events.Edit: Forgot to mention backdoors built into basic technologies they may already be using – like the Cavium HSM thing that came to light earlier this week. reply traceroute66 2 hours agoparentprev> I wonder about those VPNs that say \"we don&#x27;t log or store anything\". That may be the case, but...There may inevitably be some bad actors.But then there are other companies like OVPN who proved in court that when they say no logging they mean it[1].[1] https:&#x2F;&#x2F;www.ovpn.com&#x2F;en&#x2F;blog&#x2F;ovpn-wins-court-order reply NegativeK 1 hour agoparentprevThat&#x27;s an... interesting? interpretation of what logging is.What you&#x27;ve described, to me, is the VPN logging customer activity and then sending it elsewhere to be stored. reply eviks 2 hours agoparentprevIf you&#x27;re that compromised, wouldn&#x27;t it be much easier to just log and lie about it? reply smith7018 1 hour agorootparentLying about it opens you up to potential litigation and being exposed through discovery. It makes less sense to outwardly lie to paying customers rather than simply lie by omission. reply hinkley 1 hour agorootparentI can just imagine EFF drooling over such a prospect. reply TheRealPomax 1 hour agorootparentThe EFF wants a world where this kind of BS, and consequent litigation, is a thing of the past. If there&#x27;s water running down their face, it&#x27;s tears, not drool. We deserve a better world. reply hinkley 36 minutes agorootparentYou get there by either getting congress to pass laws or by setting legal precedent in the court. That’s the goal of the legal arm. Not to fight every bullshit civil liberties case, but to fight the last one that doesn’t get thrown out in court.If you don’t think they look forward to those cases, I think you’re the one who has read them wrong, not me. reply CrazyPyroLinux 1 hour agorootparentprevthis is what \"warrant canaries\" are for. dont use anyone who doesnt have one reply NegativeK 1 hour agorootparentThere should probably be case law before anyone actually believes in warrant canaries.&#x27;If it&#x27;s illegal to advertise that you&#x27;ve received a court order of some kind, it&#x27;s illegal to intentionally and knowingly take any action that has the effect of advertising the receipt of that order. A judge can&#x27;t force you to do anything, but every lawyer I&#x27;ve spoken to has indicated that having a \"canary\" you remove or choose not to update would likely have the same legal consequences as simply posting something that explicitly says you&#x27;ve received something. If any lawyers have a different legal interpretation, I&#x27;d love to hear it.&#x27; --Moxie Marlinspike reply powersnail 1 hour agorootparentWhat happens when someone asks you whether you have received a court order of some kind? Are you compelled by court to lie about it? reply Jerrrry 1 hour agorootparent\"We must comply with legal subpoenas in the jurisdiction in which we operate,\" reply TheRealPomax 1 hour agorootparentprevWhy would someone have to lie? They can just say \"We can&#x27;t comment on that\" without providing an answer. And then customers can go \"sounds pretty suspicious, time to switch VPN services\". reply Jerrrry 1 hour agorootparentprevLiteral security theatre. reply foobiekr 3 hours agoparentprevThis is how lawful intercept systems have worked since the nineties. You’d have to go look at their jurisdiction to see whether there are laws mandating LI that impact vpn providers. Or Mulvad could clear it up, I guess.Sweden absolutely has LI requirements for all telecom gear but vpns I have no idea. reply verandaguy 2 hours agoparentprevI formerly worked for a somewhat-older mainstream consumer VPN provider for a few years, to the extent that you can take my word for it, this is not industry-standard practice at least as far as the provider is able to control it.Commercial VPNs typically run on rental servers -- usually a mix of the major cloud providers and smaller hosting providers -- and in my former company&#x27;s case, using dedicated hosting (bare metal where available). Steps were taken to restrict access for physical actors, but ultimately, the mantra&#x27;s always that physical access basically guarantees data access on a long enough timeline if you assume there&#x27;s a bad actor in the mix.That said, to the best of my memory, there were no indications of this kind of data siphoning happening without our knowledge, and we absolutely didn&#x27;t take part in it ourselves knowingly. Occasional requests would come in from various international law enforcement orgs, and every time they&#x27;d be replied to with a message about how we don&#x27;t store user records (which was a truthful reply AFAIK).The biggest challenge for us was competing with some of the newer actors in the space, taking advantage of deceptive marketing and engaging in (IMO) unethical business practices for the sector:- Claims of \"no logging,\" even backed up by audits, are only ever point-in-time measurements, and may not reflect reality if the VPN provider approaches the auditors in bad faith (say, with a sanitized code base); a good auditor in my experience will refuse to make this claim in the report- Claims about having the corporate HQ in one country making it immune from the laws of countries they operate servers in (this is deceptive marketing; failure to comply with laws will get you shut down, and at my old employer we&#x27;d make calls about whether to just drop our server presence in a country entirely in response to local laws and political happenings)- Commercial resale of user data is (allegedly) rampant among many of the newer providers you see constantly plugged on Youtube. This isn&#x27;t helped by the massive consolidation of the VPN market under just 2 or 3 holding companies.I won&#x27;t name names for the companies I mentioned above, but my recommendation is to adjust your threat model from \"nation-state level surveillance\" to \"commercial data resale just like every other web service.\"As far as data collection went for my old company: we collected system metrics like resource usage over time, and kept minimal sanitized logs to help diagnose any production issues that&#x27;d come up -- basically the absolute minimum amount of data we needed to keep the service operating smoothly. I have every reason to believe this is an industry norm, since otherwise development and troubleshooting would be nearly impossible.Anyway, there&#x27;s also the looming \"threat\" (lol) of HTTPS and encrypted DNS proliferation and improvement making the core use case for commercial VPNs obsolete. I think anyone who&#x27;s spent a bit of time in that industry realizes that the business model isn&#x27;t long for this earth as a result, so I suspect many are trying to milk the industry for all it&#x27;s worth. Personally, I&#x27;m all for HTTPS and encrypted DNS proliferation, and I&#x27;m also hoping more and more commercial public networks start using virtual private subnets and other device isolation features to make it even harder to abuse coffee shop Wi-Fi. reply azalemeth 10 minutes agorootparentThe other argument is to frustrate network correlation analysis. Many VPN providers have an internal high-bandwidth network (virtual or otherwise); you can send a packet to $VPN_SERVER_X, it sends it to $VPN_SERVER_Y possibly via other intermediate servers, and $VPN_SERVER_Y then forwards it on to your destination.If you live in a country with detailed data retention laws, this massively changes the shape of the graph: rather than your computer connecting via HTTPS to lots of other IP addresses, it only connects to one, which a large number of other customers do too. The argument then goes that there&#x27;s enough inherent jitter and generic \"chaff\" on the internal network to make it very hard to deterministically work out if one of your packets going in to a popular service is the same as that coming out at any moment in time; the greater the traffic of the network and the provider the better the statistical protection becomes as the packets become indistinguishable.This, and the fact that it represents a giant \"no thanks\" to dragnet surveillance, is arguably a good reason to just put a VPN on your router (as many people do). reply robertlagrant 1 hour agorootparentprev> Anyway, there&#x27;s also the looming \"threat\" (lol) of HTTPS and encrypted DNS proliferation and improvement making the core use case for commercial VPNs obsoleteFor a lot of people the core use case is accessing Netflix in a different country! reply gs17 42 minutes agorootparentI&#x27;m constantly amazed VPNs get away with advertising that, more specifically the ones that advertise lower prices for subscriptions&#x2F;products. I guess Netflix themselves won&#x27;t really care if you switch regions for different shows and might write off discounted subscriptions as alternative to piracy, but the companies that license content by region don&#x27;t care? reply verandaguy 1 hour agorootparentprevThis is also true and shockingly difficult to do reliably. reply mixmastamyk 48 minutes agorootparentprevIf you have to pay for safe, encrypted DNS, how is that substantially different than using a VPN? Still need an external service. reply verandaguy 41 minutes agorootparentI&#x27;m not sure how this relates to the parent comment, but there are free encrypted DNS services out there, though the same can&#x27;t be said for encrypted and anonymous ones (which is, frankly, a hard problem to solve, realistically speaking).With encrypted DNS you&#x27;re just shifting the burden of data privacy away from the local network to the DNS operator. How you determine which operators to trust will probably vary from person to person.Anyway, the major difference here would be that a VPN will encrypt all traffic in a tunnel, from your DNS requests to your actual followup web requests. On the flipside, you may use encrypted DNS to look up records for a domain that serves content over an unencrypted connection. reply dtx1 1 hour agorootparentprevI always assumes the core usw case was piracy reply mplewis 2 hours agoparentprevWhat evidence makes you believe this is happening? reply rsaxvc 1 hour agorootparentHistorical: Room 641A at AT&T in the US. reply karaterobot 1 hour agorootparentprevI inferred that they were speculating, not that they had a smoking gun piece of evidence. The word \"probably\" is what tipped me off, ymmv. reply eddythompson80 2 hours agoparentprevGiven the ridiculous number of VPN providers that say that, how are they keeping the secret exactly? reply 2OEH8eoCRo0 2 hours agoparentprevTo claim such a thing you should put up some evidence. I think they are actually streaming all data to the Martians. reply NoMoreNicksLeft 2 hours agoparentprevI don&#x27;t think that the Houston Police Department (or whichever city you&#x27;re in) is sophisticated enough to set up an NSA-fiber-optic-backbone-data-siphoning operation. Yes, the NYPD is known to buy illegal million dollar cell phone interceptor machines, but that&#x27;s about it the maximum level that sort of thing ever goes, for the largest municipal law enforcement agency in the United States.Like, how would that even work? Without a court gag order, gossip would make its way out of the building in weeks. The cell phone shit only was only quasi-secret because only police department employees were involved, something that&#x27;s impossible for these VPN outfits. They don&#x27;t get any of the (unjustified) privilege that the CIA or NSA (or even the FBI, sometimes) receive.Anything I might do that could pique the curiosity of law enforcement is definitely below the level of federal intelligence agency interest. Maybe your life is more exciting though. reply aaomidi 3 hours agoparentprevhttps:&#x2F;&#x2F;www.assured.se&#x2F;publications&#x2F;Assured_Mullvad_relay_se...Honestly I don’t think audits are worth anything. But it’d be a huge conspiracy to mess with so many parties. reply verandaguy 57 minutes agorootparentAudits are IMO worthwhile, but end users should be aware of the scope of an audit. In the context of commercial VPN providers, it&#x27;s usually just a code security audit -- are there any memory leaks? Is sensitive data being passed around a little bit too loosely? Is there some way for unprivileged users to gain privilege escalation by crafting a malicious request against one of your services?In this sense, they&#x27;re valuable. As someone working in software, I can figure out if the bugs were subtle or blatant, which is often a good proxy metric for the competence of the team behind the product. Are the same bugs cropping up year after year, even if they&#x27;ve already been previously fixed in other parts of the code? Again, a good red flag to use there.Audits do not and often cannot cover things like \"is the company reselling connection&#x2F;user metadata to other companies,\" though, and in most cases consumers will care that there is an audit rather than caring what&#x27;s in the audit. reply foobiekr 3 hours agorootparentprevThis is a sec eval. It doesn’t eval what the service can do. reply Ajedi32 23 minutes agorootparentSections 2.1.1 and 3.1.18 reply lopkeny12ko 2 hours agoparentprevThis has never made any sense to me. I&#x27;m surprised this isn&#x27;t a massive red flag from anyone on HN.Running a production-grade service with zero metrics and logs? If there&#x27;s an outage, or even something as mundane as a VM failing to provision, you&#x27;re telling me that Mullvad developers just shrug and say \"well, we can&#x27;t do anything, because there&#x27;s no logs!\"I don&#x27;t use a third party VPN, but if I wanted to, \"we deliberately eschew all observability\" is not a positive selling point. reply CydeWeys 2 hours agorootparentWho said they don&#x27;t have metrics? The VPN servers don&#x27;t have any storage, but they can still send metrics to an off-machine API, or a different server that does have storage can send requests to the VPN servers and do metrics that way.Ditto for logging. They claim to not log activity over the VPN itself, but I don&#x27;t see any claims about not logging more mundane infra stuff like \"a VM failed to provision\". I think you&#x27;re arguing here against claims they aren&#x27;t making. reply portpecos 2 hours agorootparent> but they can still send metrics to an off-machine APIAnd that would be the next most interesting post, imo. A post about how they metric and log in a RAM-only environment while obscuring or obfuscating the details that could lead to “compromise”. Even if the answer is something so simple like “we regex and discard this out”, I would feel more trusting of their services. reply eddythompson80 2 hours agorootparentprevYes, because it’s a simple service (VPN) that hasn’t added a billion nonesense features over time. You can log VM provisioning and health logs but as long as you don’t log any wireguard logs or user provisioning logs you’re good. reply blackoil 1 hour agorootparentprevMetrics are mostly by nature anonymous. Things measured are CPU&#x2F;Mem usage, network rate. Metrics at IP&#x2F;user level aren&#x27;t of much value. Companies add country&#x2F;device type attr. but they can be done without.Logs can similarly be of system events only. reply klysm 2 hours agorootparentprevyou can send logs and metrics over the network. the important part to users is not logging the traffic info reply lopkeny12ko 2 hours agorootparentSending them over the network to where? \"We don&#x27;t store logs\" means they certainly aren&#x27;t being ingested into any persistent storage. I&#x27;m highly interested in how one can run time-series queries over &#x2F;dev&#x2F;null. reply CydeWeys 2 hours agorootparentThey never said \"We don&#x27;t store logs\". What they said is they don&#x27;t keep logs of user activity. You&#x27;re arguing against a strawman.https:&#x2F;&#x2F;mullvad.net&#x2F;en&#x2F;help&#x2F;no-logging-data-policy&#x2F; replyINTPenis 9 hours agoprevThis is really cool, you&#x27;d expect any VPN provider that cares about security and transparency to act like Mullvad. Some pour thousands of dollars into forcing influencers to say they care about security, while others focus on actually improving security.And it&#x27;s all open source btw. https:&#x2F;&#x2F;github.com&#x2F;system-transparency&#x2F;stboot reply jjice 2 hours agoparent> Some pour thousands of dollars into forcing influencers to say they care about security,Tangential to this, it always irks me how they talk about how they all act as if the majority of the websites their users are going to aren&#x27;t HTTPS and they act like their main benefits are filling in the gaps that HTTPS actually fills in.HTTPS isn&#x27;t a cure all by any means but most of the scare tactics that the big VPN companies that advertise via YouTube act like anyone will rip you credit card because you happened to be on Amazon while you were at the coffee shop.Tom Scott is the only person I&#x27;ve ever seen have a great video about this [0][0] https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=WVDQEoe6ZWY reply robertlagrant 1 hour agorootparent> how they all act as if the majority of the websites their users are going to aren&#x27;t HTTPS and they act like their main benefits are filling in the gaps that HTTPS actually fills in.I hear most of them saying \"Don&#x27;t want your ISP spying on where you&#x27;re browsing? Use a VPN.\" Which HTTPS does not cover. reply hamburglar 2 hours agorootparentprevI’d agree with you about HTTPS providing most of the benefit that VPN advertising focuses on if I hadn’t seen repeated direct evidence that even most technical users will blithely click through HTTPS errors’ “accept the risk” bypass. It’s as if knowledgeable users think “sure, this could be a man in the middle attack, but it’s most likely just a benign cert problem, because certs are hard.” Sigh. reply noirscape 2 hours agorootparentTo be frank that&#x27;s also because the cause for an HTTPS certificate error ranges from \"malicious hijack\" to \"misconfigured server setup\" to \"I lapsed the expiry date\" to \"I am using a self-signed certificate\".The degree of which these should be scares is not equivalent, yet browsers will treat all of these as equivalent even though they can distinguish between them in the error page. It just results in clickthrough fatigue, where technical users just ignore the warning because it&#x27;s not worthwhile to deal with even when they really should.Plus a VPN won&#x27;t protect you from a malicious hijack, it just prevents them from grabbing your IP address. reply maccard 1 hour agorootparentThe reason the browser doesn&#x27;t differentiate between them is because the end result is the same - the cett doesn&#x27;t match the browsers trusted store. The battle has beenosr on self signed certs at this point (unless you&#x27;re an enterprise, at which point bundle them with your image).The difference between a misconfiguration and a compromise is intention, both should be treated as equally suspicious. reply eximius 2 hours agorootparentprevThe problems with clicking past those errors are typically not due to network sniffing but with whatever crazy shit is on the page they are going to.The only two valid usecases of big VPNs like these are1. Very mild security increase over public wifi 2. Shifting your risk from the ISP spying to mullvad or the VPN provider spying or slightly anonymizing if mullvad rotates IPs.(2) is a real benefit because ISPs are pretty terrible, but it&#x27;s still pretty minor in the grand scheme of most people&#x27;s threat models. reply zarzavat 1 hour agorootparent3. You live in a country where your ISP is legally mandated to record all of your browsing history and make it available to the government.4. You live in a country where certain websites are blocked because the government doesn’t agree with them, or because those websites don’t want to deal with your country. reply Kwpolska 58 minutes agorootparentThose countries probably block VPN services, especially the popular ones which buy all the ads. reply digging 2 hours agorootparentprevYeah, I hate my ISP. I am certain they sell every bit of data they can. Ergo, I use a VPN most of the time. reply thedaly 2 hours agorootparentprevI haven&#x27;t experienced an HTTPS error on a legitimate site that I would input any personal information into in years.I couldn&#x27;t imagine clicking past one of those warnings to login to my bank or even amazon. reply flanfly 3 hours agoparentprevThe work on stboot and it&#x27;s supporting components, including documentation was moved to it&#x27;s own Gitlab: https:&#x2F;&#x2F;git.glasklar.is&#x2F;system-transparency&#x2F;core&#x2F;stboot reply Nevermark 13 minutes agoprevNice work!But, if anything should be a decentralized anonymous crypto-paid service, it should be a VPN network.Centralized VPNs are still a single point of failure privacy risk. We have to trust they don&#x27;t share our identity&#x2F;account info and activity.I am surprised dVPNs are not THE first rationale given for crypto. I.e. since separately and together they (ideally) have a clear comparative advantage over other alternatives for strong privacy.A performant global open-standard dVPN could become an indispensable layer of web access. reply ShowalkKama 1 minute agoparent>But, if anything should be a decentralized anonymous crypto-paid service, it should be a VPN networkso it should be tor? reply Spoom 6 minutes agoparentprevI wasn&#x27;t sure what a decentralized VPN would look like, so I searched and found https:&#x2F;&#x2F;surfshark.com&#x2F;blog&#x2F;decentralized-vpn . Obvious bias coming from a VPN provider, but if they are stating the technology correctly, then I think it&#x27;s important to determine if this is correct:> A decentralized VPN is a distributed VPN service where volunteers supply your VPN servers instead of a single company – but paid by crypto. Like with regular VPNs, you have to trust that the VPN server isn’t monitoring your data. But instead of there being a single VPN provider company behind it all, you have to trust that none of the thousands of server volunteers are spying on you.Is this a correct understanding of dVPNs? Is there a rebuttal, especially to that last sentence? reply KomoD 2 minutes agorootparentYes, that is correct. It&#x27;s great for getting residential IPs, but connection quality is much worse reply infofarmer 1 hour agoprevNot to provoke predictable responses, but I find it interesting that the tech-talented VPN providers are not using BSD in favor of Linux, especially with requirements like diskless operation, kernel customization, and tighter security. reply latchkey 41 minutes agoparentFor me, the pool of people to hire that know Linux inside and out would be much larger. This is worth any perceived security issues.In terms of diskless, I&#x27;ve run 25k+ iPXE deployments on diskless blade servers using a highly customized Ubuntu, and it was fantastic.Regardless of OS choice, being diskless is also quite nice... if there was a security issue or you need an upgrade of some sort, you just reboot. Only thing is that it takes a while to reboot 25k servers... even on gigE. It was a bit of work to build the scheduling system to make that happen reliably, but it worked out quite well. reply nashashmi 49 minutes agoprev> All of our VPN servers continue to use our custom and extensively slimmed down Linux kernel, where we follow the mainline branch of kernel development.The custom server is a niche security point. While every server is continously researched and patched, we cannot expect the same from a a server like this. If someone were to find a security hole, an attacker would purchase it and no one else would ever know the system was compromised. reply PaulHoule 2 hours agoprev\"They\" will just spray the machines with liquid nitrogen, pull them out of the rack, put the DRAM in a thermos w&#x2F; LN2 and read the data at their leisure.https:&#x2F;&#x2F;ieeexplore.ieee.org&#x2F;document&#x2F;8388826 reply sneak 1 hour agoparentWith modern encryption protocols, this yields you nothing.The feature is called Perfect Forward Secrecy, and protects past flows from later key compromise.Wireguard supports this, which is what Mullvad uses. (For some reason, speculation about which is an exercise left to the reader, WPA in Wi-Fi still does not.) reply woodruffw 1 hour agorootparentNot exactly nothing, just not ongoing compromise. TLS session keys can be pretty long-lived; I don’t know how long-lived Wireguard’s equivalent keys are, but even a relatively conservative few minutes can yield valuable traffic and metadata.(That being said, I think having your RAM frozen to extract ephemeral secrets is firmly in the “fully hosed” threat model, and is not a realistic model for 99.9% of users to plan for.) reply maccard 1 hour agoparentprevThat seems like significantly more work, and significantly more error prone than pulling an SSD out of a machine and reading from a log file reply kwanbix 4 hours agoprevOne thing that I always wondered from VPNs.Let&#x27;s say a pedophile uses Mullvad to get forbidden images, isn&#x27;t the VPN liable?I mean, the law enforcement will see that the IP was from Mullvad&#x27;s office, so I assume they are the ones doing it? How do they avoid this?It is a real doubt. Maybe stupid, but real. reply madspindel 3 hours agoparentMullvad actually got raided by the police in a similar case, described here: https:&#x2F;&#x2F;mullvad.net&#x2F;en&#x2F;blog&#x2F;2023&#x2F;5&#x2F;2&#x2F;update-the-swedish-auth...> However, had they taken something, it would not have given them access to any customer information.> These are the national laws that makes it possible to run a privacy-focused VPN service in Sweden: reply jameskilton 3 hours agoparentprevI am not a lawyer, but my understanding is that this generally falls under Section 230, as you can make the same argument about Comcast, AT&T, et.al. who lets the bytes go over their infrastructure. reply kwanbix 3 hours agorootparentBut the difference is that Comcast, AT&T, et.al can say, jameskilton was using this IP. The VPN is saying, I don&#x27;t know. reply nwellnhof 3 hours agorootparentThat&#x27;s only a problem if the VPN is in a jurisdiction with data retention laws: https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Data_retention reply hollander 1 hour agorootparentprevWhat if you get the same IP time and again? reply Dennip 3 hours agoparentprevThey don&#x27;t avoid it - which is why they were raided by the police at one point and why they&#x27;re no longer offering port forwarding reply dylan604 3 hours agoparentprevAll this would do would be to lead the investigation to get a warrant&#x2F;subpoena to have the VPN service provide user details about the account and anything else relevant like logs. This is where the \"we don&#x27;t log shit\" bullet points comes into play as well as running only from RAM. If the warrant allows for removal of hardware, all data is lost once power is removed. LEOs would have to bring lots of batteries. reply throwmeaway2232 3 hours agorootparentor liquid nitrogen. https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Cold_boot_attack reply nerdbert 3 hours agorootparentThey&#x27;re going to freeze the whole data center? It&#x27;s rack after rack of machines that the traffic could have passed through, right? And if they&#x27;re not logging IPs to RAM then they only have a fraction of a second to get the right one before the register is overwritten with the next user&#x27;s info. reply mlyle 1 hour agorootparentYou do need to know where to send the user&#x27;s return traffic, so you&#x27;ll need a table ultimately comprising mappings of network flows to end-user addresses. Of course, once the flows close you don&#x27;t need to retain this information. In practice, you&#x27;ll also need information about all currently-open VPN sessions. reply bgm1975 2 hours agorootparentprevIf the feds have physical access and considering the high likelihood that these are VMs and not physical, it would be a whole lot easier to get the hypervisor to just snapshot the VM w&#x2F; its memory and perform forensics against that file(s). reply darreninthenet 3 hours agoparentprevIANAL but my understanding of current case law is that it IP address does not automatically mean a particular person. reply Obscurity4340 3 hours agorootparentPretty sure if they live by themself and nobody else comes into their dwelling and there is no other name attachef to their subscriber info it does reply mrweasel 1 hour agorootparentWhat if they are on cellular and that hasn&#x27;t been upgraded to IPv6?Years ago I handled fraud cases for an e-commerce site with local police, at some point they started asking for IP and port numbers for the offenders, rather than just the IP. Turns out that one of the cellular phone providers had basically run out of IPv4 addresses for their 4G network and did some NAT solution. If you didn&#x27;t have the port number the client had connected from then they could only tell you which cell tower had been used, not who the customer was. reply darreninthenet 3 hours agorootparentprevNope... wardriving? Spoofing? Too much uncertainty to convict with. Basis for a warrant on the property? Yes, probably. reply 14 2 hours agorootparentprevDefinitely not. I still am logged into my ex girlfriend wifi so if I wanted to harm her I could easily go stand outside her home at night and download malicious files. That would not make her guilty. They may investigate but that is not proof she did something unlawful. reply uxp8u61q 2 hours agorootparentprevCase law in what country? Mullvad is Swedish, are you knowledgeable about Swedish case law? reply manishsharan 3 hours agoparentprevand then suppose you login to that VPN and are looking up children&#x27;s sweaters for your kids and keep the session on .. while law enforcement is looking up the ip address associated with the earlier activity which is now assigned to you . Good luck explaining to the the cops about VPNs and IP addresses.This is my fear. reply dspillett 3 hours agorootparentYou are not going to be the only person appearing to come from that IP address – many will likely be NATed through it.The more significant concern is if you are the other side: if you deliberately run some sort of VPN or other proxy that others can use, or less deliberately do so. Many hacked or otherwise suspicious browser add-ons, and other malware, will make HTTP(S) requests & other connections on behalf of their C&C hosts and to your ISP or anyone else those requests will be largely indistinguishable from those that are the result of your activity. reply flkenosad 3 hours agorootparentprevYou don&#x27;t have to explain anything to cops. You explain it to lawyers and judges. reply dylan604 3 hours agorootparentYou actually shouldn&#x27;t even say anything to the cops. If they show up with a warrant for arrest as well as search, you&#x27;re going to jail no matter what you say. If they show up with just a search warrant, they are going to take whatever they want to take whether its outside the purview of the warrant or not. It will be up to a lawyer to convince a judge it was out of scope at a later date after it has already been taken. You will never convince a team of cops that their warrant is wrong when they show up. The only chance you have is if you&#x27;re uber criminal and have your attorney present when they arrive. reply mrweasel 1 hour agorootparent> You actually shouldn&#x27;t even say anything to the cops.Unless you&#x27;re in the UK, in which case: \"You do not have to say anything. But it may harm your defense if you do not mention when questioned something which you later rely on in court. Anything you do say may be given in evidence.\" reply dylan604 1 hour agorootparentAs a Yank, that line always felt odd when watching BritCop dramas. How is the alleged meant to know the specifics of a defence when the full charges haven&#x27;t even been levied, or how is the alleged meant to read the mind of a lawyer? It just feels like something rigging the system reply dspillett 3 hours agorootparentprevAnd the court of public opinion. By the time lawyers and judges are involved, unless you are very lucky, your name and photo is all over the tabloids. Any retractions published when you are later found completely innocent will be the equivalent of a column inch or two on page 17. reply WendyTheWillow 3 hours agorootparentSimply not an issue for nearly everyone. reply ThePowerOfFuet 2 hours agorootparentUntil it happens to you. reply hiatus 2 hours agorootparentprevMaybe if you live in Florida. reply x86x87 3 hours agorootparentprevWho enjoys privacy when we can all live in fear?You need a VPN that actually cares about your privacy and goea the extra mile to ensure it. On top of that if the VPN service does not know who you are how can they actually tell the cops. On top of that you don&#x27;t need to explain it to the cops - if you are ever accused this should be done in a court of law where we understand what ips are (heck, even some cops understand it - it&#x27;s not exactly rocket science nowadays) reply crabbone 26 minutes agoprevDoes pmem count as RAM? reply dheera 29 minutes agoprev> freshly built kernel, no traces of any log files, and a fully patched OSWouldn&#x27;t using a disk in read-only mode accomplish the same thing? reply mika69 4 hours agoprevCan somebody explain in more detail - what does this mean for the user? What are pros and cons? reply beckler 4 hours agoparenthttps:&#x2F;&#x2F;mullvad.net&#x2F;en&#x2F;blog&#x2F;2022&#x2F;1&#x2F;12&#x2F;diskless-infrastructur... reply dangus 4 hours agoparentprevThere is no disk in the servers, so there is no chance for user information to persist anywhere.I also wouldn’t be surprised if it’s a performance benefit, since RAM is far faster than any permanent storage.The cons are probably just that this is a pretty unusual architecture that they probably had to put some work into setting up and making it reliable. reply Daviey 4 hours agorootparentIt&#x27;s essentially a PXE-boot diskless environment, what makes you think it is unusual and possibility of being unreliable? reply panick21_ 1 hour agorootparentWhat is unusual is the firmware that they have. reply Brian_K_White 3 hours agorootparentprevWhat important things do you store only in ram? Why not? Isn&#x27;t it reliable?I think they just mean ephemeral. reply dangus 4 hours agorootparentprevI should say, unsuitable for certain use cases. reply johnklos 2 hours agorootparentI have servers which have literally been running non-stop for multiple years. Unless &#x2F; until the kernel itself needs to be upgraded for security issues, and so long as backup power is good, they can run indefinitely. reply justapassenger 2 hours agorootparentprevNot a best setup to run database, yes. But stateless farm of servers that essentially forward the traffic for you? Not that much downsides. reply thathndude 4 hours agorootparentprevTechnically, researchers have proven that you can shutdown a machine, hit the RAM with a cold spray (like liquid nitrogen) and keep the bits \"alive\" long enough to dump them for analysis.But, obviously, that&#x27;s pretty insane. Agree with everything that this is a big leap in the step of better protection for users. reply NhanH 4 hours agorootparentEven if that attacks has close to 100% success rate, I&#x27;d imagine it being nigh physically impossible to execute a targeted attack, as you don&#x27;t know which machine to hit for a specific user. And that seems to be the main threat model we would be concerned about for this. reply foobiekr 3 hours agorootparentOf course they know which machine to hit. How do you do customer service without such a basic function? reply hiatus 2 hours agorootparentMullvad gives you the option to connect to multiple servers. They offer wireguard configs for every endpoint. How does law enforcement know which server the client plans to connect to? There is no metering either, just a flat monthly rate so nothing to track there either. reply sumtechguy 3 hours agorootparentprevThe likelihood of them showing and doing that is low. However, the likelihood of them showing up with a set of USB drives and just running rsync&#x2F;cp&#x2F;dd is higher. reply heyoni 2 hours agorootparentNormally you unplug the drives and take them to a lab. Never let the host operating system continue running with those disks! reply jstarfish 1 hour agorootparentMaybe in the 90s. Unplugging the drive is how you kick FDE in now. The drive only has value while mounted and running on the host OS.Even cellphones...you want them running decrypted, but inside a Faraday cage of some kind to block remote wipes. reply heyoni 1 hour agorootparentI don’t know how FDE works so thanks for the correction. I’ve read stories about feds pulling out drives and asking for keys later.But to run dd wouldn’t you need root access? And couldn’t you use that to dump the FDE keys from memory? reply caeril 1 hour agorootparentprevThere&#x27;s a fairly easy physical mitigation for this.Once DIMMs are seated, secure the ends with superglue, then brush conformal coating over the bus traces.The second step is likely not even necessary if the motherboard is a 4 layer pcb with traces in the middle. reply densh 4 hours agorootparentprevYou can still mount a remote networked file system to a dikless node. Lack of disks does not guarantee inability to persist data. reply Brian_K_White 3 hours agorootparentIf only the system were open source so you wouldn&#x27;t have to wonder about that...But we do still have to trust that they are actually running the code they posted.Unless that code somehow contains some way to verify itself?I wonder if there is some way to do that? Have the code include a hash of itself and some way to query the running service that guarantees that the running service must be running the code you are looking at?At first glance it seems any response could always be faked, but maybe there is some cryptography trick where you submit something, like an encrypted copy of the public code maybe, and it crunches and returns something, and that somehow proves that the running code you can&#x27;t see must be the same as the code you can see.Depending on how the protocol for the challenge works, that could still be faked. The challenge has to somehow not be seperable from ordinary traffic so that you can&#x27;t have one piece of code handle the challenge and another piece of code handle other traffic. reply c22 3 hours agorootparentHomomorphic encryption: https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Homomorphic_encryption reply lanstin 2 hours agorootparentI think the normal solution to this is all the prove you are the software you say you are calls is proxied to that software and all the normal services calls you want to log and duplicate or otherwise violate the contract are sent to the modified code. reply meithecatte 3 hours agorootparentprevThere are two known ways to achieve this:- Multi-party computation. Too much overhead for something like this.- Remote attestation, as seen in e.g. Intel SGX. Usually provided by the CPU vendor. Not a cryptographic guarantee, more of a \"it&#x27;d be very hard to defeat this if you&#x27;re not Intel\". Probably not that warrant-resistant. reply johnklos 2 hours agorootparentprevYou can talk about hypothetically doing anything. You&#x27;re not really making a point.Hypothetically, you can rewrite the firmware for the IPMI with a backdoor and extract data.Hypothetically, you could kidnap the family of a developer and force them to add a surreptitious side channel for exfiltrating data.Hypothetically, you could run the universe in a simulator and use the simulator&#x27;s controls to read data from RAM in the simulated Mullvad servers on the simulated Earth. reply nodesocket 1 hour agoprev [–] Great point brought up in the comments that VM’s allow for snapshotting of entire memory state as well. So something to be aware of. replyApplications are open for YC Winter 2024 GuidelinesFAQListsAPISecurityLegalApply to YCContact Search:",
    "originSummary": [
      "Mullvad VPN has completed its transition to a RAM-only VPN infrastructure, effectively eliminating the use of disks.",
      "To ensure premium performance, the VPN servers use a custom Linux kernel and undergo routine audits.",
      "Mullvad utilises a lightweight operating system of just over 200MB, offering a new-built kernel devoid of log files or vulnerabilities."
    ],
    "commentSummary": [
      "The article outlines the transition of Mullvad.net to a RAM-only VPN infrastructure, underlining security vulnerabilities, legal challenges, and unethical behavior among VPN providers.",
      "It mentions the potential end-of-life scenario for commercial VPNs with the advent of HTTPS and encrypted DNS, emphasizing the requirement of transparency and security.",
      "The piece also discusses the pros and cons of using Linux versus BSD for VPN services and explores the challenges of validating and safeguarding software in a decentralized environment, suggesting solutions like homomorphic encryption and remote attestation."
    ],
    "points": 256,
    "commentCount": 116,
    "retryCount": 0,
    "time": 1695195481
  },
  {
    "id": 37574552,
    "title": "RabbitMQ vs. Kafka – An Architect’s Dilemma (Part 1)",
    "originLink": "https://eranstiller.com/rabbitmq-vs-kafka-an-architects-dilemma-part-1",
    "originBody": "Skip to content Home About Public Speaking Blog Tech News Contact SOFTWARE ARCHITECTURE RabbitMQ vs. Kafka – An Architect’s Dilemma (Part 1) By Eran Stiller Updated on April 22, 2023 Introduction As a software architect dealing with a lot of Microservices based systems, I often encounter the ever-repeating question – “should I use RabbitMQ or Kafka?”. For some reason, many developers view these technologies as interchangeable. While this is true for some cases, there are various underlying differences between these platforms. As a result, different scenarios require a different solution and choosing the wrong one might severely impact your ability to design, develop, and maintain your software solution. The goal of this blog post is first to introduce the basic asynchronous messaging patterns. Then, it continues to present both RabbitMQ and Kafka and their internal structure. Part 2 highlights the critical differences between these platforms, their various advantages and disadvantages, and how to choose between the two. Asynchronous Messaging Patterns Asynchronous messaging is a messaging scheme where message production by a producer is decoupled from its processing by a consumer. When dealing with messaging systems, we typically identify two main messaging patterns – Message Queuing and Publish/Subscribe. Message Queueing In the Message Queuing communication pattern, queues temporally decouple producers from consumers. Multiple producers can send messages to the same queue; however, when a consumer processes a message, it is locked or removed from the queue and is no longer available. Only a single consumer consumes a specific message. Message Queuing As a side note, if the consumer fails to process a certain message, the messaging platform typically returns the message to the queue where it is made available for other consumers. Besides temporal decoupling, queues allow us to scale producers and consumers independently as well as providing a degree of fault-tolerance against processing errors. Publish/Subscribe In the Publish/Subscribe (or Pub/Sub) communication pattern, a single message can be received and processed by multiple subscribers concurrently. Publish/Subscribe This pattern allows a publisher, for example, to notify all subscribers that something has happened in the system. Many queueing platforms often associate pub/sub with the term topics. In RabbitMQ, topics are a specific type of pub/sub implementation (a type of exchange to be exact), but during this post, I refer to topics as a representation of pub/sub as a whole. Generically speaking, there are two types of subscriptions: An ephemeral subscription, where the subscription is only active as long the consumer is up and running. Once the consumer shuts down, its subscription and yet-to-be processed messages are lost. A durable subscription, where the subscription is maintained as long as it is not explicitly deleted. When the consumer shuts down, the messaging platform maintains the subscription and message processing can be resumed later. RabbitMQ RabbitMQ is an implementation of a Message Broker, and as is also often referred to as a Service Bus. It natively supports both messaging patterns described above. Other popular implementations of message brokers include ActiveMQ, ZeroMQ, Azure Service Bus, and Amazon Simple Queue Service (SQS). All of these implementations have a lot in common; many concepts described in this post apply to most of them. Queues RabbitMQ supports classic message queuing out of the box. A developer defines named queues, and then publishers can send messages to that named queue. Consumers, in turn, use the same queue to retrieve messages to process them. Message Exchanges RabbitMQ implements Pub/Sub via the use of message exchanges. A publisher publishes its messages to a message exchange without knowing who are the subscribers of these messages. Each consumer wishing to subscribe to an exchange creates its queue; the message exchange then queues produced messages for consumers to consume. It can also filter messages for some subscribers based on various routing rules. RabbitMQ Message Exchange It is important to note that RabbitMQ supports both ephemeral and durable subscriptions. A consumer can decide the type of subscription they’d like to employ via RabbitMQ’s API. Due to RabbitMQ’s architecture, we can also create a hybrid approach where some subscribers form consumer groups who work together processing messages in the form of competing consumers over a specific queue. In this manner, we implement the pub/sub pattern while also allowing some subscribers to scale-up to handle received messages. Pub/Sub & Queuing Combined Apache Kafka Apache Kafka is not an implementation of a message broker. Instead, it is a distributed streaming platform. Unlike RabbitMQ, which is based on queues and exchanges, Kafka’s storage layer is implemented using a partitioned transaction log. Kafka also provides a Streams API to process streams in real-time and a Connectors API for easy integration with various data sources, however, these are out of scope for this post. The Cloud Vendors provide alternative solutions for Kafka’s storage layer. These solutions include Azure Event Hubs, and to some extent, AWS Kinesis Data Streams. There are also cloud-specific and open source alternatives to Kafka’s stream processing capabilities, but again, these are out of scope for this post. Topics Kafka does not implement the notion of a queue. Instead, Kafka stores collections of records in categories called topics. For each topic, Kafka maintains a partitioned log of messages. Each partition is an ordered, immutable sequence of records where messages are continually appended. Kafka appends messages to these partitions as they arrive. By default, it uses a round-robin partitioner to spread messages uniformly across partitions. Producers can modify this behavior to create logical streams of messages. For example, in a multitenant application, we might want to create logical message streams according to every message’s tenant Id. In an IoT scenario, we might want to have each producer’s identity map to a specific partition constantly. Making sure that all messages from the same logical stream map to the same partition guarantees their delivery in-order to consumers. Kafka Producers Consumers consume messages by maintaining an offset (or index) to these partitions and reading them sequentially. A single consumer can consume multiple topics, and consumers can scale-up to the number of partitions available. As a result, when creating a topic, one should carefully consider the expected throughput of messaging on that topic. A group of consumers working together to consume a topic is called a consumer group. Kafka’s API typically handles the balancing of partition processing between consumers in a consumer group and storing consumers’ current partition offsets. Kafka Consumers Implementing Messaging Patterns with Kafka Kafka’s implementation maps quite well to the pub/sub pattern. A producer can send messages to a specific topic, and multiple consumer groups can consume the same message. Each consumer group can scale individually to handle the load. Since consumers maintain their partition offset, they can choose to have a durable subscription that maintains its offset across restarts or an ephemeral subscription, which throws the offset away and restarts from the latest record in each partition every time it starts up. However, it is a less than perfect fit for the message queuing pattern. Of course, we could have a topic with just a single consumer group to emulate classic message queuing. Nevertheless, this has multiple drawbacks that part 2 of this post discusses at length. It is important to note that Kafka retains messages in partitions up to a preconfigured period, regardless of whether consumers consumed these messages. This retention means that consumers are free to reread past messages. Furthermore, developers can also use Kafka’s storage layer for implementing mechanisms such as Event Sourcing and Audit Logs. Closing Words While RabbitMQ and Kafka are sometimes interchangeable, their implementations are very different from each other. As a result, we cannot view them as members of the same category of tools; one is a message broker, and the other is a distributed streaming platform. As solution architects, we should acknowledge these differences and actively consider which of these types of solutions we should use for a given scenario. Part 2 addresses these differences and provides guidance on when to use each. Further Reading If you’d like to read more regarding the internal implementation of RabbitMQ and Kafka, I recommend the following resources: AMQP 0.9.1 Model Explained – RabbitMQ Introduction to Apache Kafka Featured Image – Photo by Justin Luebke on Unsplash Post navigation PREVIOUS Being a CTO, Professional Growth and Public Speaking NEXT RabbitMQ vs. Kafka – An Architect’s Dilemma (Part 2) Similar Posts RabbitMQ vs. Kafka – An Architect’s Dilemma (Part 2) February 17, 2020 4 Comments derekgreer says: February 5, 2021 at 7:29 am Good article. Just a few things. In the section on messaging patterns, you state: “RabbitMQ supports classic message queuing out of the box. A developer defines named queues, and then publishers can send messages to that named queue.” From a practical stand point, this is correct. RabbitMQ does allow you to emulate a simple message queue. Technically speaking, however, producers never send messages directly to a queue. RabbitMQ has a type of exchange called a “direct exchange” which filters queue delivery based on a routing key which get routed to queues based on the routing key matching the binding key. In truth, every single exchange type RabbitMQ offers really is just the publish-subscribe pattern with optional filtering. So, while RabbitMQ does use a queue as part of its exchange/queue/optional filtering implementation, message queuing is also emulated in RabbitMQ, albeit in a different way than Kafka’s emulation. In the section on Implementing Message Patterns with Kafka, you state: “A producer can send messages to a specific topic, and multiple consumer groups can consume the same message. Each consumer group can scale individually to handle the load.” This is true, but slightly misleading. I think you point this out elsewhere, but Kafka balances topic partitions across consumers within a consumer group. This means if a topic has 3 partitions, you can only scale in multiples of 3. if you scale to 4 consumers, you will have one consumer that will sit idle. So, a given topic with 3 partitions can have 10 different consumer groups which vary in multiples of 3, but they can’t scale completely individually. They all have to scale using the same partition count as a factor (as opposed to the scaling strategy of RabbitMQ of varying the number of consumers for one queue completely independently of another). Reply Eran Stiller says: February 5, 2021 at 9:01 am Hi @derekgreer, thank you for reading and thank you for your comment! I agree with the points you raise here. They are correct. Reply Chapati says: September 20, 2023 at 8:01 am I believe this article is outstanding. The only additional point I’d like to make is that RabbitMQ serves as an implementation of the AQMP protocol, optionally version 1.0, functioning as a standardized broker service protocol. This means it’s designed to be easily interchangeable with other existing implementations like Apache Active MQ and Cupid. In contrast, Kafka is a unique software solution. Another noteworthy aspect is that RabbitMQ provides standardized client libraries and frameworks in the Java ecosystem, which can be significant, particularly in the context of message queue middleware and Service-Oriented Architecture (SOA), where AMQP originally emerged and continues to see substantial enterprise use. On the other hand, Kafka, with some considerations, is generally regarded as more suitable for handling “web-scale” applications, although this does come with its own set of challenges and complexities. Btw, there is an insteresting discussion of this article in HN: https://news.ycombinator.com/item?id=37574552 Reply Eran Stiller says: September 20, 2023 at 5:33 pm Thanks @Chapati! I agree with your statement. I didn’t realise someone posted it on HN. Reply Leave a Reply Your email address will not be published. Required fields are marked * Comment * Name * Email * Website FOLLOW ME ON SOCIAL Linkedin Twitter GitHub Medium © 2023 Eran Stiller",
    "commentLink": "https://news.ycombinator.com/item?id=37574552",
    "commentBody": "RabbitMQ vs. Kafka – An Architect’s Dilemma (Part 1)Hacker NewspastloginRabbitMQ vs. Kafka – An Architect’s Dilemma (Part 1) (eranstiller.com) 253 points by gslin 22 hours ago| hidepastfavorite145 comments bob1029 16 hours agoI&#x27;ve seen Tibco Rendezvous used in manufacturing. ~300 megabytes per hour of raw log generated 24&#x2F;7&#x2F;365 by tools and control systems in a factory setting. Probably on the order of 10k+ participants in the pub&#x2F;sub network.If you are running something like a factory where thousands of independent systems need to communicate in some way, this kind of tech starts to look like the only option.If you are orchestrating the concerns of 5-10 services, I think you are making your life harder than it needs to be with ESB-style abstractions. Direct method invocation is much more reliable than whatever any one of these vendors could ever sell you. Put all your services into one exe. If you can&#x27;t be bothered to use one language&#x2F;repo, there are still ways to achieve this.The real architect&#x27;s dilemma is shoving one&#x27;s edifice-constructing ego into a box long enough to produce a useful shack for the business. reply kuchenbecker 15 hours agoparentOur prod cluster generates that about every minute at O(1M) qps.We JUST turned on remote Logs because until now Kafka didn&#x27;t have capacity. reply blindriver 11 hours agorootparentMy previous company&#x27;s Kafka cluster was handing 20 million messages per second 5 years ago, and dozens of petabytes of data per day. Maybe your particular cluster that didn&#x27;t have the capacity to handle 1M qps, but Kafka easily had that capacity years ago. reply _a_a_a_ 7 hours agorootparentI have to ask, what value is this adding business-wise to store so much? reply sharms 4 hours agorootparentNot OP but I think it isn&#x27;t always about storing, but having a log of events which get routed, processed, and aggregated in many cases. reply inkyoto 14 hours agorootparentprevTIBCO Rendezvous is tech from 1998&#x2F;99, millions of messages per second didn&#x27;t exist at the time. Only NYSE and NASDAQ were capable of producing millions of events back then (still not by minute nor by second).TIBCO Rendezvous was one of the first successful large scale, low latency and near real-time pub&#x2F;sub implementations, and it had a very efficient, Avro like, wire level serialisation format that made messages very compact and efficient to deliver. It was very popular in finance, banking and manufacturing, and is all but legacy now. reply continuitylimit 3 hours agoparentprevIt’s not apparent as a dilemma until the said architect has spent years -convinced- that the grand edifice is “good architecture”, and finally matured as a practitioner. Only after that phase passes is there an actual ego-driven dilemma, strictly speaking. reply gunapologist99 14 hours agoparentprevNATS was developed by an ex-TIBCO engineer. reply xupybd 14 hours agoparentprevI use NATS to create a secure pipe between buildings and the cloud. I don&#x27;t need speed but I do need routing and I do need a security layer. Nats just works and took very little setup. reply strangemonad 16 hours agoparentprevOr NATS reply relay23 16 hours agorootparentor kafka, or any other publish&#x2F;subscribe system reply opentokix 9 hours agoparentprevYour usecase is EASY - its EASY!This is a SOLVED usecase. reply robertlagrant 21 hours agoprev> one is a message broker, and the other is a distributed streaming platformI think this is an odd way of putting it. One is smart messaging; dumb clients. The other is dumb messaging; smart clients. It turns out the latter (i.e. Kafka) scales wonderfully so you can send more data, but you add complexity to your clients, who can&#x27;t just now pluck messages off a queue to process, or have messages retry upon the first 3 failures, as they could with RabbitMQ.Having said that, Kafka lets you keep all your data, so you don&#x27;t have to worry about losing messages to unexpected interactions between RabbitMQ rules. But having said that, now you have to store all your data. reply raducu 20 hours agoparent> who can&#x27;t just now pluck messages off a queue to processThe problem is you cannot mark individual messages as read, for a given consumer&partition you can only update the offset for a partition.If a certain message processing takes very long, all other messages in that partition will have to wait.Also, with kafka, the max read concurrency is equal to the number of partitions, for something like rabbitMq it is much higher; but you do get nice message ordering for any given partition in kafka which you do not get in RabbitMq (afik); you are also get some really nice data locality with kafka because unless the consumers get the partitions re-assigned, all messages for the same key are served on the same physical consumer. reply ryanjshaw 19 hours agorootparent> The problem is you cannot mark individual messages as read, for a given consumer&partition you can only update the offset for a partition.Hence \"smart clients\". If you MUST process every message at least once, you will anyway be tracking messages individually on the client (e.g. a DB or file system plus logic for idempotent message processing) and thus disable auto-offset commits back to the cluster for your consumer.RabbitMQ says \"let me track this for you\", Kafka says \"you already need to track this so why duplicate the data in the cluster and complicate the protocol\".If you don&#x27;t have reliable persistent storage available and insist on using the Kafka cluster to track offsets, you can track processed offsets in memory and whenever your lowest processed offset moves forward, you have your consumer commit that offset manually as part of its message loop.If your service restarts your downstream commands need to be idempotent of course because you will reconsume messages you may have previously processed, but this would be the case regardless of Kafka or RabbitMQ unless you&#x27;re using distributed transactions (yuck).> If a certain message processing takes very long, all other messages in that partition will have to wait.You can stream messages into a buffer and process them in parallel, and commit the low watermark offset whenever it changes, as described above. I&#x27;ve implemented this in .NET with Channels and saturate the CPUs with no problem. reply raducu 12 hours agorootparentYou&#x27;ve made very good points about smart clients, but at some point one has to ponder if it&#x27;s worth it or one should just not use kafka in the first place.I&#x27;ve seen databases used as messaging queues and if it was up to me, I&#x27;d never do that. It&#x27;s usually \"but we already have kafka + db, why burden ourselves with another messaging technology?\", which is fair.> You can stream messages into a buffer and process them in parallel, and commit the low watermark offset whenever it changes, as described above. I&#x27;ve implemented this in .NET with Channels and saturate the CPUs with no problem.That is very nice -- certainly seems better than just batch processing of kafka messages, but you&#x27;re still just kicking the can down the road. How large do allow the buffer to become and what do you do when it&#x27;s getting too large?You probably use a DLQ.Don&#x27;t get me wrong, I think the buffer idea probably works most of the time. reply ryanjshaw 10 hours agorootparentCompletely agree. Kafka was another team&#x27;s decision, not mine, so I had to figure it out. RabbitMQ is very convenient in that you don&#x27;t need to read a couple of books on reliable data integration patterns to get something working simply and intuitively.I am fond of Kafka now that I understand it, but I was also an assembly language programmer in a past life so my opinion is probably in the minority.Regarding the buffer size: you need to implement back pressure, especially if you are CPU and not IO bound; it&#x27;s another thing that&#x27;s easy to get wrong with Kafka. reply lmm 19 hours agorootparentprev> You can stream messages into a buffer and process them in parallel, and commit the low watermark offset whenever it changes, as described above. I&#x27;ve implemented this in .NET with Channels and saturate the CPUs with no problem.And there are libraries that will manage all this for you e.g. https:&#x2F;&#x2F;github.com&#x2F;line&#x2F;decaton reply waynesonfire 5 hours agorootparentprevIf you have idempotent messages, why can&#x27;t you use auto offset committing? reply ryanjshaw 32 minutes agorootparentYou are quite correct - you absolutely can use auto offset commits in that case. In my scenario, though, I have a lot of messages and a low recovery time objective on service restart so I find it cleaner to skip messages I know I won&#x27;t need. Also reduces noise on the service logs, makes for easier debugging etc. reply math 20 hours agorootparentprevWorth noting that Kafka is getting queues: https:&#x2F;&#x2F;cwiki.apache.org&#x2F;confluence&#x2F;display&#x2F;KAFKA&#x2F;KIP-932%3A... reply facorreia 18 hours agorootparentAnd also Rabbit has streams[1]. There&#x27;s a lot of overlap.[1] https:&#x2F;&#x2F;www.rabbitmq.com&#x2F;streams.html reply pnpnp 18 hours agoparentprevJust my 2c but for anyone unaware, you should check out NATS.It combines the best of both Kafka and RabbitMQ IMO. reply doctor_eval 17 hours agorootparentI thought NATS didn&#x27;t actually store messages, am I mistaken?Looking at Wikipedia (https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;NATS_Messaging) I see that I&#x27;m technically right, it&#x27;s JetStream that does the storage layer - but it&#x27;s part of the NATS server.From memory, I really liked the philosophy of NATS but found the nomenclature confusing. reply pnpnp 13 hours agorootparentI think they call that part of NATS “Jetstream” if I’m not mistaken. I haven’t used it, but I believe it has some form of message persistence.I have used it mostly for message-first services, and found subject-based messaging a breath of fresh air to decouple services. You can do the same thing with RabbitMQ topic exchanges, but it requires quite a bit more hand-waving. reply zerbinxx 12 hours agorootparentJetstream does indeed have message persistence: I can issue queries like “get messages on topic since 5 minutes ago” - I do this a ton. However, that seems to be the extent of the storage&#x2F;query API that it exposes for historical messages. I’m quite a big fan, and would recommend it with the caveat that Jetstream is considerably more complex than simple nats and I get the feeling I’m barely scratching the surface with it. reply doctor_eval 6 hours agorootparentI’m really interested in a Kafka like message broker in the Go ecosystem and look forward to checking it out for whatever my next project ends up being. replycontinuitylimit 3 hours agoparentprevIt is not odd, it is basically accurate. You are making a fetish of the S-C interaction but the essential matter is that Kafka is designed to store & distribute logs, whereas Rabbit is designed to route & send messages. The ‘store’ bit is very much a part of Kafka’s mission statement but not for Rabbit. reply cbsmith 17 hours agoparentprevYou&#x27;re getting to the key thing:You don&#x27;t want to classify them by what they do. You want to classify them by what the clients must do&#x2F;experience. reply supermatt 20 hours agoparentprev> One is smart messaging; dumb clients. The other is dumb messaging; smart clients.All the smartness of the messaging can be implemented in the smart clients. Then you can expose that as a smart messaging api to dumb clients.The most obvious example is kafka streams which exposes a \"simple\" api rather than dealing directly with kafka, but obviously you could create a less featurefull wrapper than that. reply eddythompson80 20 hours agorootparentI can&#x27;t help but think that this just gives you the worst of both worlds. You are now on the hook managing that non-standard \"smart\" wrapper which will quickly just become the status quo for the project. Anyone wanting to change how it works needs to understand exactly how \"smart\" you made it and all the side effects that will come with making a change there.I pushed against knative in our company particularly for that reason. Like we wanna use kafka because [Insert kafka sales pitch], but we don&#x27;t want our developers to utilize any of the kafka features. We&#x27;re just gonna define the kafka client in some yaml format and have our clients handle an http request per message. It didn&#x27;t make sense to me. reply supermatt 20 hours agorootparentThats kind of like saying dont use any software libraries because they all use the standard lib indirectly so you may as well just use that?Its just an abstraction layer to make things less effort. reply eddythompson80 20 hours agorootparentyeah, don&#x27;t wrap all calls to a standard lib in another homegrown or non-standard single-digit user lib that makes changes in all sort of subtle ways. There are plenty of C++ projects that make their own or wrap stdlib and they are always a big wtf.It&#x27;s one thing to have an abstraction for kafka in your code, it&#x27;s another to wrap the client in a smart client that reimplements something like rabbitmq, and much worse a smart service. reply supermatt 20 hours agorootparent> don&#x27;t wrap all calls to a standard libIm not saying to expose the same primitives - what would be the point in that? I am saying that EVERY lib you use will be using the standard lib or some abstraction of it to perform its own utility.> It&#x27;s one thing to have an abstraction for kafka in your code, it&#x27;s another to wrap the client in a smart client, and much worse a smart service.That abstraction is exactly what i am talking about. Why write 50 lines of boilerplate multiple times throughout your code when you can wrap that up in a single function call and expose THAT as your client. You know thats exactly what you will end up doing on any non-trivial project. Or you could use a lib that already does that - such as the \"official\" kafka streams lib. reply hamandcheese 18 hours agorootparentprev> Thats kind of like saying dont use any software libraries because they all use the standard lib indirectly so you may as well just use that?This is decent advice, IMO. The cost of dependency management is often vastly understated. reply snoman 9 hours agorootparentThat’s Not Invented Here syndrome, and it’s decidedly bad advice.The cost of dependency management may be understated but it’s always less than the cost of reimplementing everything found in established libraries. reply zaphirplane 17 hours agorootparentprevmediocre Libraries sink to the bottom over time. Home grown libraries have a different quality and don’t sink easily. This is definitely YMMV for different teamsI can imagine home grown libraries having inconsistent api with wild and wonderful assumptions and beware the edge cases reply robertlagrant 20 hours agorootparentprevThis would be my instinct too. reply NovemberWhiskey 20 hours agorootparentprev>All the smartness of the messaging can be implemented in the smart clients.How do you do, for example, a queue with priorities client side without it being insanity? That&#x27;s a relatively basic AMQP thing. Or managing the number of redeliveries for a message that&#x27;s being repeatedly rejected.You can absolutely try to build some of this with a look-aside shared data store that all clients have to depend on in order to emulate having the capability in the broker, but you just introduced another common point of failure in addition to the messaging infrastructure. Life is too short for this. reply supermatt 19 hours agorootparentI totally agree that you cant do a lot of AMQP stuff. As you noted, you can build some of it by managing state via transactional producers, etc - but you definitely cant do everything. The biggest gripe for me is actually dynamic \"queue\" creation, patterns for topics, etc. So I use an MQ for an MQ ;)I&#x27;m just saying you can \"dumb down\" the client side on kafka by creating an abstraction layer (or one of the many higher level libs that already do that). reply robertlagrant 11 hours agorootparentprevThose requirements would definitely be examples of those that are fulfilled by smart messaging. reply waynesonfire 20 hours agorootparentprevAnd reimplement rabbitmq? Great idea. Let&#x27;s do it in rust too. replyonetimeuse92304 7 hours agoprevIf you have a throughput problem you are most likely doing it wrong. If your knee jerk reaction is to scale your messaging up you may want to reconsider. Messaging systems are usually hard to scale up and always very costly to do so compared to the amount of data they are transferring.The simplest thing you can do is to realise WHY you are using messages. Messages are there to trigger a process. Usually, you don&#x27;t need a lot of data to trigger a process, the message just needs to let the system know enough to locate all necessary information.Also, when you are sending information at an extremely high rate, there usually is no difference if each message is processed separately or in batches.So what you can do in practice?1) Get the producer to batch the messages. For example set rules like \"batch up to 10.000 messages, up to 100ms, up to 100MB of data, whichever comes first\". 2) Serialise the batch (for example, if it makes sense, create a compressed JSON file) 3) Upload the file to some high throughput, scalable, cheap storage (for example S3) 4) Send a message to the queue &#x2F; topic &#x2F; whatever else you are using with just enough to locate and process the message -- usually just the link to the S3 object.This usually can be modified depending on specific project needs.Now your messaging only ever sees a small number of very small messages and you will never have any scaling problems, at least not on messaging side. reply Beached 5 hours agoparent1) some designs can&#x27;t tolerate the producer sending messages at such a delay. 3) s3 is not cheap storage, it is significantly higher cost than most on prem solutions when talking about large scale storage. (pedabytes scale) reply onetimeuse92304 4 hours agorootparent1) If you can&#x27;t accept and process the the load of messages with your messaging the discussion of whether 100ms is or is not acceptable delay is very much pointless.Messaging middleware is by design not suited well for architecting real time systems. If you require real time guarantees you would benefit from some other communication channel.2)3) S3 is orders of magnitude cheaper compared to messaging platforms like RabbitMQ or Kafka. If you take load off of your RabitMQ or Kafka and put it on S3 you should see a significant reduction in cost.S3 might be more expensive than other persistence solutions, true. Just choose whatever else you have. I used S3 as an example because it is extremely easy to implement and get going.Again, all engineering is about tradeoffs. You compare two solutions, they will always have some cons. You just decide which cons you can live with. If your platform can&#x27;t process messages at all and you don&#x27;t know how to scale it up to do so that&#x27;s pretty large problem in my book. reply usrusr 7 hours agoparentprevIf your use case can stomach the added failure modes this implies, yeah, that&#x27;s what you can do. reply onetimeuse92304 4 hours agorootparentEverything has some cons, some failure modes.All engineering is about knowing, understanding and making tradeoffs.In my practice, I am happy if I can get rid of hard problems (my messaging platform being unable to process X messages per second) and replace them with relatively easier problems (my persistence might sometimes fail and then I can&#x27;t send a message).I would argue that distributed persistence solutions are usually more reliable than messaging platforms and also what is a very large throughput for a messsaging solution is usually nothing much for monsters that are engineered to take much larger volumes of data. And so, in my experience, reducing load to messaging and increasing load to persistence is net positive for the overall reliability. reply jpgvm 16 hours agoprevIf you want features of RabbitMQ (specifically queue like behavior) but the scalability of Kafka then you probably want Apache Pulsar.To elaborate on that a bit the main things Pulsar gives you are:1. Still underlying distributed stream based architecture, this is what makes it able to do Kafka like things.2. Broker side management of subscription state which allow out of order acknowledgement, this means you can use it like a queue. (Subscriptions sort of act like AMQP mailboxes but without the exchange routing semantics). Vs Kafka which can only do cumulative acknowledgement, i.e head of line blocking.3. Separated \"compute\" and storage. By storing data in Bookkeeper you can scale your needs to support a lot of consumers separately from how you stash the data those consumers need to read vs Kafka where these 2 are coupled and an imbalance between the two becomes awkward.4. In built offload with transparent pass-through read. When your data falls off the retention cliff for your standard broker cluster the data can be archived to object storage. The broker can transparently handle read request for these earlier messages though, just with higher startup latency to pull the archived ledgers.5. Way more plugability than Kafka, in-fact similar plugability as RabbitMQ. You can implement your own authz&#x2F;authn, a different listener to support a different protocol (there is a Kafka one, MQTT, AMQP etc).6. Much greater metadata scalability. Before the new KRaft implementation the layout of metadata in ZK meant that you couldn&#x27;t feasibly have more than about 10k topics. Especially because of how long the downtime would be on controller failover. Pulsar can easily support much larger numbers of topics which prevents needing to use a firehose design when you would prefer individual topics per tenant&#x2F;customer&#x2F;whatever. reply mianos 14 hours agoparentWhile pulsar on paper seems a superior solution, in my experience it is very still very immature and very buggy. I really want to use it over kafka but I would not bet my business on it.I am not a fan of Kafka, it&#x27;s kinda old, and the code is a bit messy, a lot of the once only semantic problems 100% solved by Pulser are sorta kinda in Kfaka these days. All the newer stuff like built in RAFT makes it competitive with anything.But, anyone who has used Kafka at scale has to say it 100% does what it says on the box. Many people are used to it&#x27;s idiosyncrasies at scale and can get it to scale.Now RabbitMQ. I have been burnt so badly by it breaking at scale I&#x27;ll never be touching it again. Maybe my fault, maybe not, but replacing it with Kafka solved all my flakey issues and I never looked at it again. reply jpgvm 14 hours agorootparentI have run all 3 at big scale. Kafka is still great as long as everyone using it understands it&#x27;s a stream, not a queue and using it like a queue is going to get them burnt. I don&#x27;t touch RabbitMQ with a 30ft pole anymore, too many lost days or nights to split brains and other chaos.Pulsar has mostly replaced Kafka for me because I don&#x27;t need to worry about people coming along and changing requirements after the fact and saying, actually yeah we do need queue semantics. Or actually yeah we need data larger than the ~48hrs we want to store in Kafka and we don&#x27;t want to teach our application to read from the archive.Pulsar is definitely greener than Kafka in a lot of ways but the underlying stuff is very solid, BookKeeper in particular is tough so you aren&#x27;t really at risk of data loss but you might run into bugs that make brokers do silly things and that can be annoying. Generally speaking though if you validate both the paths you are using and new releases it&#x27;s been fairly OK to me.The big thing was being able to directly connect external clients into Pulsar using the Websocket listener on the proxy and plugging in my own authz&#x2F;authn logic. The eliminated a layer that would otherwise need to be implemented separately.So far I have been happy with Pulsar, if you haven&#x27;t tried it for a while you should give it another go. It will only get mature if people use it. :) reply continuitylimit 3 hours agorootparentPulsar is a very interesting architectural case study. The cost of the greater clarity and flexibility is the greater management burden. The server-side functions are nice (and remind of JEE MBeans) but the direct challenge to Kafka is the decoupling of storage from servers via Bookkeeper (which adds the lower layer cluster management burden) which addresses the rebalancing headaches with Kafka type of solution (where the server and storage are unified). reply mianos 12 hours agorootparentprevYour comments seem to closely reflect mine. I&#x27;ll have to take your advice and give it another go. It&#x27;s everything all the others want to be. The architecture with distributed bookkeeper underneath seems so much more advanced. reply ssd532 7 hours agorootparentprevI am contemplating this exact topic for my project at this moment. It would be great if you can briefly explain what, as per your understanding, stream vs queue semantic are. I am studying it and got somewhat confusing discussions on the internet and in person forums. reply protortyp 5 hours agoparentprevWe also switched to Pulsar after running some benchmarks for our use cases. We use these services primarily as worker queues for image tasks that require low latency. And Pulsar turned out to have a 20x lower latency than Kafka in our setup. reply tannhaeuser 20 hours agoprevI think this is an excellent article. The only thing I&#x27;d add is that RabbitMQ is an implementation of AQMP (optionally v1.0) as a standardized broker service protocol so is designed to be interchangeable with other extant implementations such as Apache Active MQ and Cupid whereas Kafka is one-of-a-kind software. Beyond that RabbitMQ has standardized client libs and frameworks in Java land if that matters to you - it did matter in the original context of message queue middlewares and SOA from where AMQP originated and where enterprise messaging sees major use. OTOH Kafka, with caveats, is in principle more \"web scale\" - though that is far from a free ride. reply dividedbyzero 20 hours agoprevNATS (https:&#x2F;&#x2F;nats.io&#x2F;) is another option, though I&#x27;m not sure if it&#x27;s still considered a viable Kafka replacement. reply klabb3 20 hours agoparentIt’s true FOSS, and the server is standalone Go binary that’s so small it can even be embedded. Lots of language bindings for clients. Has persistence, durability, and nicely aligns into a raft-like cluster in a DC without a separate orchestrator.I’m a big fan – never understood why it’s not at the top of the list in these tech reviews. reply nhumrich 20 hours agorootparentRabbitmq is FOSS, has lots of language bindings. It has persistence, durability, and doesn&#x27;t require a separate orchestrator. reply fuzzy2 20 hours agoparentprevNATS is something else, but it&#x27;s awesome. It has awesome throughput and latency out of the box (without Jetstream), while using little resources.I&#x27;d recommend considering it, especially as an alternative to RabbitMQ. reply speedgoose 20 hours agorootparentI only tested NATS using JetStream and I struggled with the throughput in Python. I probably used it wrong. But your comment may imply that jetstream is slow. reply to11mtm 19 hours agorootparentI think sometimes the client bindings are&#x2F;were in need of improvement.As an example, the C# API was originally very &#x27;go-like&#x27; and written to .NET Framework, didn&#x27;t take advantage of a lot of newer features... to the point a 3rd party client was able to get somewhere between 3-4x the throughput. This is now finally being rectified with a new C# client, however it wouldn&#x27;t surprise me if other languages have similar pains.I haven&#x27;t tested JetStream but my general understanding is that you do have to be mindful of the different options for publishing; especially in the case of JetStream, a synchronous publish call can be relatively time consuming; it&#x27;s better to async publish and (ab)use the future for flow control as needed. reply fuzzy2 10 hours agorootparentprevI didn’t mean to imply that Jetstream is slow. It’s just that I did my benchmarks without it. On a local PC, with 10 KiB messages sent (synchronously) in a loop, I could transfer 3.2 GiB over 5 seconds with 0.2 nanoseconds latency. Performing the same test with RabbitMQ, I got even better throughput out of the box, but way worse latency.Those numbers are for server 2.9.6 and .NET client 1.0.8. reply pgorczak 10 hours agorootparentprevI’m not familiar with the Python lib but it could be waiting for streams to acknowledge each message reception&#x2F;persistence before sending the next one. Some clients allow transactions to run in parallel e.g. with futures. reply KaiserPro 20 hours agorootparentprevwe used it for some low latency stuff in python. it was about 10ms to enqueue at worst. However we were using raw NATS, and had a clear SLA that meant that the queue was allowed to be offline or messages lost, so long as we notified the right services. reply KaiserPro 20 hours agoparentprevIf I&#x27;m not buying a message bus in as a service, then NATS is great for pub&#x2F;sub and or message passing systemit is simple to configure, has good documentation, and excellent integration into most languages. It guarantees uptime, and thats about it. It clusters really well, so you can swap out instances, or scale in&#x2F;out as you need. reply vorpalhex 20 hours agoparentprevDifferent set of promises. NATS is great but has a different tradeoff bargain from Rabbit or Kafka. reply kumarvvr 15 hours agorootparentCould you expand on this a bit more? I am curious. reply vorpalhex 15 hours agorootparentNATs has a decent-ish guide here: https:&#x2F;&#x2F;docs.nats.io&#x2F;nats-concepts&#x2F;overview&#x2F;compare-natsA few things they get wrong mostly about Rabbit:+ RabbitMQ does support replay, and also has a memory only mode which will support persistance in a cluster+ RabbitMQ doesn&#x27;t have that sensitive of a latency between cluster members (no more sensitive than NATS in some setups).+ RabbitMQ also supports PrometheusA good (but incomplete) rule of thumb:+ Kafka is a distributed Append-Only-Log that looks like a message bus. It allows time travel but has very simple server semantics.+ RabbitMQ is a true message broker with all the abilities and patterns therein. It comes with more complexity.+ NATs is primarily a straight forward streaming messaging platform.Also consider Redis&#x27; message queue mode, zeromq, mqtt brokers (Eclipse Mosquitto) and the option of just not using a message broker&#x2F;queue system. Even as someone who really likes the pubsub pattern, there&#x27;s a good chance you don&#x27;t need it and you may be heading to a distributed monolith antipattern. reply gunapologist99 14 hours agorootparent> distributed monolith antipatternBeauty is in the eye of the beholder, I guess. (I would definitely not consider a distributed monolith an antipattern)Also wanted to add NSQ to your very good list. reply mherdeg 11 hours agorootparentprevThanks for this link -- really interesting.I like the suggestion to rethink whether you actually need to be doing asynchronous computing with a message broker&#x2F;queue&#x2F;stream or whether you can represent your work another way. replywhalesalad 20 hours agoprevOne is a tomato, the other is an orange. From a distance they might look alike but they really are two completely different tools. This is a pretty solid explanation of the differences with good illustrations.Rabbit can do everything Kafka does - and much more - in a more configurable manner. Kafka is highly optimized for essentially one use case and does that well. Nothing in life is free, there are trade-offs everywhere. I am not privy to which one is theoretically faster - but once you reach that question methinks the particular workload is the deciding factor. reply KaiserPro 20 hours agoparentRabbit is an arse to scale past one broker. It was possible, but a pain, that might have changed.Kafka is just a pain full stop. reply icedchai 19 hours agorootparentAt a previous company, about 10 years ago, we had roughly 10 RabbitMQ instances (brokers), all isolated. The system was essentially partitioned by queue server. We had a directory-ish service that would associate clients with their assigned node. It worked well, except if a client got too large we might have to move them to another queue. reply nhumrich 20 hours agorootparentprevThe official rabbitmq controller for kubernetes is a breeze. Scales wonderfully without almost any effort. reply relay23 16 hours agoparentprev>> Rabbit can do everything Kafka does - and much more - in a more configurable manner. Sure, if you&#x27;re doing like 10&#x27;s of MB&#x2F;s. RMQ is fast compared to AK if you&#x27;re not adding durability, persistence, etc. Try to run gigabytes per second through it though, or stretch across regions, or meet RTO when the broker gets overloaded and crashes.. Get your shovel ready! ;)Kafka itself is dumb but scalable and resilient, it&#x27;s the client ecosystem that&#x27;s massive compared to RabbitMQ. Count 10 stream processing, connectivity, ingestion or log harvesting platforms that use RMQ as it&#x27;s backend, then name 10 languages that have supported libraries for RMQ.. then compare that to Kafka. reply JohnMakin 20 hours agoparentprevI am not an expert in either and have only worked with Kafka. At a past job I had to write a connector job to parse and sanitize some extremely dirty, unstructured data and pass it along somewhere else. RabbitMQ supports this? What is the one use case of kafka? I think you have it backwards. reply whalesalad 20 hours agorootparent> parse and sanitize some extremely dirty, unstructured data and pass it along somewhere elsecan you be more specific? that to me sounds like hello world for either of these tools. \"santize data\" is an application level concern that neither rabbit or kafka would handle. as far as \"pass along somewhere else\" again both tools can do. reply JohnMakin 20 hours agorootparentIt was a Sink Connector. I don’t know what it was or wasn’t supposed to do but I was asked to do it, as is often the case in tech. I could have done any number of transformations in that process though, which I’m not sure rabbitmq supports reply whalesalad 20 hours agorootparentIt sounds to me like you aren&#x27;t really even sure what you built. I have operated both rabbit and kafka at scale I definitely do not have it backwards :) reply JohnMakin 20 hours agorootparentNo, I’m not, because it was years ago, and I’m asking for clarification because what was said immediately sounded wrong to me (I’ve managed a lot of rabbitmq deployments) and you’ve not really given one other than an appeal to authority. guess I have my answer. Can’t find anything that suggests rabbitmq natively supports anything like sink connectors. thanks. reply supermatt 20 hours agorootparent> Can’t find anything that suggests rabbitmq natively supports anything like sink connectorsKafka doesnt natively support them either. That would be Kafka Connect. I guess you could use it as an MQ, but it wouldnt be a very good one. Its more used as a data integration platform. If you want more MQ-like functionality OOTB on top of Kafka you would want to use something like Kafka Streams instead. reply JohnMakin 19 hours agorootparentThanks for this clarification, this is what I was after. reply FINDarkside 20 hours agorootparentprevSo let me get this straight. You&#x27;ve used Kafka once, RabbitMQ never. You don&#x27;t really know what you did with Kafka. But you somehow know that RabbitMQ cannot do the thing which you don&#x27;t really remember anymore. Doesn&#x27;t make much sense to be honest.Nobody can really have any sources for RabbitMQ being able to do it if you don&#x27;t know what it supposedly cannot do. The way you descibed it, is that you simply read data and then did something with the data and passed it to somewhere else. RabbitMQ obviously can do it. reply NovemberWhiskey 20 hours agorootparentprev> I am not an expert in either and have only worked with Kafka.> I’ve managed a lot of rabbitmq deployments... ? reply JohnMakin 19 hours agorootparentYou do not need to be an expert in something&#x27;s internal workings to manage&#x2F;monitor a deployment. Surely this does not need to be explained further. reply sgarland 5 hours agorootparent> I think you have it backwardsYou do need to be an expert when you start telling other people they’re wrong, though. reply lnenad 19 hours agorootparentprevA classic exchange on the internet. replyrafaelturk 20 hours agoprevNice post! RabbitMq is battle tested, exceptionally fast and low resources app. Capable of handling millions of transactions&#x2F;second. RabbitMQ will handle vast majority of usecases. I&#x27;m puzzled why often startups, or even banks use Kafka, soley because is hype. Kafka on the order hand requires massive CPUs, Memory, often requiring its own K8S cluster just to be alive. reply ceencee 18 hours agoparentPretty much every bank uses kafka ad the central messaging layer. What people are missing in almost every post here is the write once read many without data duplication and with different offsets is the killer app for Kafka beyond just the near infinite scale which is also super appealing. The failure modes are way way better than Rabbit as well. Note: I owned the streaming platform for a top 5 bank in the us. reply leetbulb 17 hours agorootparentYeah, I&#x27;m sorry to others, but if you require the guarantees and compliance that Kafka provides, Kafka wins, especially at this kind of scale. I&#x27;d love to see RabbitMQ scaled out to handle hundreds of trillions of events per day and able to retain years worth of highly durable, immutable, and replayable event storage.Ultimately, this comparison is apples vs oranges... reply dalyons 17 hours agoparentprevRabbitmq sucks to scale. clustering and partitioning were terrible for a long time, maybe still is. Clusters dying in split brained ways, nodes crashing terribly &#x2F; unrecoverable if they exceed iops or storage limits. You couldn’t pay me enough to run a high volume rMQ cluster again.Never mind that the persistent durable log pattern of kakfa enables a lot replay type use cases that are very beneficial in financial systems specifically.It’s not solely because of hype at all, it’s objectively better for many use cases. reply rafaelturk 19 hours agoparentprevIf your have a clean event-driven architecture, ie messages are completely agnostic and decoupled from one-another you don&#x27;t need Kafka. reply ceencee 18 hours agorootparentThis is a ridiculous statement if you really build an EDA. Kafka is what enables the decoupling. reply inkyoto 13 hours agorootparentprevEvent-driven architecture is an architectural principle, and Kafka, RabbitMQ&#x2F;ActiveMQ, Pulsar, NATS and so forth are implementations that support the event-driven architectural principle. Yet, all of them range in a variety, complexity and extent of features they provide which may or may not be a good fit for a particular use case.Traditional message brokers (RabbitMQ and similar) do support the event-driven architecture, yet the data they handle is ephemeral. Once a message has been processed, it is gone forever. Connecting a new raw data source is not an established practice and requires a technical «adapter» of sorts to be built. High concurrency levels is problematic for scenarios where the strict message processing ordering is required: the traditional message brokers do not handle it well in highly parallel scenarios out of the box.Kafka and similar also support event-driven architectures, yet they allow the data to be processed multiple times – by existing (i.e. a data replay) and, most importantly, new or unknown at the time consumers (note: this is distinct from the data replay!). This is allows to plug existing data source(s) into a data streaming platform (Kafka) and incrementally add new data consumers and processors over the time with the datasets being available intact. This is an important distinction. Kafka and similar also improve on the strict processing order guarantee by allowing a message source (a Kafka topic) to be explicitly partitioned out and guaranteeing that the message order will be retained and enforced for a consumer group receiving messages from that partition.To recap, traditional message brokers are a good fit for handling the ephemeral data, and data streaming platforms are a good fit for connecting data sources and allowing the data to be ingested multiple times. Both implement and support event-driven architectures in a variety of scenarios. reply dventimi 17 hours agoprev> Apache Kafka is not an implementation of a message broker. Instead, it is a distributed streaming platform. Unlike RabbitMQ, which is based on queues and exchanges, Kafka’s storage layer is implemented using a partitioned transaction log. Kafka also...This seems like an important passage, drawing the crucial and long-awaited distinction between RabbitMQ and Kafka, and yet without having defined a \"partitioned transaction log\" the author strands the reader without any help in absorbing the distinction. reply estiller 9 hours agoparentHi, this is the article author here. Thanks for the feedback! I&#x27;ve written this article 3.5 years ago, and it could definitely deserve a shake-up. I agree this should be cleared up a bit. reply zerbinxx 12 hours agoparentprevThis is sadly commonplace in tech blogs: rather than taking a great opportunity to hook the reader, the writer will drop a vocab term in bold and move on. reply FridgeSeal 20 hours agoprevI’m personally a fan of Kafka. I think the design of persisting the messages, and tracking offsets for progress instead of message acknowledgments is a much cleaner and more versatile design.You can get all the same advantages of message acknowledgments, but now you can also replay queues, let different applications use the messages (handy for cross cutting event&#x2F;notification systems) and you get better scaling properties-which doesn’t hurt at the small scale, and provides further scaling when you need it. reply whalesalad 20 hours agoparent> You can get all the same advantages of message acknowledgments, but now you can also replay queueswith rmq you can reject&#x2F;nack a message and have it put back on the queue. rmq is not well suited for long term historical retention inside queues a-la kafka&#x27;s logs but it is possible to do.> let different applications use the messages (handy for cross cutting event&#x2F;notification systems)rmq also does a publish once and fanout to multiple queues to support this. data is replicated so that could be a deal breaker, but it is possible.how often have you had to diagnose a stuck consumer or some other kind of offset glitch where a consumer is unable to resume where it left off?not knocking kafka here but I do think it is a tool you should reach for when you need to solve a very hyper focused problem, while rabbit is a tool more suited to most cases where queuing is required. kafka is a code smell in a lot of organizations from my experience - most do not need it. reply FridgeSeal 6 hours agorootparent> with rmq you can reject&#x2F;nack a message and have it put back on the queueI know other systems have semi-similar mechanisms, however most of them retain the “someone is the sole owner of this message” style design, which I think is fundamentally limiting. Owning application dies, is it acked or not? Acks but never gets around to putting it back on the queue? Who takes priority if 2 separate applications wish to watch the same stream of events?I think Kafka’s “nobody owns it, acks are consumer group level” give you the same advantages for the application itself, without a number of the more difficult complications.> rmq also does a publish once and fanout to multiple queues to support thisWhich is probably fine for small volume or velocity topics, but is going to cause all sorts of load issues at higher scale. reply raducu 20 hours agorootparentprev> afka is a code smell in a lot of organizations from my experience - most do not need it.Kafka is really nice if you don&#x27;t care that much about latency during peak load and you don&#x27;t have absurd processing times for messages. reply ceencee 17 hours agorootparentKafka can sustain sub 20ms at millions or even billions per second scale. Processing time delays is bad consumer code and partition design smell. Aka , your consumer shouldnt depend on a slower resource within an ordering domain. This can also be mitigated with an async consumer reply FridgeSeal 17 hours agorootparentprevThese sound like consumer issues to me.Kafka had been extremely reliable with latency, even under load in my experience.If you’ve got badly lagging consumers that are trying to read from very old points in the topic while everyone else is at the head, you’ll definitely see some increased resource usage, but again, that’s mostly a consumer issue, and I’ve need seen performance degrades that much. reply monksy 16 hours agorootparentprevIf you&#x27;re concerned about latency you might want to consider zeromq. Stream processing doesn&#x27;t really have a time expectation to it. reply KaiserPro 20 hours agoparentprev> now you can also replay queuesyeahnah, that leads to people treating queues like databases (I&#x27;m looking at you new york times, you know what you did wrong)its either a queue, or a pubsub, either way its ephemeral. Once its gone, it should stay gone. thats what database, object stores or filesystems are for.Kafka is a beast, has lots of bells and whistles and grinds to a halt when you look at it funny. Yes, it can scale, but also it can just sulk.rabbit has it&#x27;s own set of problems, and frankly it&#x27;s probably not choose either anymore. reply serallak 11 hours agorootparentWhat would you choose today ? reply KaiserPro 4 hours agorootparentIt depends on the context.Currently I&#x27;m using DDS, specifically from eprosma. I would avoid that implementation unless you&#x27;re using java.I really like NATS. However I would probably use what every is bundled with the cloud system I&#x27;m using, unless its super critical.MQTT is quite nice for things, as is rabbit. reply officialchicken 19 hours agorootparentprev> (I&#x27;m looking at you new york times, you know what you did wrong)You&#x27;re going to have to be a tiny bit more specific here. NYT is THE factory of wrongness for sure. In every dimension. Are we talking \"yellow cake\" wrong, or somewhere else on the severity of f&#x27;up scale... reply KaiserPro 4 hours agorootparenthttps:&#x2F;&#x2F;www.confluent.io&#x2F;blog&#x2F;publishing-apache-kafka-new-yo...^ this.All they needed was a database, or possibly a DB that supports row signing. I mean actually they could have done it with git. They don&#x27;t publish that many stories an hour.Everything about this setup is just plain wrong, and to then boast about it, absolute madness. reply joking 10 hours agorootparentprevThey wrote a post on how they disabled the deletion and compaction of the data in Kafka and used it as the source of truth. reply raducu 20 hours agoparentprev> You can get all the same advantages of message acknowledgments.Maybe 95% of cases, but not all.Long message processing time really kills kafka in a way it doesn&#x27;t kill Rabbit Mq. Combine it with inherent read paralelism being limited to the number of partitions. Add in high variability of message rates and bingo, that&#x27;s like 90% of the issues I&#x27;ve had with kafka over the years. reply estiller 9 hours agoprevHi everyone, this is the article author here. I was genuinely surprised to see the article pop up here 3.5 years after I wrote it.Thank you for all the feedback! Given the advances in the past few years in this area, this article could use a serious update. A comparison to NATS and Pulsar is warranted, along with some extra explanations for some of the technical terms in the article.I&#x27;ll carefully review the feedback here and try to make an update at some point soon. reply bicijay 20 hours agoprevMessage ordering is an illusion. Unless you track&#x2F;store the messages on the client and are willing to deal with stuck queues due to failures in one \"poisoned\" message. reply klabb3 20 hours agoparentThere are different kinds of order. Yes, there’s no total order in a distributed system, but you can have certain partial order guarantees. It’s nice if something is added before it’s updated, for instance. reply bicijay 47 minutes agorootparentCould you expand on that? How would you achieve \"partial order\" guarantees? reply rafaelturk 20 hours agoparentprevCouldn&#x27;t agree more, messages should be completely agnostic from one-another. If you have a decent event-driven architecture, you don&#x27;t need kafka. and you can be happy with Redis or RabbitMQ reply pbowyer 9 hours agoprevWhat these articles always miss is what are the real-world scenarios that use Kafka or RabbitMQ? I&#x27;ve never used one professionally and beyond the async processing cases I come across in web dev (mostly sending emails asynchronously), or seeing devs using one to handle 5 req&#x2F;s which doesn&#x27;t need it, I don&#x27;t have a good feel for when they are really needed - especially for companies at sub-Uber scale.What real-world cases would you use them for? reply h1fra 8 hours agoprevRabbitMQ is one the most impressive technology I have ever used I think. It&#x27;s simple, efficient and reliable. In 10 years, I have never seen a crash or a bug, even with heavy load. reply vorticalbox 8 hours agoparentwhere i work we have some queues with millions of items in and the thing is perfectly stable. reply purpleblue 20 hours agoprevIf someone is asking if they should decide between RabbitMQ vs Kafka, they should 100% use RabbitMQ. It means they have no idea what they&#x27;re dealing with, the architectural differences, and the investment that the company needs in order to use Kafka.So use RabbitMQ. reply BWStearns 21 hours agoprevMy comment is mostly about part 2 of this post, but wrt message ordering being a kafka \"win\" I&#x27;d raise the point that in the actual use case of \"a consumer fails in some way to process the message\" you can still end up with out of order processing of the consumer&#x27;s input since you might want to dump them into a DLQ or something. The fact that the message isn&#x27;t reappended to the topic by default for processing is kind of an academic point no?Unrelatedly, I&#x27;ve been looking at Pulsar lately. Anyone have experience with Pulsar and either RMQ&#x2F;Kafka want to throw out some opinions from having tried both? reply EdwardDiego 18 hours agoparentPulsar can have both MQ semantics and pub&#x2F;sub semantics. In pub&#x2F;sub it&#x27;s sorta like \"Kafka with all bits people found it necessary to build later already built in\", e.g., a proxy, schema registry, connectors, replication, tiered storage, all out of the box.It also has lightweight streaming functions built-in, but they operate per record, so good for lightweight transforms&#x2F;routing, not for stream aggregations etc.It has more moving parts also, brokers are decoupled from storage, which is handled by BookKeeper, and replication between two clusters requires a ZooKeeper that both clusters can access, in addition to the ZK used by the brokers and bookies.And it&#x27;s a reasonably new project, so last time I looked into it, some of the documentation was incorrect, especially around managing bookies. reply relay23 16 hours agorootparentMassive and complex platform.. at a certain point why not just run 2 different platforms that are best of breed for each. reply olavgg 11 hours agorootparentYou can just run Pulsar standalone which is super-simple, it is a great start and scales just fine for one machine. Once you outscale one machine, you can refactor Pulsar into a distributed setup. The advantage is that everything is still familiar. reply supermatt 21 hours agoprevThe same MQ patterns as mentioned in the article (exactly once, consumer groups) can also be done in kafka, contrary to what the article suggests. reply cma256 16 hours agoprevThe great thing about Kafka is the ability to batch operations. Collect a set of messages in memory and, when its time to commit, submit a bulk operation. If something fails you just rebuild the buffer from the last committed offset. Pretty neat piece of technology. reply pharmakom 11 hours agoprevseems like there is a missing option?- Message retention (like Kafka)- Easy consumer scale out (like RabbitMQ)- No particular ordering guarantees (like RabbitMQ) reply opentokix 9 hours agoprevWow, this is the type of trash one can expect from someone calling themselves \"Architect\" reply rrr83 8 hours agoparentBe kind! Author has shared his findings based on his understanding, if you have more to add go ahead and create another page? reply postalrat 20 hours agoprevRedis isn&#x27;t an option? reply noitpmeder 20 hours agoparentI&#x27;d also like someone with experience to contrast redis for these use cases. reply akvadrako 11 hours agoparentprevOr postgres. If you are under 1000 messages a second it functions well as a transactional queue. reply sgarland 5 hours agorootparentUntil table bloat happens. reply blindriver 17 hours agoparentprevRedis is a cache, it&#x27;s not a queue.Can you do something similar? I guess, just like you can use a highlighter to paint your house. But the semantics are not correct. reply relay23 16 hours agorootparentThere is Redis Streams, but certainly not without it&#x27;s problems. Super obscure, not a lot of client support. reply rafaelturk 20 hours agoparentprevYes, Don&#x27;t why is not mentioned in the article, maybe because is more barebones. reply bhouston 21 hours agoprevIf you use Confluent Kafka, the billing is pretty high. About 4 years ago it was much cheaper, but then they completely revamped the pricing to something ridiculous. I found that switching to Google Pub&#x2F;Sub, at least if it meets your needs, is cheaper. reply AndyPa32 20 hours agoparentYes, I can confirm that. Confluent is the most expensive part of our current infrastructure. reply bhouston 20 hours agorootparentCan you switch away from it? Or do you need its advanced features? reply relay23 16 hours agorootparentprevSounds about right. reply esafak 18 hours agoparentprevI see they offer Kafka&#x27;s exactly-once delivery: https:&#x2F;&#x2F;cloud.google.com&#x2F;blog&#x2F;products&#x2F;data-analytics&#x2F;cloud-... reply relay23 16 hours agorootparentKafka doesn&#x27;t guarantee exactly once delivery at all, unless you&#x27;re using Kafka Streams and even then your final output topic still won&#x27;t get exactly once, the consumer group protocol doesn&#x27;t allow for it. reply relay23 16 hours agoparentprevIt&#x27;s cheaper until you get to a sizeable workload, and the P90+ latency is ridiculous.. the kafka api is weak and when you&#x27;re not using kafka api you&#x27;re limited on integration tools unless you want to be super locked in to GCP. reply bhouston 2 hours agorootparentThe lock-in argument is a non starter with me. I never see people move between clouds (well it happens but it is incredibly rare) and it isn’t because of lock in but rather they are pretty close to equivalent. And if you wanted to go on prem you can replace the messaging system, it isn’t one of the hardest steps of going on prem. reply jonstewart 16 hours agoprev [–] I&#x27;m sure there remain good use cases for message buses that you have to run yourself, where there really are millions of messages that can&#x27;t be batched up and need real-time and whatnot. But you can get pretty far with:1. Write a bunch of records to an S3 object. 2. Trigger a lambda to process — infinite scale out!and if a queue really is needed due to constrained consumers, then:1. Write a bunch of records to an S3 object. 2. The lambda trigger puts a message into an SQS queue with the S3 object&#x27;s URI. 3. An auto-scaling group gets the message off the queue and processes the data in the object.If ordering&#x27;s important, then the SQS queue can be made FIFO. That has pretty low numbers in messages&#x2F;second, but since records are being batched into S3 objects you can still have fairly high throughput.It used to be that the elegance of queues for such systems would tempt developers into the operational slough of despond that is running these types of systems. Again, I&#x27;m sure it&#x27;s warranted for some applications, but S3, Lambda, and SQS as above work nicely together. replyApplications are open for YC Winter 2024 GuidelinesFAQListsAPISecurityLegalApply to YCContact Search:",
    "originSummary": [
      "The article compares RabbitMQ and Kafka, widely utilized technologies for asynchronous messaging in software architecture, pointing out their key differences.",
      "RabbitMQ is portrayed as a versatile message broker supporting both message queuing and publish/subscribe patterns, while Kafka is depicted as a distributed streaming platform utilizing topics instead of queues.",
      "The discussion underscores the significance of understanding these distinctions for choosing the appropriate solution in various scenarios."
    ],
    "commentSummary": [
      "The article presents a comparison between various messaging systems such as RabbitMQ, Kafka, Pulsar, and NATS, each having distinct merits and tradeoffs in message processing, scalability, and data retention.",
      "It argues that the selection of a messaging system should be based on the particular needs and requirements of a given project.",
      "It also brings forth challenges and aspects that architects must consider when deciding between messaging systems, enriched by comments and suggestions from users sharing their experiences and possible alternatives."
    ],
    "points": 252,
    "commentCount": 145,
    "retryCount": 0,
    "time": 1695149683
  },
  {
    "id": 37584049,
    "title": "ElectricSQL, Postgres to SQLite active-active sync for local-first apps",
    "originLink": "https://electric-sql.com/",
    "originBody": "Hi HN, James, Valter, Sam and the team from ElectricSQL here.We&#x27;re really excited to be sharing ElectricSQL with you today. It&#x27;s an open source, local-first sync layer that can be used to build reactive, realtime, offline-capable apps directly on Postgres with two way active-active sync to SQLite (including with WASM in the browser).Electric comprises a sync layer (built with Elixir) placed in front of your Postgres database and a type safe client that allows you to bidirectionally sync data from your Postgres to local SQLite databases. This sync is CRDT-based, resilient to conflicting edits from multiple nodes at the same time, and works after being offline for extended periods.Some good links to get started:- website: https:&#x2F;&#x2F;electric-sql.com- docs: https:&#x2F;&#x2F;electric-sql.com&#x2F;docs- code: https:&#x2F;&#x2F;github.com&#x2F;electric-sql&#x2F;electric- introducing post: https:&#x2F;&#x2F;electric-sql.com&#x2F;blog&#x2F;2023&#x2F;09&#x2F;20&#x2F;introducing-electri...You can also see some demo applications:- Linear clone: https:&#x2F;&#x2F;linear-lite.electric-sql.com- Realtime demo: https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;intro&#x2F;multi-user- Conflict-free offline: https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;intro&#x2F;offlineThe Electric team actually includes two of the inventors of CRDTs, Marc Shapiro and Nuno Preguiça, and a number of their collaborators who&#x27;ve pioneered a lot of tech underpinning local-first software. We are privileged to be building on their research and delighted to be surfacing so much work in a product you can now try out.",
    "commentLink": "https://news.ycombinator.com/item?id=37584049",
    "commentBody": "ElectricSQL, Postgres to SQLite active-active sync for local-first appsHacker NewspastloginElectricSQL, Postgres to SQLite active-active sync for local-first apps (electric-sql.com) 239 points by samwillis 3 hours ago| hidepastfavorite68 comments Hi HN, James, Valter, Sam and the team from ElectricSQL here.We&#x27;re really excited to be sharing ElectricSQL with you today. It&#x27;s an open source, local-first sync layer that can be used to build reactive, realtime, offline-capable apps directly on Postgres with two way active-active sync to SQLite (including with WASM in the browser).Electric comprises a sync layer (built with Elixir) placed in front of your Postgres database and a type safe client that allows you to bidirectionally sync data from your Postgres to local SQLite databases. This sync is CRDT-based, resilient to conflicting edits from multiple nodes at the same time, and works after being offline for extended periods.Some good links to get started:- website: https:&#x2F;&#x2F;electric-sql.com- docs: https:&#x2F;&#x2F;electric-sql.com&#x2F;docs- code: https:&#x2F;&#x2F;github.com&#x2F;electric-sql&#x2F;electric- introducing post: https:&#x2F;&#x2F;electric-sql.com&#x2F;blog&#x2F;2023&#x2F;09&#x2F;20&#x2F;introducing-electri...You can also see some demo applications:- Linear clone: https:&#x2F;&#x2F;linear-lite.electric-sql.com- Realtime demo: https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;intro&#x2F;multi-user- Conflict-free offline: https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;intro&#x2F;offlineThe Electric team actually includes two of the inventors of CRDTs, Marc Shapiro and Nuno Preguiça, and a number of their collaborators who&#x27;ve pioneered a lot of tech underpinning local-first software. We are privileged to be building on their research and delighted to be surfacing so much work in a product you can now try out. canadiantim 2 hours agoI want to be able to have a Postgres database as the central source of truth for all data and user accounts, but then have each users private content to be siloed and synced to their own SQLite database which they alone have access to (maybe even they’re have one SQLite file on server and one SQLite file on phone or etc.). Is this possible with electricSQL? I remember looking at it a year ago or so and was excited but not sure if worked for my use case. Great work tho looks really good and very much in line with what I’d like to be able to do.Also is there a way to transition an existing Postgres data base into using electicsql? reply thruflo 1 hour agoparentHey,This is the exact pattern we target :)Drop Electric onto an existing Postgres data model and use the Shape-based sync to manage dynamic partial replication of subsets of data between central Postgres and local SQLites: https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;usage&#x2F;data-access&#x2F;shapesJames reply candiddevmike 31 minutes agoparentprevYou could store a SQLite database in a blob column for the user, though this would be an affront to $DEITY. reply ochiba 1 hour agoparentprevThis is also the pattern targeted by PowerSync (disclosure: co-founder) — selectively syncing scoped data for the user from Postgres to their own client SQLite database. Sync Rules are used to define which data is synced to which users: https:&#x2F;&#x2F;docs.powersync.co&#x2F;usage&#x2F;sync-rules reply afavour 31 minutes agorootparentThis is the fifth comment I’ve counted plugging Powersync in this thread. I guess it’s the nature of the startup hustle game but this level of promotion in someone else’s Show HN thread feels a little excessive to me. reply vekker 42 minutes agoprevWow, this is awesome! I&#x27;ve been \"waiting\" for a project like this for years - having to roll out my own syncing solution for my local-first app until now.I have yet to dive deeper in the docs and examples, but does anyone know how easy it would be with Electric to provide some kind of client-side transformations (encryption&#x2F;decryption) of specific fields or entire rows in your SQLite db before syncing? A major reason to go local-first, is often privacy, and the idea that the user owns their data...Also, it&#x27;s unfortunate permissions haven&#x27;t been implemented yet; https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;usage&#x2F;data-modelling&#x2F;permissio... If I understand correctly, that means in a multi-user system, everyone will sync everyone else&#x27;s data?And too bad my favorite stack (Angular + Nest.js backend) isn&#x27;t supported, but I guess it should still be straightforward to integrate the client-side and run the sync service in the backend. I might try it if I have a weekend... reply rococosbasilisk 1 hour agoprevCongrats to the team. I&#x27;m on the team over at https:&#x2F;&#x2F;powersync.co and have been following this space for a while.PowerSync is also a plug-in sync layer. The biggest difference I see is in Electric&#x27;s use of CRDTs, where we don&#x27;t rely on them and instead use server reconciliation.As a team that&#x27;s been working on online&#x2F;offline sync for just over a decade, it&#x27;s great to finally see more products that enable offline-first architectures! reply tantaman 2 hours agoprevCongrats on the launch!Looking forward to seeing more people trying out this architecture.Still hoping we can find some time to collaborate on reactivity, tree-sql, typed-sql or some such other effort in the near future. reply thruflo 2 hours agoparentThanks :) and yup, definitely, we were digging into the typed-sql repo just the other day. reply tantaman 2 hours agorootparentAwesome.I&#x27;ve made quite a bit of progress on incremental view maintenance for SQLite which I&#x27;d like to share in the near future if that&#x27;s a problem you&#x27;re also dealing with. reply koolba 3 hours agoprevIs there any validation or authorization for changes being merged back into the root database?In a traditional client &#x2F; server model, the server has an opportunity to validate each request and optionally reject it. The lower level you go with the sync protocol (data changes vs high level requests) the more difficult that becomes.Have you addressed that and, if so, how? What prevents a malicious client from send arbitrary data streams to get synced into the root database? reply thruflo 3 hours agoparentHey,You can see our database rules spec here: https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;api&#x2F;ddlxWe haven&#x27;t implemented it all yet but you can see the intention &#x2F; direction. It&#x27;s similar to RLS but adapted for the context.Connections are authenticated by signed JWT: https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;usage&#x2F;authWe also auto-generate a type-safe data access client from the electrified subset of the Postgres schema. This applies type-level write validation and will apply general write validation when we get there.James. reply doctorpangloss 2 hours agorootparent> It&#x27;s similar to RLS but adapted for the context.I&#x27;m visiting the docs.> ...This must have at least a user_id claim, which should be a non-empty string matching the primary key UUID of the authenticated user...You should probably strike this from your docs. It sounds like you are still figuring out how this should work.The \"right\" answer is to author an OIDC authentication module for Postgres and license it in a way that Amazon will steal it for the purposes of actual adoption; or try to add it to PGBouncer as a proxy, converting JWTs in the password field into \"set local user.id = ...\" and similar in a preamble for every sql statement.Projects like postgrest have been down this journey and spell out their solutions. It&#x27;s all a little vague with Supabase, there isn&#x27;t anything magical about their authorization approach either, but I wouldn&#x27;t keeping looking to them as the gold standard implementation for web backend stuff.Anyway, none of this exists in SQLite, which is a huge pain in the butt. SQLite looks promising, and then it&#x27;s missing all this stuff, because it doesn&#x27;t make any sense for SQLite to have row level security or JWTs or whatever. That&#x27;s the issue isn&#x27;t it? Like why not step back and say, \"is SQLite right for me, if it&#x27;s not only missing all these features I need, but also they will never be added to SQLite because it doesn&#x27;t make sense for SQLite to have them?\"Separately, when I visit https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;intro&#x2F;local-first, it&#x27;s ironic, the local first says its latency is 3ms, but because it had to load all this code and stuff, it took longer than 237ms of the \"cloud-first\" box for that 3ms number to even appear. I&#x27;ve been here before, I was a Meteor developer, I am cognizant of the tradeoffs and what this measurement is saying. There&#x27;s no such thing as a free lunch. reply ochiba 55 minutes agoparentprevThe route that we went with for PowerSync (disclosure: co-founder) is to allow to define your own function for handling writes, where you would use your (presumably existing) backend application API to persist the writes to Postgres. Therefore you can handle any validation&#x2F;authZ&#x2F;business logic for writes in your backend layer.The PowerSync client SDK still handles the queueing and retrying of writes so that they can be automatically retried if network connectivity is not available — whenever there is a retry, your callback function is called. (As a result of this approach, your write function should be idempotent; we commend using GUIDs or UUIDs generate client-side for primary keys)Similar to Electric, PowerSync also uses JWT for auth against your backend.There are some architecture diagrams explaining this on our docs root here: https:&#x2F;&#x2F;docs.powersync.co&#x2F; reply FrancoisBosun 3 hours agoparentprevNot the author, but PostgreSQL has constraint triggers that can run procedures &#x2F; functions on insert&#x2F;update&#x2F;delete, to allow&#x2F;reject a given row or statement. That would be one way to confirm that a given update from a client is valid, from the POV of the application. reply koolba 3 hours agorootparentThe situation I’m considering is data that matches the referential integrity and check constraints of the database, but is malicious. For example syncing a “salary update to $1M” for yourself into the source database. reply thruflo 2 hours agorootparentYup, this is what&#x27;s addressed by write permissions. You can express who can set salaries and column level rules to validate input values.When it comes to concurrency problems like not spending money twice, the plan is https:&#x2F;&#x2F;electric-sql.com&#x2F;blog&#x2F;2022&#x2F;05&#x2F;03&#x2F;introducing-rich-cr... reply robertlagrant 1 hour agorootparentRow-level permissions also very useful - e.g. I am allowed to update my own profile, but not someone else&#x27;s. replysteida 2 hours agoprevCongrats! The world needs more local-first software, but many find a complete switch hard and practically impossible, so reusing existing Postgres DB is an excellent idea. I suppose there is a space for more solutions; that&#x27;s why Evolu takes a more radical and clean approach with complete privacy by default without opt-out. Also, a dependency on third-party servers should be limited as much as possible, so that&#x27;s why Evolu Server is super simple and generic for all Evolu clients. Another Evolu feature is the simplicity of the code. CRDT shouldn&#x27;t be a black box only people with Ph.D. can understand. So, if anyone is interested in another approach, check https:&#x2F;&#x2F;github.com&#x2F;evoluhq&#x2F;evolu. reply mjadobson 41 minutes agoprevI am fully on the offline-first bandwagon after starting to use cr-sqlite (https:&#x2F;&#x2F;vlcn.io), which works similar to ElectricSQL.I thought the bundle size of wasm-sqlite would be prohibitive, but it&#x27;s surprisingly quick to download and boot. Reducing network reliance solves so many problems and corner-cases in my web app. Having access to local data makes everything very snappy too - the user experience is much better. Even if the user&#x27;s offline data is wiped by the browser (offline storage limits are a bit of a minefield), it is straightforward to get all synced changes back from the server. reply pgm8705 2 hours agoprevAwesome! I&#x27;m looking forward to trying this out. Currently I get this functionality by using PouchDB on the client with a CouchDB sever. Then on my API server I have some janky code in a cron job to sync changes from CouchDB to PostgreSQL. reply samwillis 1 hour agoparentHey, I work at Electric,The CouchDB&#x2F;PouchDB pattern is how I originally got interested in local first, they are such a good tool, but having the full power of Postgres and then SQLite on the client, I believe, is a real game change.Sounds like Electric could be a really good fit for your use case. If want any advice join the Discord and we are happy to help out. reply ThinkBeat 41 minutes agoprevI get dizzy even trying to envision all the edge cases and challenges making an active - active sync between two different database engines, over what would be tens of thousands (hundres?) of simultaneous connection to clients via a non-reliable, expect network disconnect, and reconnect from a different location from the same client.If you have managed to pull this off in a way that reliably scales and reliably keeps all the data updated and uncorrupted I am mighty impressed. My hat off for you folks.How do you handle transactions and rollbacks? reply thruflo 16 minutes agoparentHey, thanks :) and yup, lots of complexity and engineering. We&#x27;re lucky because we&#x27;re building on a lot of research and previous work.The model is Transactional Causal+ Consistency (TCC+). This has been formally proven to be the strongest possible consistency mode for an AP database system.We have a page on literature here https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;reference&#x2F;literature, which includes the Cure paper http:&#x2F;&#x2F;ieeexplore.ieee.org&#x2F;document&#x2F;7536539&#x2F; on TCC+ and the highly available transactions paper https:&#x2F;&#x2F;dl.acm.org&#x2F;doi&#x2F;10.14778&#x2F;2732232.2732237Annette Bieniusa, Nuno Preguiça and Marc Shapiro from our team are authors of the Cure work (amongst many other things!).Re: rollbacks, our model is to provide finality of local-writes: https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;reference&#x2F;architecture#local-w... -- which means you don&#x27;t have to write rollback handlers. reply addisonj 2 hours agoprevCongrats on the launch and interesting project! I have a lot of questions :)* I am by no means a crdt expert, but from my tinkering I have come to the opinion that the upside of the consistency does come at the cost of ease of understanding how state ends up how it does, which can bleed into user facing issues if how a crdt converges conflicts with intuition. A lot of that seems like an education and design problem and I am curious how you are thinking of talking that? Do you plan on some support for server-first writes for situations where crdt might not fit?* from the docs it seems like adding electric to a table does a migration to add new columns &#x2F; new tables, I assume, to support the crdt, but my other knowledge of crdts is that it can be expensive in terms of size, especially for preserving history. I will have to poke at it to learn more, but I do wonder where you think you shouldn&#x27;t enable electric?* I am curious at the commercial model? Are you going full cloud service like Supabase&#x2F;neon? Or just host the elixir component?I will keep poking, but really really interesting! reply thruflo 1 hour agoparentHey, thanks :)We have a Discord if you fancy chatting at more length! https:&#x2F;&#x2F;discord.electric-sql.comRe: CRDTs and intuition, yup, there&#x27;s trade offs. We are working hard to deliver a solid model to code against. So we have finality of local writes and standard relational integrity guarantees. You can read a bit more about some of techniques here https:&#x2F;&#x2F;electric-sql.com&#x2F;blog&#x2F;2022&#x2F;05&#x2F;03&#x2F;introducing-rich-cr...Re: electrify yes, we create a shadow table and some operation log tables etc. So there is some storage amplification but it&#x27;s of the order of 2x (we use operational based CRDTs and we garbage collect the operation log). We see the fit being with standard OLTP workloads, mainstream relational apps. We don&#x27;t target high volume data ingestion, etc.Re: commercial model, we&#x27;re designed for open source self-host. We see Electric as a drop in sync layer, not as a full stack backend-as-a-service. Lots of options but concentrating on product for now. reply cpursley 54 minutes agoprevNeat, this is the pattern I&#x27;ve been thinking about for a while now. Also glad to see this is Elixir based and that Jose is involved.I&#x27;ve been using https:&#x2F;&#x2F;github.com&#x2F;cpursley&#x2F;walex (basically a fork of cainophile via a fork for subabase) to listen to Postgres changes in Elixir.Sequin is also doing some neat stuff in this space as well: https:&#x2F;&#x2F;blog.sequin.io&#x2F;all-the-ways-to-capture-changes-in-po... reply jtmarmon 30 minutes agoprevCongrats on the launch, looks like a great product.Out of curiosity - the demo on the site suggests the local first latency is like 10-40 ms. I would think reading&#x2F;writing to SQLite locally would be on the order of 1ms or less. Why is that? reply samwillis 21 minutes agoparentHey, I work for Electric,Quite right, the latency should be low single figure ms. There is actually a slight bug in how that latency is calculated on the demo and includes an extra render tick, I was digging into it earlier but didn&#x27;t get a chance to push a fix yet. reply mrgalaxy 1 hour agoprevWow, this is exactly what I&#x27;ve been searching for! I knew this was possible but am too busy trying to build web apps to spend time learning how to do stuff like this.I notice this is still a 0.X version. How comfortable are you with people using this in production? Are there any success stories so far? And if it&#x27;s not production ready, is there a roadmap I can check out?The company I work for is in the process of planning a complete rework of our app and right now is the time for us to choose technologies. I so very much want to use this or something like this. reply thruflo 56 minutes agoparentHey, very cool :)We don&#x27;t recommend production use right now. There&#x27;s a roadmap page here https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;reference&#x2F;roadmap -- we particularly need to flesh out shapes, permissions and validation.Happy to chat (e.g. on our Discord) if you&#x27;d like a bit more detail &#x2F; looking at whether Electric could fit into your tech pans. reply mrgalaxy 40 minutes agorootparentThanks for the roadmap, I should have just looked around the site a bit more, I would have found it.And, I may take you up on a chat after I&#x27;ve had a conversation with my team! At the very least, I&#x27;ve joined the Discord and I&#x27;ll definitely be following you guys closely. reply ochiba 47 minutes agoparentprev> I so very much want to use this or something like this.Since you mentioned this — you could also take a look at PowerSync which is similar (disclosure: co-founder) https:&#x2F;&#x2F;docs.powersync.co&#x2F; - Currently beta suitable for production use. reply mrgalaxy 44 minutes agorootparentYes, saw your other comment! ;) I will definitely be checking this out as well. I am so glad folks are finally creating real solutions in this space. reply alooPotato 3 hours agoprevCan you talk about the dataset sizes you support? Your example linear app has 112 rows, could you support 1000? 10K? 100k? 1M? reply ochiba 36 minutes agoparentRelevant — PowerSync [1] (similar to Electric; disclosure: co-founder) is currently designed to efficiently sync around 1M rows, or roughly 1GB of uncompressed data. More would be possible, but performance may degrade. In the future we plan on pushing it to handle larger data volumes.[1] https:&#x2F;&#x2F;docs.powersync.co&#x2F; reply samwillis 3 hours agoparentprevOP here, I work for Electric,Electric is designed to support partial sync, and so you don’t have to sync your whole dataset. (Note that this is feature is under development and not yet public)There are limitations on how much data a browser will store for an individual site, so the number of rows you can sync will depend on the shape of your dataset. Finally there are also some performance considerations with WASM SQLite, this is something the SQLite team are working on in collaboration with the browser developers, particularly with the development of the new OPFS apis which we plan to support as they mature.So, thousands of rows are definitely viable, and we have that working with our own internal development tests. Hundreds of thousands or millions may cause issues right now, but are something we do want to support. reply ochiba 34 minutes agorootparentWe wrote a bit about SQLite implementations and associated performance considerations for web here: https:&#x2F;&#x2F;www.powersync.co&#x2F;blog&#x2F;sqlite-persistence-on-the-web reply slashdev 2 hours agorootparentprevI wish they didn’t remove sqlite from browsers “because it’s not an open standard”. It was one very important thing in common between mobile and web, and now it’s clunky and slow on web when running over WASM. I don’t see how that was in any way good for users. reply tln 2 hours agorootparentYeah but SQLite doesn&#x27;t protect against unlimited CPU use and has historically had issues where \"malicious queries\" cause crashes -- not OK for a browser to surface to scripts.https:&#x2F;&#x2F;www.sqlite.org&#x2F;cves.html> Almost all CVEs written against SQLite require the ability to inject and run arbitrary SQL.> The advertised consequence of most CVEs is \"denial of service\", typically by causing a crash through a NULL pointer dereference or a division by zero, or similar.> But if an attacker can already run arbitrary SQL, they do not need a bug to cause a denial of service. There are plenty of perfectly legal and valid SQL statements that will consume unlimited CPU, memory, and disk I&#x2F;O in order to create a denial-of-service without requiring help from bugs.> Hence, the mere fact that an attacker has a way to inject and run arbitrary SQL is in and of itself a denial-of-service attack. That the arbitrary SQL might also tickle a bug in SQLite and cause a crash is not a new vulnerability. reply slashdev 2 hours agorootparentJavaScript can do that too. Web browsers defend against DoS attacks in the browser by popping up an alert asking if you want to kill the tab process or not. I don’t see why sqlite can’t be run under that model as well. replypdhborges 2 hours agoprevCongrats to the team. I think it is particularly impressive (and a bit scary) that DDL changes are also synchronized to the clients automatically! reply gregzo 49 minutes agoprevWe&#x27;ve been chatting with the ElectricSQL team for a few weeks, super responsive and open to adapting to our use case. We&#x27;re building an offline-first, mobile-first app and have high hopes for this project! reply pgt 1 hour agoprevUnrelated to Electric Clojure (https:&#x2F;&#x2F;electric.hyperfiddle.net&#x2F;) reply LocalPCGuy 37 minutes agoprevAny specific reason it wouldn&#x27;t work with Angular as well (noticed it was not listed in the Frontend frameworks section)? reply samwillis 27 minutes agoparentNot at all, it&#x27;s perfectly possible to use it with Angular. While we haven&#x27;t built any specific helpers for Angular, like we have for React, our TypeScript client is perfectly useable from any JS&#x2F;TS framework or project. reply jwells89 2 hours agoprevWill be keeping an eye on this. Are there plans for Swift&#x2F;Kotlin clients for native iOS&#x2F;Android apps? reply thruflo 1 hour agoparentHey, yup it&#x27;s definitely a medium term objective.The team at SkillDevs are maintaining a Daft&#x2F;Flutter client at https:&#x2F;&#x2F;github.com&#x2F;SkillDevs&#x2F;electric_dartPlus we have a thread to extract the core client-side replication component to Rust to be able to compile for multiple targets. reply CuriouslyC 1 hour agoprevPretty interesting, what&#x27;s the benefit of using a check expression rather than row level security? reply paulharter 19 minutes agoparentWe do row (and column) level security, the check expression provides an optional additional granularity for controlling which roles can make certain writes reply crubier 1 hour agoprevOh wow, I’ve been wanting this for a long time, to the point that I started making it myself.This is perfect to create super fast offline first apps like linear.app, with Postgres reply gunapologist99 57 minutes agoprevHow does this scale? For example, can you shard user DB&#x27;s across multiple PGSQL clusters? reply thruflo 52 minutes agoparentWe cover this a bit in the architecture page: https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;reference&#x2F;architectureBasically Electric is horizontally scalable. You can run multiple Electric sync services on top of Postgres and then obviously many clients connecting to the Electric. We&#x27;re focused on running on top of a single Postgres right now (which we take query load off). reply switz 3 hours agoprevThis has long been a dream data stack of mine. Best of luck. reply lucgagan 2 hours agoprevCan you delve a bit deeper into how WASM works? Specifically, how heavy is the WASM module? Also, is there a specific use-case you&#x27;ve seen where this shines particularly brightly? reply samwillis 1 hour agoparentHey, I work for Electric.The WASM module is just a standard build of SQLite, about 1.1mb - there are many landing pages 10x that size - and something that we think is easily justifiable for the types of apps that people can build with Electric.In terms of use cases, there are numerous, broad-ranging possibilities - anything from a replacement for GraphQL or a REST API in your existing stack, all the way up to building large collaborative apps. Our intention is that you can build collaborative tools similar to Linear, and we do actually have a demo of this sort of thing (http:&#x2F;&#x2F;linear-lite.electric-sql.com), but it’s certainly not limited to that. reply tantaman 1 hour agorootparentYou can get that size down to 600KB using brotli compression fwiw. Maybe even a bit smaller using Roy&#x27;s latest tricks that no longer require asyncify&#x27;d builds of SQLite. reply hinkley 3 hours agoprevI’m going to have to check this out.I still maintain that we need an interchange standard for write ahead logs, but tools like this are a step in the right direction.I would like to point out thought why you may be underselling this. Local-first yes, but that dynamic can also apply to edge-networked apps (at least before everyone started equating edge networking with Lambda). reply agg23 2 hours agoprevAre there plans for a true native driver (not JS)? That&#x27;s kind of a dealbreaker in the same groups that are looking for offline first. reply paulharter 1 hour agoparentThere will be other drivers. We are exploring ways to support a wide range of os&#x2F;platforms but this is a little way off, for now we are concentrating on the js client. reply 3523582908 3 hours agoprevI am extremely, extremely excited about this.I was wondering: what is the difference between VLCN and ElectricSQL?Thank you! reply thruflo 3 hours agoparentHey,James here, one of the co-founders of Electric.Both projects are doing active-active CRDT-based sync. Our focus is on sync via Postgres and on compatibility with existing Postgres-backed applications. So you can drop Electric onto an existing Postgres-backed system and it works with your existing data model.There&#x27;s also quite a lot of difference in the development model, how we handle migrations, shape-based partial replication, etc. And we&#x27;re not focused on p2p sync -- for us, everything goes through Postgres.Hope that helps -- you can read a bit more about the system design here: https:&#x2F;&#x2F;electric-sql.com&#x2F;docs&#x2F;reference&#x2F;architecture reply 3523582908 3 hours agorootparentThank you for the help! It is quite useful. Another question while I still have you:On the clientside, is SQLite running in a separate thread? Or is it running on the main thread? Is this the same or different for an electron app vs running in the browser? reply thruflo 2 hours agorootparentWith wa-sqlite in IndexedDB mode we&#x27;re main thread. In OPFS mode it&#x27;s a worker thread. With the mobile drivers you go over a native bridge.With Electron &#x2F; Tauri it&#x27;s the same as the browser. You&#x27;re running in Chromium &#x2F; native WebView on the front-end side. reply meiraleal 3 hours agoprevEletricSQL is very cool, congratulations and thanks for the work!I was thinking about using it for an app that I&#x27;m developing but decided to not ship a 2mb binary to every user.And that led me to discover that IndexedDB is actually quite interesting.Any plans to integrate EletricSQL with IndexedDB? reply thruflo 3 hours agoparentHey, thank you :)We currently use IndexedDB for the virtual filesystem underneath the wa-sqlite [1] WASM SQLite driver in the browser. But yup, that means a ~1.1MB WASM download.We&#x27;ll definitely stay with SQLite in the client. One of our key principles is full SQL support (any Postgres supported SQL on the server, any SQLite supported SQL on the client). So we won&#x27;t go pure IndexedDB without a database on top.There&#x27;s a lot of cool stuff going on with OPFS and WASM SQLite atm, so the technical options are evolving fast.[1] https:&#x2F;&#x2F;github.com&#x2F;rhashimoto&#x2F;wa-sqlite reply jsaramago 1 hour agoprevCongrats to the team reply nine_zeros 3 hours agoprev [–] Amazing! replyApplications are open for YC Winter 2024 GuidelinesFAQListsAPISecurityLegalApply to YCContact Search:",
    "originSummary": [
      "ElectricSQL is a new open-source synchronization layer designed to help developers create reactive, realtime, and offline-capable apps using Postgres.",
      "By utilizing a Conflict-free Replicated Data Type (CRDT)-based synchronization algorithm, ElectricSQL guarantees data consistency and facilitates bidirectional synchronization with SQLite databases.",
      "The team behind ElectricSQL, which includes CRDT inventors, offers various resources and demo applications for users to discover and learn."
    ],
    "commentSummary": [
      "ElectricSQL is an open-source sync layer facilitating two-way synchronization between Postgres and SQLite databases, aiding in the creation of reactive and real-time applications.",
      "The team behind ElectricSQL aims to extend its functionality by developing clients for native iOS and Android applications and intends to handle larger data volumes and support partial synchronization in future updates.",
      "ElectricSQL is distinguished from the VLCN project in its development model, handling of migration, and methods of replication."
    ],
    "points": 226,
    "commentCount": 66,
    "retryCount": 0,
    "time": 1695217615
  },
  {
    "id": 37575377,
    "title": "Circles do not exist",
    "originLink": "https://nibblestew.blogspot.com/2023/09/circles-do-not-exist.html",
    "originBody": "Nibble Stew A gathering of development thoughts of Jussi Pakkanen. Some of you may know him as the creator of the Meson build system. jpakkane at gmail dot com Tuesday, September 19, 2023 Circles do not exist Many logos, drawings and other graphical designs have the following shape in it. What is this shape? If you thought: \"Ah-ha! I'm smart and read the title of this blog post so I know that this is most definitely not a circle.\" Well it is. Specifically it is a raster image of a circle that I created with the Gimp just for this use. However almost every \"circle\" you can see in printed media (and most purely digital ones) are not, in fact, circles. Why is this? Since roughly the mid 80s all \"high quality\" print jobs have been done either in PostScript or, nowadays almost exclusively, in PDF. They use the same basic drawing model, which does not have a primitive for circles (or circle arcs). The only primitives they have are straight line segments, rectangles and Bézier curves. None of these can be used to express a circle accurately. You can only do an approximation of a circle but it is always slightly eccentric. The only way to create a proper circle is to have a raster image like the one above. Does this matter in the real world? For printing probably not. Almost nobody can tell the difference between a real circle and one that has been approximated with a Bézier curve with just four points. Furthermore, the human vision system is a bit weird and perfect circles look vertically elongated. You have to make them non-circular for people to consider them properly circular. But suppose you want to use one of these things: This is a laser cutter that takes its \"print job\" as a PDF file and uses its vector drawing commands to drive the cutting head. This means that it is impossible to use it to print a wheel. You'd need to attach the output to a lathe and sand it down to be round so it actually functions as a wheel rather than as a vibration source. Again one might ask whether this has any practical impact. For this case, again, probably not. But did you know that one of the cases PDF is being considered (and, based on Internet rumors, is already being used) is as an interchange format for CAD drawings? Now it suddenly starts mattering. If you have any component where getting a really accurate circle shape is vital (like pistons and their holes), suddenly all your components are slightly misshaped. Which would not be fun. Extra bonus information Even though it is impossible to construct a path that is perfectly circular, PDF does provide a way to draw a filled circle. Here is the relevant snippet from the PDF 2.0 spec, subsection 8.5.3.2: If a subpath is degenerate (consists of a single-point closed path or of two or more points at the same coordinates), the S operator shall paint it only if round line caps have been specified, producing a filled circle centred at the single point. Who is willing to put money on the line that every PDF rendering implementation actually uses circles rather than doing the simple thing of approximating it with Béziers? Posted by Jussi at 3:57 PM Email This BlogThis! Share to Twitter Share to Facebook Share to Pinterest No comments: Post a Comment Older Post Home Subscribe to: Post Comments (Atom) About Me Jussi View my complete profile Blog Archive ▼ 2023 (32) ▼ September (3) Circles do not exist A logo for CapyPDF CapyPDF 0.5 is out ► August (1) ► July (3) ► June (4) ► May (4) ► April (4) ► March (6) ► February (5) ► January (2) ► 2022 (34) ► 2021 (29) ► 2020 (42) ► 2019 (27) ► 2018 (24) ► 2017 (35) ► 2016 (20) ► 2015 (19) Simple theme. Powered by Blogger.",
    "commentLink": "https://news.ycombinator.com/item?id=37575377",
    "commentBody": "Circles do not existHacker NewspastloginCircles do not exist (nibblestew.blogspot.com) 219 points by ingve 21 hours ago| hidepastfavorite191 comments neilk 21 hours agoIf you use the standard way to approximate a circle with Bezier curves, it will differ from a true circle by about 0.03%.The human eye is not capable of seeing the difference, and, as the OP mentioned, most people can&#x27;t accurately eyeball a perfect circle anyway.This post shows the math behind that, and then shows that it could be made even better with a few different choices.https:&#x2F;&#x2F;spencermortensen.com&#x2F;articles&#x2F;bezier-circle&#x2F;P.S. of course, a display intended for the human eye has much looser tolerances than a gear or wheel. reply jprete 21 hours agoparentI think the OP is really just frustrated with the idea that CAD will use PDF and, in that application, 0.03% deviation can be too much. reply TheRealPomax 20 hours agorootparentif being off by 3 units on a 10,000 unit circle actually matters, you have stricter requirements than most industry bodies. If you&#x27;re fabricating parts that have tolerances measured in 1&#x2F;10th of a thou, the machines you use absolutely don&#x27;t ask for PDF, they ingest proper control code. reply shalmanese 13 hours agorootparentIt absolutely matters. The type of fit you get between a shaft and a hole differs on the order of 5 - 10 microns [1]. A micron is 0.01% of a cm so 0.03% can consume a large portion of your tolerance budget.For example, you can make a shaft that fits in a hole like a spring because it can slide freely but air can&#x27;t get out and you can shave a few microns off and it will sink into the hole at a controlled rate. This is all easily achievable in a home machine shop on a manual lathe. With Wire EDM, you can achieve even tighter tolerances and it would be perfectly possible to generate a part that could fit but could not spin because of the PDF error.[1] https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Interference_fit reply mrb 11 hours agorootparentIt doesn&#x27;t matter. The error is 0.03% only with one of the most simplistic approximations of 1 Bézier curve per quarter circle. Bump this to 2 or 4 curves, and the error drops to 4.0e-6 or 6.2e-8 (https:&#x2F;&#x2F;pomax.github.io&#x2F;bezierinfo&#x2F;#circles_cubic)You are going to have a really hard time finding an industrial application where a 6.2e-8 error matters.In fact, check this out: the Epilog Fusion M2 40 laser machine that the author chooses to picture as the problem instance can engrave a circle of at most 28-inch diameter, and has a resolution of 1200 dpi. Therefore two (gasp!) Bézier curves per quarter circle offers far more precision (4.0e-6) than this machine&#x27;s error (1&#x2F;1200&#x2F;28 = 3.0e-5).Edit: or take the world&#x27;s roundest object: a sphere made out of a single crystal of silicon-28 atoms, with a roundness delta of less than 50 nanometres over a 93.6 mm diameter (https:&#x2F;&#x2F;www.heason.com&#x2F;news-media&#x2F;technical-blog-archive&#x2F;wor...) This is an error of 5.3e-7. Four puny Bézier curves per quarter circle (6.2e-8) are more perfect than this sphere. reply shalmanese 10 hours agorootparentThat&#x27;s the answer to a different question. I was just pointing out that, in most industrial applications, 0.03% tolerances are rarely seen but in the specific question of circular dimensions, it&#x27;s a pretty common requirement.And while it&#x27;s possible to approximate with higher bezier curves, PDFs are auto generated with software libraries and it&#x27;s going to be non-trivial to dive into the guts of a library of a library of a library and tweak the logic for generating circles for this one specific type of application. reply mlyle 3 hours agorootparentWhen we&#x27;re talking about a CO2 laser, the errors from taper, variations in laser power, rigidity, trueness of optical path, etc, etc, far exceed 0.03%.If you want a circle that&#x27;s better than a 0.03% tolerance, odds are you&#x27;re not making it by tracing a circular path in g-code, but instead using something like a lathe.> And while it&#x27;s possible to approximate with higher bezier curves, PDFs are auto generated with software libraries and it&#x27;s going to be non-trivial to dive into the guts of a library of a library of a library and tweak the logic for generating circles for this one specific type of application.A lot of work on CO2 lasers you do with something like Coreldraw or Inkscape. You absolutely can pick the number of vertices with some slight work.Lasers are a bit weird in that most of their work is for signmaking. Most end-user use cases are closer to a printer than that of a typical CNC machine. Indeed, it can be annoying to take something from CAD to lasers that want PDF, because you can end up with things like the resultant PDF not joining lines together properly into one shape and the laser \"stopping\" on each vertex. You end up pretty carefully picking tools and processes for this flow. Ideally you figure out how to give the laser a dxf... reply TheRealPomax 1 hour agorootparentprevIn the category \"using your hammer to screw in a rivet\", you don&#x27;t machine a shaft with a laser-cutter. As you point out: you use a lathe.For \"circular\" work that you do use a laser cutter for, 0.03% tolerances are below the variance you get from the cutter itself. Expecting higher precision from the cutter that is somehow \"messed up\" by the deviation from the standard Bezier approximation of a circle, when the machine you&#x27;re using can&#x27;t give you that precision is using that proverbial hammer.Of course, if that&#x27;s really all you have access to (first of all: what are you even doing? look into buying a second hand lathe, or have everyone pitch in so your hobby space can buy one, they&#x27;ll set you back less than a thousand bucks) the laser cutting is step one, you&#x27;re not done after cutting, and you know you&#x27;re not done after cutting because you know laser cutters are not high-precision machining tools like lathes or mills. You cut slightly oversized, and then you clean up the part and machine it down to final dimensions until your micrometer says you&#x27;re within tolerance. reply firebat45 2 hours agorootparentprev>For example, you can make a shaft that fits in a hole like a spring because it can slide freely but air can&#x27;t get out and you can shave a few microns off and it will sink into the hole at a controlled rate. This is all easily achievable in a home machine shop on a manual lathe.I can tell from this statement that you do not have a home machine shop with a manual lathe. Home machine shops most certainly do ~not~ typically (or easily) achieve micron accuracy. reply phkahler 18 hours agorootparentprevControl code generated from a CAD model, not a .pdf.Al you need to fix this is use rational Beziers - same thing but with weighted control points.STEP files will remain the standard for CAD. reply akira2501 16 hours agorootparent> Al you need to fix this is use rational Beziers - same thing but with weighted control points.Then it is settled, we&#x27;ll use .TTF as our CAD interchange format. reply jrockway 16 hours agorootparentprevDoes STEP not have circles? Because g-code has G2 which seems like it should draw an actual circle (G2 X0 Y0 R100 or similar). reply yetihehe 11 hours agorootparentSTEP has circles and arcs. It&#x27;s only PDF that&#x27;s missing them. reply delta_p_delta_x 12 hours agorootparentprev> 1&#x2F;10th of a thouWhat is this unit? reply Kirby64 12 hours agorootparentThe standard industry term for a thousandth of an inch. Also called a mil.https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Thousandth_of_an_inchA 1&#x2F;10th of a thou is 1&#x2F;10000th of an inch, or 2.54 micrometers. It&#x27;s insanely small. reply delta_p_delta_x 12 hours agorootparent> a thousandth of an inch. Also called a milWhy, America... At that point, if it&#x27;s inventing new units to decimalise USC units, why not just use micrometres? reply compiler-guy 3 hours agorootparentBecause at the time of the invention and adoption of this term of this term in the late 1850s, the metric system didn’t have widespread adoption at all. The treaty of the meter wasn’t until 1875.So the metric system and decimalization of the inch are roughly contemporaneous and “just use this othe, also brand new system” isn’t an obvious choice at that point. reply delta_p_delta_x 1 hour agorootparentFair enough.I think the real question is... Why is such a unit still being used? I was under the impression that any serious ultra-precise CAD and machining was done in milli, micro, and nanometres. I thought pretty much any serious science or engineering had been metricated...But then again I shouldn&#x27;t be surprised; Americans measure the volume of lakes in &#x27;acre-feet&#x27;... reply hanche 11 hours agorootparentprevOr they could stick with binary and introduce a name for 1&#x2F;1024th of an inch. Borrow a meme from the “almost SI” prefixes kibi, mebi, gibi etc., and call it a mibi, perhaps? ;-) reply flangola7 11 hours agorootparentWhat the hell are kibi and gibi? reply delta_p_delta_x 10 hours agorootparentThey are IEC prefixes, complementary to the SI prefixes, and they only are defined for positive exponents. kibi : ki : 2^10 mebi : Mi : 2^20 gibi : Gi : 2^30 tebi : Ti : 2^40 ...Conveniently, these numbers are fairly close to 10^3, 10^6, 10^9, and 10^12 respectively (but with increasing error: 2^40 is almost 10% larger than 10^12, whereas 2^10 is only 2.4% larger than 10^3).This leads to a lot of conflation, mess, and misreporting by vendors and OS authors. Windows is an egregious example. A 1 TB (terabyte, 10^12) disk is reported in Windows as 931.7 GB. It ought to be 931.7 GiB, which is what Linux does. macOS uses the correct number but SI prefixes, so 1 TB is reported as 1 TB. reply edgineer 6 hours agorootparentWait, does MacOS report file sizes in base 10 as well, or just disks? reply delta_p_delta_x 1 hour agorootparentFile sizes too. reply hanche 10 hours agorootparentprevKibibyte: 1024 bytes. Gibibyte: 2^30 or 1,073,741,824 bytes. The -bi suffix is intended to signify “binary”. reply colanderman 7 hours agorootparentprevElectronics manufacturing uses both with about equal frequency, often without unit names attached, and it&#x27;s confusing as all hell, at least as a hobbyist. E.g. a 0603 footprint can mean 0.6×0.3 mm or 60×30 mils.https:&#x2F;&#x2F;eepower.com&#x2F;resistor-guide&#x2F;resistor-standards-and-co... reply firebat45 2 hours agorootparentprevI mean, a \"thousandth\" of an inch is also a decimalised USC unit.Don&#x27;t try to logic how Americans measure things. replyklysm 20 hours agorootparentprevUsing a PDF where 0.03% matters is insane no? reply anamexis 19 hours agorootparentYes, that&#x27;s the point.1. PDF is to become a standard CAD interchange format.2. Using PDF where 0.03% matters is insane.3. If CAD requires 0.03% tolerance, then using PDF as a standard CAD interchange format is insane.I would imagine you generally want arbitrary precision for CAD. reply Nevermark 18 hours agorootparentAbsolutely!I cannot imagine a CAD system that can&#x27;t symbolically represent what is actually desired. The model and its spec should be one and the same.Approximations also open the door to different precision versions. Not helpful when different parts from different sources need to be consistent.Models that approximate&#x2F;vary from the ideal spec, created intentionally to match manufacturing limitations, are ok. reply wombatpm 16 hours agorootparentDrawings for parts should have tolerances called out. I did mechanical inspection for a manufacturer for several summers. Every dimension had a plus&#x2F;minus value listed. Holes and screw threads had go&#x2F;no-go gauges reply microtherion 7 hours agorootparentprevBut is PDF really the standard CAD format for communicating with machines?For laser cutting, I prefer to use SVG, as it&#x27;s easier to generate. I had not really thought about precision, but SVG can represent circles directly. reply Aardwolf 11 hours agorootparentprevBut could the CAD use more than 4 control points to approximate the circle better? reply maxerickson 16 hours agorootparentprevSeems like the real actual data would just be embedded inside the pdf.Hopefully anyway. reply laserbeam 12 hours agorootparentI don&#x27;t think you can represent arbitrary data in a pdf AND have pdf viewers actually render it. If the pdf format screws precision (and I&#x27;m not surprised it does, it screws paragraphs and often only contains metadata to reconstruct lines of text), it should not be used as a data interchange format.Pdf is for print and human eyeballs. It&#x27;s brilliant for those 2 things and not much else. reply maxerickson 6 hours agorootparentIf I was dead set on using pdf as an interchange format, I&#x27;d make the standard that the pdf content was a drawing of the data and then also embed a better representation of the data. So a well formed file can be previewed with any pdf reader, but no problems with data quality when you go to use it for something.Of course the drawing could then be out of step with the data, but so what. reply layer8 7 hours agorootparentprev> I don&#x27;t think you can represent arbitrary data in a pdf AND have pdf viewers actually render it.You can have both in parallel, and have the editing software regenerate the rendered form from the source data form when anything changes. It’s not completely uncommon to use PDFs as a data carrier that way. reply nine_k 20 hours agoparentprevIf a Bézier-based circles with four nodes are too rough, I suppose a circle with 16 or 24 or 128 nodes can be made smooth enough to exceed the laser cutter&#x27;s margin of error.If you want to produce a highly regular circle in Inkscape, draw a polygon with many nodes (say, 24), convert it to path, then make all nodes smooth and symmetric. reply raphlinus 19 hours agorootparentThe actual formula is O(n^6) scaling, and for circles it&#x27;s very easy to achieve that. So a circle divided into 16ths has 4096 times less error than one in quarters and one made of 128 nodes is a (binary) billion times better.This is true for curve fitting of arbitrary curves, not just circles, though arbitrary curve fitting is a bit tricky (it requires solving quartic equations). I personally think you can take this as evidence that cubic Béziers are \"good enough\" for all practical tasks requiring curve representation, though for specific applications there might be other representations that work better. reply hwayne 18 hours agorootparentprevOr just use the ellipse (E) in Inkscape, set the start&#x2F;end to 0, and hold down ctrl. Then inkscape will generate a `` svg element. reply oniony 18 hours agorootparentBut the SVG in Inkscape is not a PDF on a machine that accepts PDF CAD drawings.When you print to PDF, the circle will have to be approximated, which is what the article is talking about. reply hwayne 16 hours agorootparentThe article was about postscript, but the comment I was replying to was about how to approximate a circle in Inkscape, so I suggested a better approach. reply itishappy 20 hours agorootparentprevLike floating point errors, the representation can (in theory) be as precise as we like but that&#x27;s not something most users are willing&#x2F;able to adjust. reply robocat 19 hours agoparentprev> most people can&#x27;t accurately eyeball a perfect circle anyway.https:&#x2F;&#x2F;lessonstream.com&#x2F;the-story-of-mr-os-circle&#x2F; reply wnoise 17 hours agoparentprevThe first \"better\" approximation, while having a better \"max distance\" (0.019608% vs 0.027253%), has a _worse_ span between min and max (0.039216% vs 0.027253%), which probably matters for some applications. reply karaterobot 18 hours agoprev> The only way to create a proper circle is to have a raster image like the one above.The raster image won&#x27;t be a circle, it&#x27;ll be a circle projected onto a square or rectangular grid. But, just like with the Bezier curves, nobody will notice. I remember the first week of Geometry, they told us that the drawings of squares and circles and whatnot printed in the textbook are not intended to be accurate, so don&#x27;t bother measuring them to get the answer. The circle represents a circle, it is not a circle.Wait til I tell you about this painting of a French pipe I saw one time. reply TeMPOraL 10 hours agoparent> I remember the first week of Geometry, they told us that the drawings of squares and circles and whatnot printed in the textbook are not intended to be accurate, so don&#x27;t bother measuring them to get the answer.I considered, and to this day consider, inaccurate figures in textbooks to be sloppy job by lazy people. Sure, measuring the solution off a drawing is (in math classes) missing the point of the exercise, but at the same time, humans process knowledge holistically, so inaccurate drawings will interfere with gaining an intuitive understanding of a problem space.I mean, if you were using software to chart some data you want to \"get a feel for\", would you be fine with software introducing arbitrary errors just because \"Ceci n&#x27;est pas une pipe\" or whatever? reply ElectricalUnion 9 minutes agorootparent> inaccurate figures in textbooksSometimes it&#x27;s not about being accurate, sometimes it&#x27;s about the figures in the textbook representing unrepresentable, impossible situations on whatever geometry you&#x27;re operating on. say euclidean geometry. Casual things like triangles where the sum of internal angles doesn&#x27;t match π. Triangles where the sum of length of the two smaller sides is larger that the larger side.Being able to reason about what are supposed to be the constraints of a otherwise impossible system is valuable in itself. reply ilove_banh_mi 11 hours agoparentprevwhat if someone told you the painting&#x27;s subject matter is not a Belgian pipe reply armoredkitten 2 hours agorootparentClarifying that the non-pipe is a Belgian non-pipe and not a French non-pipe reminds me of the joke with Sartre:Jean-Paul Sartre was sitting in a cafe when a waitress approached him: \"Can I get you something to drink, Monsieur Sartre?\" Sartre replied, \"Yes, I&#x27;d like a cup of coffee with sugar, but no cream\". The waitress left, but returned a few minutes later and said, \"I&#x27;m sorry, Monsieur Sartre, we are all out of cream -- how about with no milk?\" reply gerdesj 18 hours agoparentprevCeci n&#x27;est ... perhaps?There was a Greek bloke who had a thing about perfection and geometry. Eclad or something similar (OK: Euclid).At what point does the perfect approach reality or vice versa?The pipe in question might not be French - the painting was painted by a French person but you cannot imply the country of the pipe itself on that basis without additional evidence! reply bombcar 17 hours agorootparentEuclid with diagrams is modernism! The original texts didn’t have them. reply Animats 21 hours agoprevPDF for CAD is silly. The problem is that laser cutters tend to take 2D vector image data as input, rather than G-Code like real CNC machines. You can definitely express a circular path in G-Code, and you expect a milling machine to cut one accurate to the precision of the mechanical parts of the machine. But laser cutter software is to some extent derived from printer technology. You can raster scan a picture onto a surface with a laser cutter. reply mitthrowaway2 20 hours agoparentAgreed. PDF for CAD has its place, but its place is shop drawings read by humans, not as a machine interchange format. Many laser cutters will accept other vector formats, like DXF, which do have precise representation for circles. reply crote 19 hours agoparentprevDXF seems to be reasonably common for laser cutters. It at least supports arcs!I don&#x27;t think many laser cutters use raster scanning, though. That&#x27;s going to leave some really nasty artifacts. You really want to cut continuous lines like, well, lines. reply Animats 19 hours agorootparentLaser engraving is usually raster scan, and most laser cutters can do both line cutting and raster scanning. reply jmwilson 17 hours agoprevI ran into this when trying to make a vector version of the Smith chart [1] - which has a lot of circles. It turns out the inaccuracy from a 4-segment Bezier \"circle\" is significant when you need precisely intersecting arcs at the scale of a full letter&#x2F;A4 page [2][3]. Ultimately, you can just increase the number of Bezier segments and make the error arbitrarily small; doubling to 8 segments was enough to eliminate the error on the chart even at extreme magnification.[1] https:&#x2F;&#x2F;www.penpapernomographic.com&#x2F;pdf&#x2F;smith-chart.pdf[2] https:&#x2F;&#x2F;github.com&#x2F;pgf-tikz&#x2F;pgf&#x2F;issues&#x2F;817[3] https:&#x2F;&#x2F;camo.githubusercontent.com&#x2F;0cc44db2e367356629d897c10... reply NegativeK 21 hours agoprev> This is a laser cutter that takes its \"print jobs\" as a PDF file and uses its vector drawing commands to drive the cutting head. This means that it is impossible to use it to print a wheel. You&#x27;d need to attach the output to a lathe and sand it down to be round so it actually functions as a wheel rather than as a vibration source.Respectfully, I don&#x27;t think you&#x27;re limited by the PDF format if you&#x27;re talking about a laser cutter. And... Circular motion doesn&#x27;t spring forth naturally from gantry CNC laser cutters -- they&#x27;re rectilinear in design. It&#x27;s circles not existing all the way down.Using it as a CAD format with inherent fundamental shapes missing seems kind of funny, though. reply itishappy 20 hours agoparentEpilog claims (up to) 1200dpi resolution. Another comment mentioned the \"standard bezier curve representation\" is accurate to 0.03%. This means errors should start being observable with a circle as small as 3in. These are probably wildly optimistic assumptions, but it&#x27;s still 10x smaller than the bed of their largest unit, and there&#x27;s nothing to stop people from creating arcs of circles with radii even bigger than that! reply mlyle 3 hours agorootparentThe 1200DPI resolution is for engraving using rasterization, so, not really the same thing.When you&#x27;re cutting things on a laser, there&#x27;s myriad sources of error. Odds are the optical path isn&#x27;t completely square, so there&#x27;s some cross coupling between axes. There&#x27;s drive belts. The laser is often pulsed. There&#x27;s taper. reply photonerd 19 hours agorootparentprevObservable is pushing it. Technically observable, sure, but ~1dpi misplaced is… unlikely to be noticeable.Plus, if that level of accuracy is required simply adding more nodes improves accuracy exponentially.Not least, the “standard” approximation really should be updated in software, as modern 4-node approximations are down to 0.005%, almost an order of magnitude better. reply itishappy 19 hours agorootparentOh, I completely agree! \"Observable\" is pushing the limits of the word past absurdity. 1200dpi would put the resolution of the system at just twice the wavelength of their laser. I feel like that&#x27;s about the limit of what&#x27;s possible due to physics [citation needed]. I&#x27;m fairly confident their actual performance is less. reply ars 19 hours agorootparentprevIf you are misplaced by 1dpi, then your \"1200 dpi\" is actually 600 dpi.If you got a machine that&#x27;s accurate to 1200 dpi presumably you want 1200 dpi and not 600. reply versteegen 17 hours agorootparentprev> simply adding more nodes improves accuracy exponentiallyAccording to another comment, it actually improves at O(n^6). reply amluto 18 hours agorootparentprevLast time I used one, Epilog’s software was pretty terrible. It seemed to designed around a workflow in which you either design your cuts in CorelDraw and then print to a Windows print driver.I sincerely hope that the upcoming Windows third-party print driver deprecation kills this.(Also, what’s wrong with them? Even ignoring cost, I would rather have a Chinese printer that had a publicly known control interface and supported Lightburn than a “nice” American laser printer that was only operable with bad proprietary software.) reply waffletower 20 hours agoprevI thought the article would go further and posit that Circles do not exist in reality as they are approximations of a mathematical ideal. But the author does present the raster image as a bonafide circle, rather than the approximation that it truly is -- more resolved than others or not. A zoomed in excerpt of the author&#x27;s rasterized circle approximation clearly shows that scale is key in perception of reified ideals: https:&#x2F;&#x2F;ibb.co&#x2F;P1KwLDm reply A_D_E_P_T 18 hours agoparentThat&#x27;s true in a sense, but you&#x27;ve got to go way down. At a fine enough level --- say, at the level of atoms --- all material things are granular, and circular or spherical things are built stepwise from material building blocks, as though from pixels. Thus even very \"smooth\" things are rough and granular.Further: There are no circular (2D) molecules; nature prefers hexagons and other polygons for that. Even the proton isn&#x27;t perfectly spherical. Whether the electron and other subatomic particles are perfectly spherical cannot, as yet, be determined. (The electron seemingly has a diameter far below the Planck Length.)There are no very large circles or spheres, either. All astronomical bodies are somewhat flattened.So I dare say perfect circles and spheres do not really exist, save as idealized mathematical objects. reply reilly3000 18 hours agorootparentI wouldn’t have believed you until I started looking into how spheres are made with various materials. All of them require immense amounts of iterations from rough cutting to polishing. Generally they are formed by reducing from a larger piece of material, sometimes inflated. It is never a cheap process to make a sphere and against nature is to achieve it. In the collection of gravities the earth and its inhabitants are subject to, straight lines are rare. A perfect sphere demands infinite straight lines of equal length from one point in space and for those to persist over time. A tall order for mere matter. Buckyballs are good enough for me. reply TeMPOraL 10 hours agorootparentBut isn&#x27;t the nature of attractive forces, like gravity, to squish everything into perfect spheres? The matter wants to resist, but that&#x27;s another topic. The main issue is that pesky rotation - angular momentum is a blemish on the otherwise perfect equations of the cosmos. reply doctor_phil 10 hours agorootparentprev>The electron seemingly has a diameter far below the Planck LengthAccording to what? We have nothing that can measure anything close to that. The standard model doesn&#x27;t predict any radius on the electron, just defining it as point-like.> Whether the electron and other subatomic particles are perfectly spherical cannot, as yet, be determined.How can we ever determine something to be perfectly spherical? Any measurement comes with finite precision, and maybe the thing is actually not a sphere if we measured with more precision?All measurements we have done on the electric dipole moment of the electron suggests that it could be zero. (The standard model predicts it to be non-zero, but very very very small.) This suggests that the charge distribution of the electron is spherical (or very very very close to). reply Jerrrry 12 hours agorootparentprevLarge black holes are the most spherical things in the relative sense, not in an absolute sense; although more so than pico-black holes, which are not very spherical.Light cones&#x2F;the 4d-radii of causality are* perfectly spherical. reply doctor_phil 10 hours agorootparentHow big a factor is the rotation of the black hole? Maybe look for a large black hole not rotating too much if you want to be sure. :-) reply kbelder 12 hours agorootparentprevAren&#x27;t they warped by the curvature of space&#x2F;time that they are spreading over? reply crtified 16 hours agorootparentprevIs similar not also true of Lines, and Points?That is: every real, non-theoretical Point must have a size, a resolution; and every non-theoretical straight Line is surely not a true straight line if we zoom far enough down into sub-atomics. reply thehappypm 15 hours agorootparentprevWhat about orbits? reply defrost 14 hours agorootparentWhat, precessing ellipses with major and minor axes?What about them? reply pkulak 19 hours agoparentprevThat statement is just one of a million in the \"calculus does not exist\" realm, and is not nearly as interesting as this article was.EDIT: apologies for the tone; came off very snide on second read. reply waffletower 19 hours agorootparentI don&#x27;t think the statement attempted to invalidate the article, there are many gems inside, such as the idea that human perception elongates the vertical axis, etc. reply namru1620 19 hours agorootparentYou wouldn&#x27;t happen to have a link handy about that vertical axis perception thing would you, I l&#x27;m super curious about it. reply waffletower 14 hours agorootparentI haven&#x27;t been able to find anything corroborating the claim. But I, perhaps gullibly, shared the perception. Did find this somewhat related white paper during my short search: https:&#x2F;&#x2F;www.sciencedirect.com&#x2F;science&#x2F;article&#x2F;pii&#x2F;S004269890... replycodexb 20 hours agoprevAs someone who&#x27;s spent a decent amount of time writing \"output to pdf\" routines, I would never in a million years choose pdf as an interchange format for anything at all. reply dagw 9 hours agoparentPDF&#x2F;A is the required format for delivering and archiving the final CAD drawings in many major civil engineering projects I&#x27;ve been involved in, reply bee_rider 20 hours agoparentprevUnfortunately PDF is, like, one of the most reassuring file formats.https:&#x2F;&#x2F;xkcd.com&#x2F;1301&#x2F;What would you put at the top?.PS is pretty fancy, although, just because it is probably saying “this is basically a PDF but from the olden days.” reply swores 20 hours agorootparentThat comic is about what file types people choose to put what types of information (e.g. PDFs don&#x27;t often get used for memes, and gifs don&#x27;t often get used for scientific research papers). It&#x27;s not even trying to make a point about the quality of the file formats themselves.(I assume when you wrote \"most reassuring\" you were instead interpreting it as a comic about the file types&#x27; ability to accurately hold the information a user wants them to hold, because \"reassuring\" as pertains to the comic&#x27;s actual meaning would be completely irrelevant to this topic of whether or not PDF makes a good interchange format.) reply rustyminnow 19 hours agorootparentprevYeah but that chart is saved as a PNG which is like, pretty low on the scale. I don&#x27;t think we can trust anything on there. reply notatoad 19 hours agorootparentprevi think that comic is from an earlier time when making PDFs was harder. reply susam 19 hours agoprevThe first programming language I learnt to program in was Logo, namely IBM&#x2F;LCSI PC Logo. It too did not have any command to draw curves or circles. However, we were taught to draw a \"circle\" using code like this: REPEAT 360 [FD 1 RT 1]But alas, circles did not exist! It is easy to realise that the above code does not attempt to draw a circle. These instructions specify a triacosiahexeacontagon instead.Screenshot: https:&#x2F;&#x2F;susam.net&#x2F;blog&#x2F;fd-100.html#circles reply ks2048 18 hours agoprevArticle says “Furthermore, the human vision system is a bit weird and perfect circles look vertically elongated. You have to make them non-circular for people to consider them properly circular.”Anyone have a reference for this? reply CBLT 18 hours agoparenthttps:&#x2F;&#x2F;www.piotrlukaszkiewicz.pl&#x2F;05_vertical-horizontal&#x2F;?la...From reading this, the error with circles appears to be\"This is why you&#x27;re taking less field work? Because you&#x27;re reading &#x27;On Circles, Volume 12&#x27;?\"> \"I wrote it.\"> \"Unsurprising.\"> \"I have to rewrite it. All twelve volumes [...] our physics framework was completely wrong!\"> \"Even about, like, circles?\"> Ikora turns to look Chalco in the eye. \"Especially about circles.\"[0] https:&#x2F;&#x2F;www.ishtar-collective.net&#x2F;entries&#x2F;vesper-of-radius reply syspec 20 hours agoprev> Furthermore, the human vision system is a bit weird and perfect circles look vertically elongated. You have to make them non-circular for people to consider them properly circular.Does any one have a link to a perfect circle, I&#x27;d love to see if it has the proposed effect on me. reply ks2048 18 hours agoparentYeah, I don&#x27;t know what effect he is talking about here. SVG haswhich I would assume is normally rasterized to pixel-level accuracy (as opposed to approximated with beziers), so there are lots of \"perfect\" circles to be found. https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;SVG&#x2F;Element&#x2F;cir... reply titzer 20 hours agoparentprevLook at a coffee cup. reply TeMPOraL 9 hours agorootparentHow can I distinguish between errors of perception, errors in manufacturing, and errors of perception of the designer who eyeballed circles on a computer screen with non-square pixels? reply InitialLastName 3 hours agorootparentWith a coffee cup, you should be able to take a micrometer (or a piece of string) and verify roundness of the base object to whatever arbitrary precision your heart desires (and your reality will allow). reply nick-of-time 19 hours agoprevI recommend anyone who finds this topic interesting watch the video The Continuity of Splines. It&#x27;s a detailed discussion of how you derive Bèzier and higher-order curves to serve your purposes.https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=jvPPXbo87ds reply Puts 21 hours agoprev\"The only primitives they have are straight line segments, rectangles and Bézier curves. The only way to create a proper circle is to have a raster image like the one above.\"Is this really an accurate conclusion? Just because there are no primitives for a circle – postscript is still a programming language so you can also plot a proper circle with trigonometry? reply CharlesW 21 hours agoparent> Just because there are no primitives for a circle…Is a 360° arc not a circle? %!PS &#x2F;newpath 100 100 50 0 360 arc stroke showpage reply ks2048 18 hours agorootparentIf I put that through ps2pdf and remove compression, I can see: stream q 0.1 0 0 0.1 0 0 cm &#x2F;R7 gs 10 w 0 G 1500 1000 m 1500 1276.14 1276.14 1500 1000 1500 c 723.859 1500 500 1276.14 500 1000 c 500 723.859 723.859 500 1000 500 c 1276.14 500 1500 723.859 1500 1000 c S Q endstreami.e PDF has no arc command, it was converted to \"c\" bezier curves. reply CharlesW 18 hours agorootparentThat appears to be a rendering&#x2F;conversion artifact since PDF also supports 360° arcs. My question is, mathematically, is a 360° arc not a circle? (I understand that once a circle is rendered or physically manifested, it&#x27;s an approximation.) reply ks2048 18 hours agorootparentDo have a reference for PDF supporting circular arcs? I&#x27;m looking at the PDF reference manual and do not see it under list of path construction operators. reply CharlesW 17 hours agorootparent> Do have a reference for PDF supporting circular arcs?No, I could&#x27;ve sworn PDFs supported arcs but I was wrong. :) So when rendering&#x2F;converting PostScript to PDF, circles&#x2F;360° arcs must be converted to béziers. reply Puts 21 hours agorootparentprevYes, but as someone else commented the arc is internally based on bézier curves. How accurate thee circle would be by plotting is probably dependent on the trigonometric table built in to the postscript interpreter, but at least it would be mathematically possible to make an accurate circle where it&#x27;s actually not even possible to express a perfect circle with bézier curves. reply retrocryptid 20 hours agorootparentIn theory you could, when you were converting from PS to G-Code NOT emulate the arc with bezier curves, but convert them into g-code circles. This would likely cause the laser cutter to cut something that looked SLIGHTLY different than the rendered PDF. But anyone who&#x27;s worked in the field long enough knows that WYSIWYG is a lie (albeit a very useful lie.) reply Puts 20 hours agorootparentDon&#x27;t get me wrong. I&#x27;m not questioning the usefulness of béziers. I&#x27;m questioning the authors notion that postscript inherently is incapable of expressing accurate circles just because the language don&#x27;t have built in primitives for them. :) reply masfuerte 19 hours agoparentprevI was under the impression that the postscript in a pdf isn&#x27;t a programming language. It is pre-executed so that only drawing primitives remain. But I could be wrong. reply kevin_thibedeau 18 hours agorootparentNowadays PDF has JavaScript so sky&#x27;s the limit. reply Pxtl 21 hours agoparentprevAlso, I&#x27;d wager that you could get something closer to a circle with a naive bezier implementation than with a naive raster implementation, as long as you were willing to spend as much resources on storing curve nodes as you would on raster data. I mean, it&#x27;s not like a rastered circle would make a good wheel either considering that technically every line on it is orthogonal. reply johnnyworker 19 hours agoprevSorry for not just quoting the bit about the straight line not existing in nature, but I could not bring myself to reduce it all to just that. In 1952 I spoke of the civilization of make-believe, the one we must shake off, myself, the the first of all! I spoke of columns of gray men on the march toward sterility and self-destruction. The same year I used the term \"transautomation\" to show the way beyond the rationalism of technocrats toward a new creation in harmony with the laws of nature. In 1953 I realized that the straight line leads to the downfall of mankind. But the straight line has become an absolute tyranny. The straight line is something cowardly drawn with a rule, without thought or feeling; it is a line which does not exist in nature. And that the line is the rotten foundation of our doomed civilization. Even if there are certain places where it is recognized that this line is rapidly leading to perdition, its course continues to be plotted. The straight line is the only sterile line, the only line which does not suit man as the image of God. The straight line is the forbidden fruit. The straight line is the curse of our civilization. Any design undertaken with the straight line will be stillborn. Today we are witnessing the triumph of rationalist knowhow and yet, at the same time, we find ourselves confronted with emptiness. An aesthetic void, desert of uniformity, criminal sterility, loss of creative power. Even creativity is prefabricated. We have become impotent. We are no longer able to create. That is our real illiteracy.- Friedensreich Hundertwasser, \"Mouldiness Manifesto: Against rationalism in architecture\"https:&#x2F;&#x2F;www.sfu.ca&#x2F;~andrewf&#x2F;MOULDINESS_MANIFESTO.htm reply accrual 21 hours agoprevThat&#x27;s pretty interesting. I&#x27;ll now be doubting every circle I walk by, questioning if it&#x27;s even real or just some approximation. reply BillinghamJ 21 hours agoparentPerfect shapes do not exist on a physical level, so they&#x27;re all approximationshttps:&#x2F;&#x2F;factmyth.com&#x2F;factoids&#x2F;there-are-no-straight-lines-or... reply akira2501 16 hours agorootparentWhich is why I could never truly appreciate calculus. reply goatlover 19 hours agorootparentprevWhat about black holes? Do non-rotating ones create perfect spheres? reply shthed 13 hours agorootparentHave we ever seen a non rotating galaxy or star system? reply nerdponx 20 hours agoparentprevCircles also don&#x27;t exist in the core geospatial data library GEOS. You have to approximate them with a polygon that has a lot of vertices. reply carrozo 19 hours agoprevNot really related to the article but this reminded me of a beautiful quote I’ve had in my notes for many years:\"To travel a circle is to journey over the same ground time and time again. To travel a circle wisely is to journey over the same ground as it is for the first time. In this way, the ordinary becomes extraordinary, and the circle, a path to where you wish to be. And when you notice at last that the path has circled back into itself, you realize that where you wish to be is where you have already been ... and always were.\" reply jskherman 6 hours agoprevOn a tangential note, TIL there&#x27;s a field of mathematics called \"digital topological groups\": https:&#x2F;&#x2F;doi.org&#x2F;10.1016&#x2F;j.topol.2023.108644 reply wizofaus 21 hours agoprevDoesn&#x27;t PS have \"arc\"? reply fooofw 21 hours agoparentI was curious, so I looked up arc in the PostScript Language Reference [1]. It contains the following (p. 530):> The arc is represented internally by one or more cubic Bézier curves (see curveto) approximating the required shape. This is done with sufficient accuracy to produce a faithful rendition of the required arc. However, a program that reads the constructed path using pathforall will encounter curveto segments where arcs were specified originally.[1] https:&#x2F;&#x2F;www.adobe.com&#x2F;jp&#x2F;print&#x2F;postscript&#x2F;pdfs&#x2F;PLRM.pdf reply CharlesW 21 hours agorootparent> The arc is represented internally by one or more cubic Bézier curves…But that&#x27;s a rendering implementation detail, no? Isn&#x27;t the precision and accuracy of any digital or physical manifestation of a circle limited by implementation details and physics? reply Sharlin 20 hours agorootparentYes, but as the article notes, there are applications where you need a circle way more precise than one approximated by just a few Bezier curves. Although you could argue that any finite precision can be achieved by simply using more Bezier curves. reply fooofw 21 hours agorootparentprevYes, I agree completely. reply pfdietz 20 hours agoprevI was expecting this to be another \"They have played us for absolute fools\" meme. reply b800h 21 hours agoprevThis surprisingly less philosophical than I was expecting. There is no such thing as a perfect circle, it&#x27;s a platonic ideal and lives in the Nous. reply lo_zamoyski 16 hours agoparentThat we can conceive of mathematical ideals like perfect circles that are never actually realized or encountered in the concrete, physical world (even if it is the case that they are possible in principle, in practice we arguably never encounter such things) suggests something very interesting about the nature of the human intellect.And, in fact, even if they did exist physically, the very fact that the concept or predicate of Circularity exists in the intellect (and this concept must be Circularity as such or else we could not speak of circular things) and applies to many things despite their diversity, also suggests something about the intellect, namely, that it is not physical, as the physical is always concrete, instantiated, singular, this-and-not-that, not ideal. reply diogenes4 20 hours agoparentprevDepends on your definition of existence, i suppose, which greek ontology is notoriously bad at tackling. reply lo_zamoyski 17 hours agorootparentGreek, yes (owning to their paganism, which had trouble dealing with existence; it is not possible to conceptualize existence), but we see very deep insights in the medieval period, most notably in Thomas Aquinas. In the 20th century, we saw a particular brand of Thomism called existential Thomism that emphasized and expounded on Thomas&#x27; understanding of existence to help better appreciate it.But I am not certain that is your criticism, or that this applies here? Platonism posits a third realm of ideas, one which Aristotle denies and attacks (and which Plato acknowledged), instead locating universals in things and in the intellect that grasps them. However, you can restore a kind of realm of ideas by interpreting it as (the mind of) God. So, universals exist in all three cases, though the manner in which they exist varies (e.g., in things as concrete instantiations, vs. in the human intellect as concepts abstracted from the concrete). reply NegativeLatency 20 hours agoparentprevEspecially if space is quantized reply Karellen 20 hours agorootparentEven if space isn&#x27;t quantized, matter is. reply retrocryptid 20 hours agoparentprevI think the point of Plato&#x27;s endless yammering wasn&#x27;t that they don&#x27;t exist, but that you can&#x27;t prove they exist and no one seems to have found one. reply lo_zamoyski 17 hours agorootparentI would suggest more respect for Plato, frankly.But I don&#x27;t think that is right. He argued that matter existed in a relation of participation in the forms, that making such things like shadows or approximations of ideas. Aristotle deployed the third man argument to attack this notion. Plato conceded his view was problematic. reply goatlover 19 hours agorootparentprevI thought his point was that the forms are memories of the divine because the material world does not provide such forms. You leave the cave when you stop being dominated by your senses and use your reason to apprehend universals. reply carlosjobim 20 hours agoparentprev> There is no such thing as a perfect circleA spinning movement has to be a perfect circle, no? reply fanf2 14 hours agoprevI have a copy of the Postscript language reference manual from 1985, and it has an `arcto` operator for drawing proper circles. You can see it in the PLRM 3rd ed. on page 191 https:&#x2F;&#x2F;www.adobe.com&#x2F;jp&#x2F;print&#x2F;postscript&#x2F;pdfs&#x2F;PLRM.pdf reply thot_experiment 17 hours agoprevCorrect me if I&#x27;m wrong but PDF (and SVG for that matter) have a circle&#x2F;arc primitives that can be translated G02&#x2F;G03 commands when fed to a laser cutter&#x2F;plotter&#x2F;CNC? reply proto_codex 21 hours agoprevfact: circles are actually squares that have successfully deceived you. You have been bested by a shape. reply hinkley 21 hours agoparentSo you&#x27;re saying you don&#x27;t have to square a circle because it already is? reply thfuran 21 hours agorootparentWell I have to say, that really freed up my weekend. reply GuB-42 19 hours agoparentprevThat&#x27;s a well known conspiracy theory that has been proven wrong long ago. You can&#x27;t square the circle.Don&#x27;t be so irrational. reply retrocryptid 20 hours agoparentprevBut squares are really just diamonds which have been squished a bit. reply lo_zamoyski 16 hours agorootparentA topologist once told me \"square\" and \"circle\" are synonyms. reply kevin_thibedeau 18 hours agorootparentprevThey&#x27;re all just superellipses. reply mbfg 21 hours agoprevcircles exist with NURBs, iirc. Now at some point you have to turn on individual pixels, so .... reply choonway 20 hours agoparentbut until then, figuring out micron level tolerances over meters can be done with perfect circles using Non Uniform Rational B(Basis)-Splines. reply Sharlin 21 hours agoparentprevNot if you use a vector display! reply deaddodo 17 hours agorootparentI could be completely incorrect here; but I don&#x27;t know of a vector display that can do anything but arbitrary lines. Circles are usually rendered with sublinears to the command resolution (and trace runs) you&#x27;re willing to sacrifice.An oscillating display can do curves, but only in a wave&#x2F; linear sequential fashion. reply Sharlin 8 hours agorootparentYou&#x27;re probably right, but I don&#x27;t think there&#x27;s any fundamental obstacle to controlling a CRT electron beam to trace arbitrary curves – there&#x27;s vertical control and horizontal control and you can arbitrarily modulate them over time, can&#x27;t you? reply deaddodo 28 minutes agorootparentI didn&#x27;t say it wasn&#x27;t theoretically possible, I said there are no (that I know of) concrete implementations of this idea.Yes, this is theoretically possible. I imagine it wasn&#x27;t done due to processing limitations during the time vector displays were common; but my limited knowledge in the realm doesn&#x27;t give me certainty. replykanzenryu2 21 hours agoprevThat&#x27;s just a circular argument reply lo_zamoyski 16 hours agoparentA not-quite-circular argument, even! reply wrs 18 hours agoprevIronically, Bézier curves were invented for use in CAD. [0][0] https:&#x2F;&#x2F;www.bricsys.com&#x2F;en-us&#x2F;blog&#x2F;the-bezier-curve-how-car-... reply Sophistifunk 17 hours agoprevPlease note that most pistons and cylinder bores are also not circles ;-) reply userbinator 16 hours agoparent...and haven&#x27;t been for at least 76 years: https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=15397926(Original page seems to have moved; it is now here: https:&#x2F;&#x2F;www.web.imperialclub.info&#x2F;Repair&#x2F;Lit&#x2F;Master&#x2F;003&#x2F;inde... ) reply edgarvaldes 20 hours agoprevI very like this kind of blog posts: simple, clear, to the point. I don&#x27;t need to summarize it myself, I dont need to wonder if the preamble, history, anecdata, midjourney pics and diagrams are really necessary to understand the main topic. reply rolph 20 hours agoprevhttps:&#x2F;&#x2F;www.physicsforums.com&#x2F;threads&#x2F;the-planck-circle-prob... reply blue1 12 hours agoprevIs this true for Adobe Illustrator too (which has arc and ellipse tools)? Even if saved to .ai format? reply jackmott42 21 hours agoprevIf you play the game Quake 3 Arena, which was, I think, the first game to use bezier curves in 3d rendering, so that a column or arch could dynamically adjust how many polygons are used depending on view distance, the columns are visibly not round!Not something most people notice unless they are looking for it. reply Sharlin 20 hours agoparentAnd these days GPUs have programmable tessellation shaders so they can semi-automatically make up more geometry as needed.I remember the Q3A Beziers were advertised as if the game rendered actual Beziers (which would in principle be possible in software but not on hardware… of the day, anyway), rather than just doing dynamic LoD approximation with your bog-standard triangles! reply retrocryptid 20 hours agoparentprevBut the OP mentioned it EXPLICITLY matters in his use case. Telling someone their use case doesn&#x27;t matter is sort of a reddit thing to do. reply diogenes4 20 hours agoprevVery aggressive claim for solely talking about bezier representation. reply remorses 4 hours agoprev== does not exist reply phyzome 18 hours agoprevNot really buying this. There are the other comments about how this is wrong, but also -- there&#x27;s no side-by-side comparison! reply alanbernstein 14 hours agoprevIf your laser cutter only works with PDF files, switch to a setup that works with Lightburn. reply kevin_thibedeau 18 hours agoprevTechnically, you can procedurally rasterize a circle using a bitmap brush image from within Postscript. reply mindslight 21 hours agoprev> The only way to create a proper circle is to have a raster image like the one above.facepalm. A raster image can&#x27;t express a circle either - it&#x27;s also just an approximation.Same thing with a printout, for that matter. Maybe you could claim some kind of radial plotter is a true circle, but even there we&#x27;re talking about pigment being absorbed along individual paper fibers.In reality, all the mathematical shapes are just abstractions to be approximated. reply deaddodo 17 hours agoparentThe article is arguing mathematical inaccuracy, you&#x27;re arguing the limitations of compressing an infinite abstract concept on a finite field.You&#x27;re not wrong, but it&#x27;s like someone showing proof that a person can&#x27;t fly unassisted and then responding with \"well dogs can&#x27;t meow\". reply mindslight 16 hours agorootparentBut the mathematical inaccuracy is caused by the limitations of compressing an abstract concept on a finite field (of a different base abstraction). So no, it doesn&#x27;t seem like your wacky analogy at all. reply deaddodo 32 minutes agorootparentNo, the Bézier inaccuracy has nothing to do with rasterization. Did you even read the article?They&#x27;re saying that your arc for your circle will be incorrect before it&#x27;s ever put into a concrete implementation. In other words, there&#x27;s a base level inaccuracy and then your rasterization brings a whole new, different inaccuracy into play.So yes, my \"wacky analogy\" is exactly apropos here. reply ars 19 hours agoparentprevYou completely missed his point. Pick a DPI, make a raster circle - it&#x27;s accurate to the DPI you pick. Now use a Bezier to make that circle (and rasterize it to that DPI). It&#x27;s not accurate to that DPI. reply mindslight 16 hours agorootparentI don&#x27;t see the conceptual difference between approximating a circle as a set of raster points, and approximating a circle as a Bezier curve. Also, it was the author&#x27;s choice to frame the article in edgy universal terms \"Circles do not exist\" rather than something like a more pedestrian \"Circles don&#x27;t exist in PDF\". reply ars 15 hours agorootparent> I don&#x27;t see the conceptual difference between approximating a circle as a set of raster points, and approximating a circle as a Bezier curve.One approximates the circle to the limit of the chosen resultion, the other simply has an error. A small error, but an error nontheless. reply mindslight 15 hours agorootparentNeither rectangular pixels nor Bezier curves are bases capable of perfectly&#x2F;natively representing a circle. Either one can approximate a circle to within some arbitrarily chosen amount of error, based on increasing the number of pixels or the number of Bezier curve segments.For a given circle and DPI, one can figure out the minimum number of Bezier curves necessary to represent the circle such that rendering those Bezier curves out to pixels will get you the exact same result as having rendered the circle in pixels directly. replyhwayne 18 hours agoprevAll the more reason to use SVGs! SVG hasandelements. reply NotYourLawyer 20 hours agoprev>Furthermore, the human vision system is a bit weird and perfect circles look vertically elongated. You have to make them non-circular for people to consider them properly circular.Just like how cows don’t look like cows on film![0][0] https:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=KbkNul4wQH0 reply hinkley 21 hours agoprevFor 3d printing.Lathes do circles all the time. But it would be difficult to rotate either the head or the bed around an arbitrary axis in order to print a proper circle. reply jstanley 21 hours agoparentThe article has nothing to do with 3d printing. reply hinkley 18 hours agorootparentDo you think there&#x27;s a fundamental difference between how CNC, 3d printing, and laser cutting equipment behaves? reply jstanley 11 hours agorootparentCNC and 3d printing typically use G-code, which has dedicated arc commands (G2, G3), and the laser cutter in the article uses PDF, which (apparently) does not, and is the main point of the article.Of course any physical machine is only making an approximation of a circle (even a lathe doesn&#x27;t turn perfectly round, there is no such thing), but at least for CNC and 3d printing you can specify a perfect circle. In PDF you can&#x27;t.(Yes, it is also true that a typical 3d print comes from an STL file, which can only specify triangles, so STL files also can only specify approximations of circles. But it is still true that most 3d printers run G-code, not PDF.) reply hinkley 3 hours agorootparent> even a lathe doesn&#x27;t turn perfectly round, there is no such thingYou don’t have to look for long on YouTube to find videos showing lathe tolerances of ten mil or lower.And things like bearing races, where imperfections are a common failure mode, are turned for polishing if nothing else. reply defrost 11 hours agorootparentprevThe PDF format was intended to be an explicit per page device independant description of text, line path, and image layout subject to clipping with no \"program running\" elements to it.It followed PostScript which was a programming language that was intended to be directly undertood and runnable by Postscript enabled printers.Postscript could easily do the job here, it had \"arc\" drawing primitives that described circles (both full and partial).The &#x27;failure&#x27; of Postscript was that as a programming languge a bad .ps job could crash a printer and a 1,500 page .ps document had to be internally fully rendered just to print out page 73 only (potentially code on any &#x27;page&#x27; could loop back or forward and generate image elements on any page).As a not-quite PostScript simplified &#x27;other&#x27; the PDF formal languaage spec only allows the drawing of lines and &#x27;curves&#x27; and curves are explicitly 3rd order bezier splines.See: Path Operators (Page 95)Portable Document Format Reference Manual (230 pages)https:&#x2F;&#x2F;opensource.adobe.com&#x2F;dc-acrobat-sdk-docs&#x2F;pdfstandard... reply hinkley 3 hours agorootparentSVG would likely be a better target today. reply c22 18 hours agorootparentprevYes, several. reply hinkley 18 hours agorootparentOkay, well, that was informative. And explains why my point doesn&#x27;t hold because I said a wrong word that has little to do with the point.Thanks for your efforts. reply c22 17 hours agorootparentI don&#x27;t know what you were trying to imply and I have no dog in this fight. But there are definitely fundamental differences between additive vs subtractive technologies, 2-axis vs 3-axis or multi-axis machining, and more niche machine-controlled manufacturing technologies, as well as very real differences behind the driving algorithms of most 3d printers&#x2F;CNC machines vs most commercial laser cutters. (3d printers and other CNC tools have a pedigree stretching back to the original g-code developed in the 50s whereas laser cutters&#x2F;engravers descend from more modern laser and inkjet printing technologies developed in the late 70s and 80s.) replytoss1 15 hours agoprev>>one of the cases PDF is being considered (and, based on Internet rumors, is already being used) is as an interchange format for CAD drawings? Now it suddenly starts mattering. If you have any component where getting a really accurate circle shape is vital (like pistons and their holes), suddenly all your components are slightly misshaped. Which would not be fun.Holy forking shirtballs - NO!The article rightly make a nice concise case against it.I&#x27;d add from my experience: perhaps PDF people think this would be a cool way to make more money, but only because they have not done any CAD&#x2F;CAM&#x2F;CNC work. Since I do CAD&#x2F;CAM&#x2F;CNC as a regular part of my work, and have spent time with PDF back to it&#x27;s early days, that is a hard NOPE.But definitely a good nominee for the Bad Ideas Hall Of Fame, at least honorable mention.sheesh. reply mcphage 20 hours agoprev [–] That laser cutter might take PDF files as input, but it certainly isn&#x27;t the case with all laser cutters. reply c22 16 hours agoparent [–] I doubt that laser takes PDF natively, but probably converts from PDF using a custom print driver on the controlling PC. It is extremely likely this driver can also digest other formats. replyApplications are open for YC Winter 2024 GuidelinesFAQListsAPISecurityLegalApply to YCContact Search:",
    "originSummary": [
      "The author highlights the inaccuracies in portraying circles in print and digital designs, a consequence of the constraints within PostScript and PDF drawing models.",
      "These inaccuracies may hold impactful consequences in precise applications like laser cutting and CAD drawings where perfect circular shapes are crucial.",
      "The author puts forth a question regarding whether PDF rendering implementations genuinely use circles or merely approximate them through Bézier curves."
    ],
    "commentSummary": [
      "The discussions encompass a wide array of subjects touching on circle representation in Computer-Aided Design (CAD) software, the applicability of USC (United States customary units) in science and engineering fields, and the accuracy of textbook illustrations.",
      "There are debates concerning the precision requirements, limitations of various software libraries, and the confusion introduced by the simultaneous use of multiple unit systems.",
      "Disputes also arise about the use of PDF files in both CAD and laser cutting, along with philosophical deliberations about the concept of a 'perfect circle."
    ],
    "points": 219,
    "commentCount": 190,
    "retryCount": 0,
    "time": 1695152692
  },
  {
    "id": 37584134,
    "title": "uBlock Origin filters to remove distractions",
    "originLink": "https://github.com/mig4ng/ublock-origin-filters",
    "originBody": "Repository with my filter lists that block some distractions from sites I want to keep using.I am pretty ruthless removing distractions from my life (e.g. no Instagram, Facebook, TikTok), but some tools I&#x27;d like to keep using some parts of it. E.g. Twitter&#x2F;X, I dislike the feed but I like reading some threads that are shared here or on blog posts. Same for YouTube, I enjoy some videos but I do not want recommendations when I finish the video I was watching.Feel free to suggest more, open issues, pull requests or send me an email :)",
    "commentLink": "https://news.ycombinator.com/item?id=37584134",
    "commentBody": "My uBlock Origin filters to remove distractionsHacker NewspastloginMy uBlock Origin filters to remove distractions (github.com/mig4ng) 233 points by mig4ng 3 hours ago| hidepastfavorite85 comments perihelions 2 hours agoTangentially: after you&#x27;ve blocked a very large number of ads and sidebars, one useful enhancement is to expand whatever text elements remain, to regain use of all that now-empty whitespace. Something like so: :xpath(&#x2F;&#x2F;main&#x2F;div):style(min-width: 80% !important)(I&#x27;ve been looking at going a step further for some sites, by annotating a \"column-count:\" [0] rule and making the screen look like a newspaper. (Narrow columns for readability—multiple columns for \"scan-ability\"). Unfortunately, there&#x27;s a lot more fiddling and tuning to this than I expected: it doesn&#x27;t automagically work in the way you&#x27;d hope. Modern website DOM layouts are basically Superfund sites).[0] https:&#x2F;&#x2F;developer.mozilla.org&#x2F;en-US&#x2F;docs&#x2F;Web&#x2F;CSS&#x2F;column-coun...[late edit]: Here&#x27;s a minimal example of \"column-count:\" injected by uBlock (on a website where it sort-of works)—this is what I&#x27;m trying to coerce other websites into looking like:https:&#x2F;&#x2F;i.ibb.co&#x2F;k3bRwhP&#x2F;example-1.webp theguardian.com###maincontent:style(margin-left: -28vw !important; min-width: 90vw !important; column-count: 4 !important) theguardian.com##div:style(border: none !important) reply flir 1 hour agoparentAre you at the point where you should be pouring this content into RSS, and styling it as columns in a reader?(I really like the column idea, and I&#x27;m working back towards RSS, with a bunch of smart filters, being my primary way of interacting with anything I visit regularly. I never should have given it up). reply gzer0 24 minutes agoprevIf you go to Options > Filter Lists > Annoyances and check mark the following items: \"AdGuard – Annoyances\" \"EasyList – Annoyances\" \"uBlock filters – Annoyances\"You will get rid of 99.9% of website annoyances without affecting any main functionality of websites.I&#x27;ve been doing this on every fresh install of Chrome for years. Works wonders. reply robbyking 11 minutes agoparentThere really are two different version of the internet, and which one you use depends on how how well your ad blockers are configured.I was using my mom&#x27;s laptop over the holidays, and it took me a minute to realize why every site I visited looked so _different_. What I quickly realised is almost every site I visited was wallpapered in ads: banners between every paragraph, sidebars full of ads, and background images selling things. A lot of sites were unrecognizable from what I was used to. reply runjake 3 hours agoprevIf you use uBlock Origin, did you try to submit these filters to the uBlock Annoyances[1] or EasyList Annoyances lists before starting up this project?That would help far more people that starting up yet another Annoyances list.1. https:&#x2F;&#x2F;github.com&#x2F;uBlockOrigin&#x2F;uAssets reply notsylver 3 hours agoparentThese aren&#x27;t just annoyances, they are core features of the sites. reply pbhjpbhj 1 hour agorootparentMight be scope for upstream projects to add a new group like \"uBlock Focus\" where blocks are to focus main content?Before IT took away all plugins (!) I used uBlock this way, hiding sidebars and leads that weren&#x27;t conducive to work (eg interesting stuff). reply runjake 3 hours agorootparentprevSo? Any corporation would argue that about the annoyances on their properties. reply reyqn 2 hours agorootparentI thought people used those list because it cleaned up the websites without breaking them. This is largely breaking the websites, only letting through a very opinionated subset of functionalities.Even if it&#x27;s nice for people who want just this, I don&#x27;t think this has its place on the annoyances lists you mentioned. reply thrdbndndn 2 hours agorootparentprevNo they wouldn&#x27;t?Annoyances are mainly for things like cookie popup or copy-protection etc. I doubt companies would argue these are their \"core features\". reply ruined 1 hour agorootparentprevthe main timeline is a core feature of twitter for most people. reply gxnxcxcx 2 hours agoparentprevPSA: Some annoyances lists can be zealous about removing from websites any visual cue indicating the availability of an RSS feed. reply mig4ng 2 hours agoparentprevI didn&#x27;t know about this. Might add them to my filters, and see if mine apply there too. Thanks. reply aendruk 1 hour agoprevPersonally I have to hide Stack Exchange’s trending questions on my work machine. Those things are catnip to me. askubuntu.com###hot-network-questions serverfault.com###hot-network-questions stackexchange.com###hot-network-questions stackoverflow.com###hot-network-questions superuser.com###hot-network-questionsAlso many sites disregard prefers-reduced-motion, so I’m often hiding visual distractions like endless carousels and cute decorative animations. reply dylan604 49 minutes agoparentfor the longest time, i never paid attention to that column, as my brain has pretty much been trained that anything in that column is useless fluff. until one day when i actually read some of those questions and was surprised by the questions being asked. i totally get the catnip. luckily, i have an off switch and can avoid becoming addicted. reply perihelions 3 hours agoprevA while back I worked out how to erase the pay-to-win monetization spoor from Reddit and Twitter, reddit.com##.awarding-icon reddit.com##.awardings-bar reddit.com##.give-gold-button twitter.com##:xpath(&#x2F;&#x2F;div[contains(@style, \"hex-hw-shapeclip-clipconfig\")]):style(clip-path: circle(50%) !important) reply lapetitejort 2 hours agoparentReddit has ended awards (for now). The filter is still applicable for older posts though. reply mig4ng 3 hours agoparentprevWhat does the last one do? reply perihelions 3 hours agorootparentI don&#x27;t know if they still do it, but at the time Twitter charged money to display user avatars in a larger size, and styled as a hexagon. I think they were NFT tie-ins or something? They were difficult to ignore, so I wrote a snippet to turn hexagons back into circles.[edit]: https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=30012904 (\"Twitter Rolls Out NFT Profile Pictures\") reply brezelgoring 6 minutes agorootparentI had an extension (that I found here) that transformed all NFT avatars into Jared from Subway. It really takes the edge off of whatever they say. Even the most serious arguments just turn into kids&#x27; spats with that picture, it made the site more pleasant to be in. reply mig4ng 2 hours agorootparentprevNever seen it, if I do and it bothers me I will keep in mind and add this too. Thanks! reply kup0 18 minutes agoprevUsing rules to completely block shorts from appearing in any YT feeds (and rules to fix the feeds so they don&#x27;t look broken afterwards) has been great. YT breaks it from time to time with a UI update, but it&#x27;s something I&#x27;ll always use. I hate YT Shorts reply ronjouch 2 hours agoprevThanks! I do this all the time too :) . Makes for a more pleasant &#x2F; less cluttered experience on sites I use a lot.I&#x27;ll add that another thing that is pretty easy to do is to add a Dark Mode to websites that don&#x27;t have one. All you need is a userContent.css&#x2F;uBlock rule like @media (prefers-color-scheme: dark) { body { background-color: #111 !important; color: #eee !important; } &#x2F;* etc, more stuff here depending on site *&#x2F; }, and ta-da! Dark mode respecting your OS dark&#x2F;light setting based on pref or time of day :) reply notpushkin 43 minutes agoparentDark Reader extension does basically this (I think they either change colors or add the invert filter depending on what looks better?), but also has builtin CSS override rules for many sites. Love it. reply ronjouch 29 minutes agorootparentSure. I prefer to minimize depending on more extensions (for futureproof-ness, performance, security). These days, { uBlock Origin, Vimium } is all I need :) reply waxali9815 3 hours agoprevI use something similar to this, the only differences are because my use case is privacy protection and avoiding algorithmic feeds. I use the Redirector extension for Firefox so that it redirects e.g. Youtube, Twitter, and StackOverflow links to the corresponding alternative frontends Piped, Nitter, and AnonymousOverflow. You can find maintained lists [1] [2] of such projects and their instances. Mostly they are FOSS and privacy-respecting, and they have distraction-free frontends because it&#x27;s a helpful coincidence of being ethical software.[1] https:&#x2F;&#x2F;github.com&#x2F;digitalblossom&#x2F;alternative-frontends [2] https:&#x2F;&#x2F;farside.link reply mig4ng 2 hours agoparentThis is amazing. I had similar ideas in my bucket list of creating distraction free alternatives and redirecting somehow.Happy to know someone had the same idea and there are versions of it online. Thanks for letting me know of this, I really appreciate it! reply noname120 1 hour agoprevArc has native support for cosmetic improvements. Those are called Boosts and you can interactively create your owns in just a few clicks, and also add custom CSS&#x2F;JS if needed.I use this extensively to declutter&#x2F;dedistract most websites I visit: Facebook, Twitter, Reddit, Medium, Gmail, YouTube, and so on. It&#x27;s a real life-changer!See the Boosts shared by other users here: https:&#x2F;&#x2F;arc.net&#x2F;boosts reply imbnwa 47 minutes agoparentArc is the best browser UI thus far. Everything else is still stuck in the late 2000s essentially reply badsectoracula 15 minutes agorootparentSome would claim that is a feature. Though personally i&#x27;m trying hard(ish) to make Firefox&#x27; UI closer to early 2000s :-P (thanks to userChrome.css). reply Taylor_OD 2 hours agoprevThis is cool. I did something similar at one point. Unfortunately these websites change their basic layout so often that it felt like these fixes would work for 1 month max then I&#x27;d have to configure again.I ended up moving to news feed eradicator. https:&#x2F;&#x2F;chrome.google.com&#x2F;webstore&#x2F;detail&#x2F;news-feed-eradicat...I let myself use reddit for 5 minutes every morning. It auto blocks the feed when those 5 minutes are up. Every other site I just leave blocked. reply ronjouch 1 hour agoparent> \"Unfortunately these websites change their basic layout so often that it felt like these fixes would work for 1 month max then I&#x27;d have to configure again.\"You&#x27;re exaggerating. My userContent.css is 60kB, and although breakages do happen indeed, it&#x27;s occasional and nowhere near \"redo everything every month\".What I will reckon is a pain, are machine-mangled CSS classes (e.g. by packers for React &#x2F; other frameworks). They are kinda stable, until they&#x27;re not, and at any rate, their inscrutability makes maintenance more difficult (because .user-profile-picture is human-transparent, while .cD5aZf is not :-&#x2F; ). reply aendruk 1 hour agorootparentJudging by some of the other examples here I’m guessing this is a case of writing fragile rules that e.g. count n and m items into a tree and test unnecessarily for incidental classes. If all you do is accumulate the often senseless outputs of the element picker I’d expect the gains to be short-lived. reply ronjouch 25 minutes agorootparentIndeed, 100%. I learned to never do such things, and would rather not have a rule than have a brittle one. This explains that my experience differs from OP&#x27;s. reply db48x 1 minute agorootparentThere are better ways to do it. For example, you can match elements containing specific text, such as the text that introduced the annoyance. On NewEgg you might match the text “Download our app” and use it to remove that whole box.hedora 3 hours agoprevThis one gets rid of the Login With Google popups that have infested most corners of the internet: accounts.google.com&#x2F;gsi&#x2F;iframeIt doesn&#x27;t break the login with google button, so you can still login with your google account, if you must. reply mig4ng 2 hours agoparentWill try it and might add it too, I find those annoying. Thanks! reply lancesells 14 minutes agoprevI use StopTheMadness on Safari and have a lot of similar custom things.For Linkedin I use to get rid of the feed:.scaffold-finite-scroll__content { display: none } reply beltsazar 3 hours agoprevI&#x27;m using uBlock similarly! I&#x27;ve accumulated hundreds of custom filters for the past eight years. My newest entries on uBlock&#x27;s \"My Filters\" tab are for hiding spoilers on IMDb: ! 2023-09-05 Hide episode&#x27;s description and image (+ watchlist for not breaking the layout) [new experimental IMDb layout] imdb.com##article.episode-item-wrapper .ipc-slate imdb.com##article.episode-item-wrapper .ipc-html-content imdb.com##article.episode-item-wrapper .ipc-watchlist-ribbon ! 2023-09-05 Hide top rated episode&#x27;s description both on a TV page and an episode page imdb.com##[data-testid=\"episodes-top-rated-card\"] ul + div reply RexM 1 hour agoparentMight want to also hide the number of episodes an actor is in the show for. That’s bitten me a few times. reply mig4ng 2 hours agoparentprevDo you have the others open sourced? Mind sharing them? reply philip1209 3 hours agoprevI use similar filters in my uBlock origin. I like this approach because it avoids installing more browser extensions, each of which risks security or privacy issues. reply mig4ng 2 hours agoparentPlease share them to see if I can improve mine :) reply bloopernova 2 hours agoprevHere&#x27;s my filters in ublock origin for Hacker News: news.ycombinator.com##.comment:style(max-width: 70ch !important; overflow: hidden !important;) news.ycombinator.com##.c00:style(color: #3f3f3f !important;) news.ycombinator.com##.comhead:style(background: #e6e6df; font-weight: italic; color: #686868 !important;) news.ycombinator.com##.hnuser:style(background: #e6e6df; font-style: italic; color: #575757 !important;) news.ycombinator.com##html:style(filter:invert(100%) hue-rotate(180deg); background: white)Restricts width of comments so that they&#x27;re about 10 or so words wide, for optimal reading. Also changes some of the colours.Experiment with the above, and if you have any improvements please let me know! reply thrdbndndn 1 hour agoparentI don&#x27;t know you can add styles with uBlock filters.I probably still prefer to just use Stylus for better readability&#x2F;debuggability, but it&#x27;s good to know.Edit: BTW I think `font-weight: italic;` is a typo. reply rschiavone 3 hours agoprevThere is also https:&#x2F;&#x2F;letsblock.it&#x2F;filters, a collaborative repository of uBlock content filters, to which I encourage you to contribute your own ones. reply mig4ng 2 hours agoparentI found that and I actually link it in the repository. I will investigate it later. reply squarefoot 3 hours agoprevInteresting. I wonder how hard would be to create a filter to programmatically eliminate certain sellers from Ebay query results, say those known for selling counterfeit hardware, those with feedback ratings below a given threshold, etc. reply crtasm 2 hours agoparentUnfortunately the search results page doesn&#x27;t appear to include the seller id or username for the items.However if you had a list of usernames to exclude eBay lets you do that in the advanced search. reply pimlottc 3 hours agoprevNeeds blocks for Stack Exchange hot questions reply hutzlibu 3 hours agoparentOh yes, they are annoyingly interesting, which is fine when I am browsing for fun, but usually I go to StackExchange for a very specific problem and then suddenly, uups, where am I? reply db48x 2 hours agoparentprevHere are the rules I’ve been using for Stack Exchange; you can see that I have been doing this for a while. Some of these may no longer even be necessary… ! 5&#x2F;8&#x2F;2018, 9:16:29 AM https:&#x2F;&#x2F;emacs.stackexchange.com&#x2F;questions&#x2F;13080&#x2F;reloading-directory-local-variables emacs.stackexchange.com###overlay-header ! 3&#x2F;31&#x2F;2020 https:&#x2F;&#x2F;emacs.stackexchange.com emacs.stackexchange.com###divQuestionFollowFeaturePopover ! 2021-04-14 https:&#x2F;&#x2F;emacs.stackexchange.com emacs.stackexchange.com##.js-teams-promo ! 2021-08-14 https:&#x2F;&#x2F;emacs.stackexchange.com emacs.stackexchange.com###hot-network-questions ! emacs.stackexchange.com###sidebar ! 2021-10-01 https:&#x2F;&#x2F;emacs.stackexchange.com emacs.stackexchange.com##.js-create-team-cta ! 2022-09-18 https:&#x2F;&#x2F;emacs.stackexchange.com emacs.stackexchange.com##.s-sidebarwidget:not(.js-review-actions) emacs.stackexchange.com##.js-feed-link ! 2022-12-18 https:&#x2F;&#x2F;emacs.stackexchange.com emacs.stackexchange.com##.icon-winterbash ! 2023-07-28 https:&#x2F;&#x2F;emacs.stackexchange.com emacs.stackexchange.com##.js-announcement-banner reply mhasbini 2 hours agoparentprevThere&#x27;s https:&#x2F;&#x2F;github.com&#x2F;httpjamesm&#x2F;AnonymousOverflow. I made https:&#x2F;&#x2F;doublefault.mhasbini.com&#x2F; before I knew about it. On the plus side it keep default aesthetics. reply mig4ng 3 hours agoparentprevThat&#x27;s true, feel free to open PR, or I might eventually add them too. reply cantSpellSober 2 hours agoprevI&#x27;ve written so many of these. Any reason you chose uBlock over something like userstyles?I&#x27;d like to open source&#x2F;release my styles but I&#x27;m not sure which is the best choice.uBlock is great for blocking things from loading (like images) but for visual updates I prefer CSS. reply bloopernova 1 hour agoparentNot OP, but I use ublock origin for a small number of visual tweaks. I use ublock origin because I don&#x27;t want to use an extra extension. reply scopeh 35 minutes agoprevI&#x27;ve been looking for something like this solution for a while. Never thought of using ublock filters. Cheers reply dcminter 2 hours agoprevMostly I&#x27;m using one of the default uBlock origin ones, but custom rules that have made (desktop) Facebook much pleasanter for me: www.facebook.com##div:nth-of-type(8):has-text(Suggested for you) www.facebook.com##div:nth-of-type(8):has-text(Reels and short videos) reply i13e 1 hour agoprevYou should submit these rules to https:&#x2F;&#x2F;letsblock.it ! AFAIK their distractions rules really only cover YouTube reply GuB-42 2 hours agoprevYou definitely should add news.ycombinator.com, all of it :) reply hollerith 2 hours agoparentI block only the \"firehose\" pages so I can continue to run search-engine queries over HN (using hn.algolia.com): ||news.ycombinator.com&#x2F;| ||news.ycombinator.com&#x2F;news^$document ||news.ycombinator.com&#x2F;newcomments^$document ||news.ycombinator.com&#x2F;newest^$document ||news.ycombinator.com&#x2F;classic^$document ||news.ycombinator.com&#x2F;front^$document ||news.ycombinator.com&#x2F;bestcomments^$document reply pbhjpbhj 1 hour agoparentprevMaybe you&#x27;d like noprocrast mode? Limits use time.It&#x27;s in your user config, click your username. reply mig4ng 2 hours agoparentprevI do have it, just the homepage, &#x2F;news, and &#x2F;newest. Haven&#x27;t added to the repository yet but will probably soon. reply db48x 2 hours agoprevI do a lot of the same things to remove sidebars, navigation, suggestions, search, etc from various sites. There are a couple of web comics where I nuke everything but the image and the next&#x2F;previous navigation links (Order of the Stick, Schlock Mercenary, etc). reply generalenvelope 3 hours agoprev+1 for UnHook. Amazing how the experience of youtube changes when all you can see is a search bar and the current video reply mig4ng 2 hours agoparentI have been using it for years now, it is perfect. Main reason I will still keep it because it works.Removing an extension from my list would be great but it is amazing as is. reply hedora 2 hours agoprevTangentially related: Has anyone tried the Orion Browser by Kagi for iOS?https:&#x2F;&#x2F;browser.kagi.com&#x2F;They claim to support Firefox and Chrome extensions (specifically, uBlock Origin). It&#x27;s in beta. I&#x27;m surprised Apple hasn&#x27;t blocked it yet, but I&#x27;d consider paying for a developer account just to install it on my phone (assuming it works). reply djcannabiz 2 hours agoparentIve been using it on my laptop and phone. The phone version doesnt feel like it has enough polish yet. You can install it from the app store BTW, no need for a developer account. Ive been having problems with the app crashing, being unresponsive. However, the Mac version works 100% for me. I have ublock origin, bitwarden, bypass paywalls clean and sponsorblock installed. I havent noticed any issues and im very satisfied. I also really love the programable buttons feature, which let you define a button in the toolbar that runs some JS when you click on it (like a bookmarklet). reply freediver 1 hour agoparentprevuBlock Origin works on Orion for Mac (running forked WebKit), but does not work on Orion for iOS (because of Apple&#x27;s limitations on iOS). reply zf00002 1 hour agoprevIf someone has some filter strings to help clean up Etsy search results, that would be appreciated. reply mnorris 2 hours agoprevThanks for sharing!I&#x27;ve been doing this for the last year with YouTube. YouTube is just a search bar now which prevents mindless browsing and distractions.If I find myself using a site mindlessly I add it to my &#x2F;etc&#x2F;hosts file to block them. reply verdverm 3 hours agoprevI&#x27;ve been using uBlock to remove or revert the \"improved designs\" as much as possible.Really like the click to remove (and build a filter) to aid in this effort. reply meerita 2 hours agoprevI would suggest the author to explain, briefly, how to use the filters in uOrigins in the README. reply citruscomputing 2 hours agoprevLove this! I&#x27;ve been working on one for pull quotes: https:&#x2F;&#x2F;codeberg.org&#x2F;oneirophage&#x2F;filter-list-pull-quotes reply fifteen1506 2 hours agoprevPlease someone do shareable Twitter users ABP-based user KILL LIST, like in Usenet had! reply lencastre 40 minutes agoprevLucy? reply polyterative 3 hours agoprevnewsfeed eradicator extension is a more configurable way to achieve similar features reply mig4ng 2 hours agoparentI have used it in the past, it does not give me the same flexibility. It might have changed over the years. I have used it long ago. Thanks for sharing. reply ta367457377 2 hours agoprevBetween Firefox for Android and uBlock, i dub this guy a literal saint. Truly good stuff. Havent seen a yutube or otherwise ad in a while. reply BitwiseFool 1 hour agoprevPersonally, I can&#x27;t stand how distracting YouTube thumbnails are. I found this list to block them from the sidebar when watching videos. ! Hide all of the recommended videos on the right side of the page, except for the first up-next video. ! If you have a tall monitor you may need to add more entries, this blocks the initial list on most resolutions. www.youtube.com###items > .ytd-watch-next-secondary-results-renderer.style-scope:nth-of-type(2) www.youtube.com###items > .ytd-watch-next-secondary-results-renderer.style-scope:nth-of-type(3) www.youtube.com###items > .ytd-watch-next-secondary-results-renderer.style-scope:nth-of-type(4) www.youtube.com###items > .ytd-watch-next-secondary-results-renderer.style-scope:nth-of-type(5) www.youtube.com###items > .ytd-watch-next-secondary-results-renderer.style-scope:nth-of-type(6) www.youtube.com###items > .ytd-watch-next-secondary-results-renderer.style-scope:nth-of-type(7) www.youtube.com###items > .ytd-watch-next-secondary-results-renderer.style-scope:nth-of-type(8) www.youtube.com###items > .ytd-watch-next-secondary-results-renderer.style-scope:nth-of-type(9) www.youtube.com###items > .ytd-watch-next-secondary-results-renderer.style-scope:nth-of-type(10) www.youtube.com###items > .ytd-watch-next-secondary-results-renderer.style-scope:nth-of-type(11) www.youtube.com###items > .ytd-watch-next-secondary-results-renderer.style-scope:nth-of-type(12) www.youtube.com###items > .ytd-watch-next-secondary-results-renderer.style-scope:nth-of-type(13) www.youtube.com###items > .ytd-watch-next-secondary-results-renderer.style-scope:nth-of-type(14) www.youtube.com###items > .ytd-watch-next-secondary-results-renderer.style-scope:nth-of-type(15) www.youtube.com###items > .ytd-watch-next-secondary-results-renderer.style-scope:nth-of-type(16) www.youtube.com###items > .ytd-watch-next-secondary-results-renderer.style-scope:nth-of-type(17) www.youtube.com###items > .ytd-watch-next-secondary-results-renderer.style-scope:nth-of-type(18) www.youtube.com###items > .ytd-watch-next-secondary-results-renderer.style-scope:nth-of-type(19) www.youtube.com###items > .ytd-watch-next-secondary-results-renderer.style-scope:nth-of-type(20) ! Prevents the list of recommendations from expanding when scrolling down. www.youtube.com##ytd-continuation-item-renderer.ytd-watch-next-secondary-results-renderer.style-scope www.youtube.com###continuations > .ytd-watch-next-secondary-results-renderer.style-scope www.youtube.com##.use-ellipsis.ytd-watch-next-secondary-results-renderer.style-scope www.youtube.com##ytd-compact-playlist-renderer.ytd-watch-next-secondary-results-renderer.style-scopeAlso, if you hate Shorts as much as I do, use this to hide them from appearing in search results. youtube.com##ytd-rich-section-renderer:has(#rich-shelf-header:has-text(Shorts)) youtube.com##ytd-reel-shelf-renderer:has(.ytd-reel-shelf-renderer:has-text(Shorts)) reply aendruk 1 hour agoparentI’m not very familiar with YouTube but can’t that enormous list be condensed to youtube.com###related? reply shortrounddev2 3 hours agoprev [–] Would be cool to see some examples reply db48x 1 hour agoparentBefore: After:reply mig4ng 2 hours agoparentprev [–] Like screenshots? reply ronjouch 1 hour agorootparent [–] Not OP, but here&#x27;s a screenshot illustrating what I personally typically do on sites I use a lot: hide things, make things low opacity until hovered, add a dark mode if missing. https:&#x2F;&#x2F;imgur.com&#x2F;a&#x2F;tCFkVzKEDIT should have installed uBlock on the left&#x2F;default browser for a fair comparison. Oh well, you get the idea :) replyApplications are open for YC Winter 2024 GuidelinesFAQListsAPISecurityLegalApply to YCContact Search:",
    "originSummary": [
      "The individual has created a repository of filter lists to help block distractions on certain websites, allowing for more focused use of platforms.",
      "While they removed social media platforms such as Instagram, Facebook, and TikTok, they aim to filter out distractions on sites like Twitter and YouTube.",
      "The creator encourages others to contribute suggestions or interact through open issues, pull requests, or email to improve and refine the filter list."
    ],
    "commentSummary": [
      "The text primarily discusses various browser extensions, with a particular emphasis on the uBlock Origin extension used to block elements on websites like YouTube and Facebook.",
      "Users talk about their experiences, suggest filter lists and rules, and discuss the challenges and potential risks of using multiple extensions for enhancing browsing experiences.",
      "There is a detailed introduction to customizing the browsing experience on platforms like YouTube using CSS selectors and coding, offering instructions with examples and screenshots."
    ],
    "points": 217,
    "commentCount": 78,
    "retryCount": 0,
    "time": 1695218011
  },
  {
    "id": 37580123,
    "title": "Add extra stuff to a “standard” encoding? Sure, why not",
    "originLink": "https://rachelbythebay.com/w/2023/09/19/badlib/",
    "originBody": "Writing Software, technology, sysadmin war stories, and more. Tuesday, September 19, 2023 Add extra stuff to a \"standard\" encoding? Sure, why not. I've built more than a few projects which use protocol buffers somewhere in them to store data or otherwise schlep it around - in files, over the network, and that kind of thing. A friend heard about this and wanted to write an implementation in another language and so I supplied the details. Everything seemed to be going fine, but then we started getting *really weird* errors when he tried to point his new client at my server process. Just trying to get the outermost \"envelope\" thing to pass would fail. This made no sense. We finally had to get down to individual bytes from the network dump to try to sort it out. Then we tried to encode \"the same thing\" and got two different results. His end was generating \"1f 0a 0b (string)\" and mine was doing \"0a 0b (string)\". Where was this extra 1f coming from? We started trying to unravel it according to the rules of protobuf: the tag of a record is a varint which comes from the field number and wire type and blah blah blah... and I won't even bother with the details here since that was also a dead end. It decoded to \"field 3, type 7\" but there isn't a type 7. There are just 0-5. So, again, WTF? What is this \"invalid wire type 7\" thing? (And yes, that string in this post is entirely deliberate.) My friend is good at this sort of thing, and so started digging in deeper... and it started looking like a length byte. It's like, wait, what? Hold on. protobufs do not work that way! They don't have their own framing. That's why recordio was invented, and countless other ways to bundle them up so you know what type they are, how long they are, and all of that other stuff. The actual binary encoding of the protobuf itself is bare bones! So what's up with this length byte? So then we started looking at this protobuf library he had selected, and sure enough, the author decided it was a good idea to prepend the message with the message length encoded as a varint. WHY? Oh, why?! And yes, it turns out that other people have noticed this anomaly. It's screwed up encoding and decoding in their projects, unsurprisingly. We found a (still-open) bug report from 2018, among others. They all manifest slightly differently, so not everyone realizes that it's all from the same root cause. The fix was dubious, but it did work: you skip the \"helper\" function that's breaking things. That gives you just the proper bytes, and then everything is happy. That's how I got both a \"second source\" for speaking my goofy RPC language and another story about wacky broken libraries at the same time. More writingContact / send feedback",
    "commentLink": "https://news.ycombinator.com/item?id=37580123",
    "commentBody": "Add extra stuff to a “standard” encoding? Sure, why notHacker NewspastloginAdd extra stuff to a “standard” encoding? Sure, why not (rachelbythebay.com) 205 points by l0b0 14 hours ago| hidepastfavorite127 comments kentonv 3 hours agoThis post&#x27;s outrage is misplaced.Protobuf encoders&#x2F;decoders commonly implement two formats: delimited format, and non-delimited format. Typically non-delimited is the default, but delimited format is supported by many implementations including Google&#x27;s main first-party ones. In fact, the Java implementation shipped with this support when Protobuf was first released 15 years ago (I wrote it). C++ originally left it as an exercise for the application (it&#x27;s not too hard to implement), but I eventually added helper functions due to demand.Both formats can be described as \"standard\", at least to the extent that anything in Protobuf is a standard.So clearly the bug here is that one person was writing the delimited format and the other person was reading the non-delimited format. Maybe the confusion was the result of insufficient documentation but certainly not from a library author doing something crazy. reply xyzzy_plugh 1 hour agoparentIt&#x27;s sort of misplaced, I&#x27;ll agree.Merely using the delimited format without any other sort of framing is almost always a bad idea because of precisely the ambiguity TFA discusses.I&#x27;m pretty sure delimited streams are rarely used in the wild instead of something more robust&#x2F;elaborate such as recordio, which specifically are almost always prefixed with a few magic bytes to mitigate this problem.Edit: Also, why is there no publicly available recordio specification? Infuriating. reply jimmytucson 11 hours agoprev> author decided it was a good idea to prepend the message with the message length encoded as a varint.> WHY? Oh, why?!Uh oh. Is this my HN moment?This is exactly how I implemented it at my company. We had to write many protobuf messages to one file in bulk (in parallel). I did a fair amount of research before designing this and didn’t find any standard for separating protobuf messages (in fact, found that there explicitly isn’t a standard in that protobuf doesn’t care). So I thought rather than using some “special” control character, like a null byte, which would inevitably be not-so-special and collide with somebody else’s (like Schema Registry’s “magic byte”), I’d use something meaningful like the number of bytes the following record is.As for why I chose varint instead of just picking an interger size, well for one I got nerd-sniped by varint encoding and thought it would be cool to try and implement it in Scala. Secondly, I thought if I chose a fixed size integer, no matter what size I pick, my users will always surprise me and exceed it at least once, and when that happens, kaboom! I wanted to future proof this without wasting 64 goddamn bytes in front of each message, and also I got nerd-sniped, OK?!?Someone on my team recently shared one of these files outside the company and so I really hope she’s not talking about me but that’s a crazy coincidence if not! reply paulddraper 5 hours agoparentCongrats :) you perfectly re-created the actual Protobuf stream format. [1]https:&#x2F;&#x2F;protobuf.dev&#x2F;reference&#x2F;java&#x2F;api-docs&#x2F;com&#x2F;google&#x2F;prot... reply NavinF 10 hours agoparentprev> didn’t find any standard for separating protobuf messagesThe fact that protobufs are not self-delimiting is an endless source of frustration, but I know of 2 standards for doing this:- SerializeDelimited* is part of the protobuf library: https:&#x2F;&#x2F;github.com&#x2F;protocolbuffers&#x2F;protobuf&#x2F;blob&#x2F;main&#x2F;src&#x2F;go...- Riegeli is \"a file format for storing a sequence of string records, typically serialized protocol buffers. It supports dense compression, fast decoding, seeking, detection and optional skipping of data corruption, filtering of proto message fields for even faster decoding, and parallel encoding\": https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;riegeli reply harvie 9 hours agorootparenthttps:&#x2F;&#x2F;msgpack.org&#x2F; reply retSava 4 hours agorootparentDoesn&#x27;t have a Brainf*k implementation, disqualified.&#x2F;s reply vore 8 hours agorootparentprevHuh? This is an entirely different serialization format altogether. reply twic 3 hours agorootparentCreate a MessagePack message containing a byte array, put the protobuf in that. Of course, the enterprise solution would be to hex encode it and put it in a CDATA section in an XML document. reply paulddraper 5 hours agorootparentprevPoster is being cute. reply formerly_proven 7 hours agorootparentprevJust stick this in front of your frames: 81 A2 70 62 C6 reply KMag 2 hours agorootparentYou got me. What&#x27;s that format &#x2F; magic number? At first I thought it was the zlib header for incompressible data, but that&#x27;s not right. Is that just the MAC address of some NIC you own? replyblauditore 9 hours agoparentprevPrepending the message with a delimiter (size varint) is pretty common, even part of the reference Java implementation: https:&#x2F;&#x2F;protobuf.dev&#x2F;reference&#x2F;java&#x2F;api-docs&#x2F;com&#x2F;google&#x2F;prot... reply pavlov 11 hours agoparentprev> “I wanted to future proof this without wasting 64 goddamn bytes in front of each message”64 bytes would be a 512-bit integer. That seems like excessive future proofing for the length of any message that would be transmitted before the Sun runs out of fuel. reply xlogout 10 hours agorootparentFun fact: just 103 more bits and it would be enough to address every point in the observable universe distinguishible by Planck length [1].Not my thought originally, I heard it from somewhere else but can&#x27;t find it. Possibly from Foone Turing.[1] https:&#x2F;&#x2F;www.wolframalpha.com&#x2F;input?i=log2%28+volume+of+unive... reply spacebanana7 5 hours agorootparentI wonder whether there’s an upper bound on the largest number that can be expressed in the observable universe.All digital representations rely on discrete states in hardware, and there’s a finite number of those in the observable universe, so there should a finite maximum number for computers. reply layer8 4 hours agorootparentDepends on what you mean by “expressed”. E.g. you can represent a busy beaver that expresses the length of its output.We don’t know if there is only a finite number of discrete states in the observable universe. The Planck length is not a discretization. reply spacebanana7 4 hours agorootparent> Depends on what you mean by “expressed”I&#x27;ll have to think about this. I want a very physical meaning of the term using values rather than references. One where the largest number that can be expressed using up&#x2F;down fingers with two hands is 1024, not a sign language reference to a googolplex. reply bee_rider 3 hours agorootparentIf you are OK with a sum constants times powers of two, would you be ok with other hyperoperations on two?https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;HyperoperationI wonder if it would be helpful to restrict the question a bit, maybe something like: what is the largest number for which the number, and also all smaller magnitude integers, can be expressed. reply carapace 3 hours agorootparentprevYou might enjoy:\"Measuring the intelligence of an idealized mechanical knowing agent\" https:&#x2F;&#x2F;philpapers.org&#x2F;archive&#x2F;ALEMTI-2.pdf\"Intuitive Ordinal Notations\" https:&#x2F;&#x2F;github.com&#x2F;semitrivial&#x2F;IONs reply ruined 3 hours agorootparentprevall expression is reference reply chaxor 5 hours agorootparentprevRelated to https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Berry_paradoxJust as a quick example of why it&#x27;s a bit absurd - I name that number you just defined $zeta$. Now I make $zeta&#x27;$ = zeta^zeta. Or whatever manipulation you like. Adding constraints is addressed in the link. reply marcosdumay 1 hour agorootparentAnd zeta&#x27; can not be expressed by any state of the visible Universe.The GP question was not about encoding, and thus is not subject to compression. The largest number we can measure of anything is a pretty well defined concept. reply benj111 9 hours agorootparentprevTbf though, I&#x27;m sure the number of cat pics floating about the internet dwarfs this number, so it depends on the data I suppose.Plus rather simple things like pi could create rather a long message. reply gumby 6 hours agorootparentI suppose pi has a cheat code: if you made the largest possible circle in the universe you only need enough digits to distinguish points on its circumference that are a Planck distance apart. Then you can either ignore any digits beyond that or even simply make them up, as there would be no way to measure the difference. reply jeffbee 4 hours agorootparentprevA related point of fact is protobufs are limited to 2G anyway. You wouldn’t need 64 bits. Anything bigger than about 100MB is dangerously large anyway. reply zX41ZdbW 4 hours agoparentprevThis is the same as it&#x27;s implemented in ClickHouse. In fact, it has two formats: `Protobuf` (with length-delimited messages) and `ProtobufSingle` (no delimiters, but only a single message can be read&#x2F;written). And it is fairly common:https:&#x2F;&#x2F;clickhouse.com&#x2F;docs&#x2F;en&#x2F;sql-reference&#x2F;formats#protobu... reply catiopatio 4 hours agorootparentConforming implementations will fail to interoperate with their “protobuf” serialization; it’s absolutely incorrect for them to call their length-prefixed framing protobuf. reply lifthrasiir 11 hours agoparentprevYou can also define a wrapper message with a single repeated field. The resulting encoding would be `varint(field id * 8 + 1) varint(length)` plus the actual message, so it can be also easily generated from and parsed back into a raw byte sequence without protoc. reply jimvdv 4 hours agoparentprevFrom my experimentation with writing my own push notification client for android, this is exactly what Google does with their push messages. reply seanw444 3 hours agorootparentIf it was for fun and to learn how, that&#x27;s fair. But are you aware of https:&#x2F;&#x2F;ntfy.sh? reply xyzzy_plugh 1 hour agorootparentprevCan you share more? reply rkangel 4 hours agoparentprevYou&#x27;ve basically got two ways of handling this:Using a delimiter to mark end of packet. For text protocols we usually use \"\\n\" to be the delimiter. This usually requires some escaping in the packet to make it unambiguous. Two standard protocols for this are SLIP and HDLC.Length encoding - like what you did.The downside of the delimiter approach is that it changes the length of the packet - when you are escaping one byte becomes two and that&#x27;s sometimes a pain if you&#x27;re doing it in place in memory (less of a problem if you&#x27;re streaming byte by byte). The big advantage is that it allows for resynchronisation - if you lose a single byte from your stream, or your length byte ever gets corrupted then you&#x27;re permanently out of sync - the receiver will never again know where the start or end of a packet is. With the delimiter approach, you just lose one packet. So if you&#x27;re ever doing this for a UART or network stream or something, always do the delimiter approach! reply hiimkeks 4 hours agorootparent> So if you&#x27;re ever doing this for a UART or network stream or something, always do the delimiter approach!I&#x27;m confused. I mean for UART, sure. But network streams is usually sent over a protocol that recovers lost data. Am I reckless for sending length-prefixed data chunks over TCP? reply rkangel 3 hours agorootparentNo, you&#x27;re right that this approach is ok for TCP streams. I shouldn&#x27;t have thrown that in there without clarification that I meant something more generic.I actually use SLIP for packetisation over TCP anyway, because then syncing for any other logging or diagnostic thing that joins halfway through is easy. Basically I find it to just be a more robust system. reply mannyv 17 minutes agorootparent\"I actually use SLIP for packetisation over TCP anyway\"Whoa, that&#x27;s an acronym I haven&#x27;t heard in a long time.SLIP&#x2F;TCP seems redundant. Your serial encoding IP then sending it over TCP&#x2F;IP? Is this a tunnel? reply NoahKAndrews 4 hours agorootparentprevA TCP network stream will guarantee no missed bytes via behind-the-scenes retransmissions, no? reply bobmcn 2 hours agoparentprevWhy not just define a higher level proto that contains all possible (maybe repeated) protos you might want to include? Then if one of the included protos is not present, the higher level proto will efficiently encode that, and nothing gets broken. reply brandmeyer 4 hours agoparentprev> isn’t a standard in that protobuf doesn’t careShove protobuf into Something Else that does packet delimitation for you. I&#x27;m fond of SQLite for offline cases as a richer alternative to sstable. reply tetrep 5 hours agoparentprevIf you want to future proof it you need to version it. It sounds like you&#x27;re trying to pack many things into a single file, so having the first few bits of the file represent a version allows you to use fixed length integers without fear of them being too small (in the future). You can reserve the \"last\" version for varint if you truly need it.In general, I find adding versions to things allows for much more graceful future redesigns and that is, IMO, invaluable if you&#x27;re concerned about longevity and are not confident in your ability to perfectly design something for the indefinite future. reply NavinF 5 hours agorootparentI don&#x27;t see the point. As soon as you bump the version number, old versions of the software will refuse to read newer files. So you might as well use a new format and file extension for the newer files. Of course the new software will read both formats.The way protobufs handles versioning (old software ignores unknown fields) is far superior and realistically everyone uses 64 bit fixed length sizes everywhere reply paulddraper 5 hours agorootparentprevYAGNIThe idea is so simple that any change would be a misfeature. reply stravant 5 hours agorootparentI&#x27;m a big YAGNI proponent but format version numbers are not something I would dare to YAGNI. reply paulddraper 4 hours agorootparentEven if it&#x27;s varint separated messages? reply catiopatio 4 hours agorootparentYou stick a magic number and a version number at the top of the file and call it done. It’s trivial and buys you a great deal.The magic means it’s possible to identify the file type. Maybe you’ll add a tool later that operates on multiple types of files.The version means you can evolve the contents in non-backwards-compatible ways, while maintaining the ability to read&#x2F;parse the old version.It’s a pain in the ass to add a magic or version number later; there’s a reason why nearly every file format on the planet has both. reply paulddraper 2 hours agorootparent> nearly every file format on the planetXMLJSONYMLTOML reply catiopatio 1 hour agorootparentnext [–]The others are serialization formats, like protobuf — they’re not file formats. replybenreesman 4 hours agoparentprevOh who hasn’t written some LengthPrefixedProtobufRecord class. I get why Rachel would be annoyed if someone claimed it was protobuf, but even then it’s like, 8 seconds in xxd to see what’s going on.I shudder to think how well shit must be going for this to merit a Rachel post. reply catiopatio 7 hours agoparentprevYour length-prefixed message frames represent a distinct serialization scheme that provides external framing for embedded messages; it’s a standalone format, and you can use whatever frame header you want without worrying about collision.The only issue is if you were to ship a “protobuf” library that emits&#x2F;consumes your (very much not protobuf) framing format.Also, a 64 bit frame length would only be 8 bytes, not 64 :-) reply paulddraper 5 hours agoparentprevDo you mean 64 bits I assume?Because that&#x27;s all you would need. reply lifthrasiir 12 hours agoprevI actually went through all projects listed in [1] because I remember this very quirk. It turns out that there are many such libraries that have two variants of encode&#x2F;decode functions, where the second variant prepends a varint length. In my brief inspection there do exist a few libraries with only the second variant (e.g. Rust quick-protobuf), which is legitimately problematic [2].But if the project in question was indeed protobuf.js (see loeg&#x27;s comments), it clearly distinguishes encode&#x2F;decode vs. encodeDelimited&#x2F;decodeDelimited. So I believe the project should not be blamed, and the better question would be why so many people chose to add this exact helper. Well, because Google itself also had the same helper [3] [4]! So at this point protobuf should just standardize this simple framing format [5], instead of claiming that protobuf has no obligation to define one.[1] https:&#x2F;&#x2F;github.com&#x2F;protocolbuffers&#x2F;protobuf&#x2F;blob&#x2F;main&#x2F;docs&#x2F;t...[2] https:&#x2F;&#x2F;github.com&#x2F;tafia&#x2F;quick-protobuf&#x2F;issues&#x2F;130[3] https:&#x2F;&#x2F;protobuf.dev&#x2F;reference&#x2F;java&#x2F;api-docs&#x2F;com&#x2F;google&#x2F;prot...[4] https:&#x2F;&#x2F;github.com&#x2F;protocolbuffers&#x2F;protobuf&#x2F;blob&#x2F;main&#x2F;src&#x2F;go...[5] Use an explicitly different name though, so that the meaning of \"encoding&#x2F;decoding protobuf messages\" doesn&#x27;t change. reply cowsandmilk 12 hours agoparentYep, and this variant to the encoding is documented at https:&#x2F;&#x2F;protobuf.dev&#x2F;programming-guides&#x2F;techniques&#x2F;#streamin...Definitely seems to be a routine addition to the standard supported by many libraries. reply lifthrasiir 12 hours agorootparent> Yep, and this variant to the encoding is documented at [...]It only suggests the length prefix and doesn&#x27;t define the exact encoding at all. reply saghm 12 hours agoprevStepping up an abstraction level in this discussion...does anyone have any insight into _why_ an encoding format wouldn&#x27;t want to have length prefixes standardized as part of the expected header of a message? From what I can tell, there isn&#x27;t a strong argument against it; assuming you&#x27;re comfortable with limiting messages to under 2^32 bits, prefixing an unsigned length should only take four bytes per message, which doesn&#x27;t seem like it would ever be a bottleneck, and it allows the receiving side of a message to know up front exactly how much memory to allocate, and it makes it much easier to write correct parsing code that also handles edge cases (e.g. making it obvious to explicitly handle a message that&#x27;s much larger than the amount of memory you&#x27;re willing to allocate). The fact that there are formats out there that don&#x27;t mandate length prefixing makes me think I might be missing something though, so I&#x27;d be interested to hear counterarguments. reply kentonv 4 hours agoparentI&#x27;d say the main arguments are:1. Many transports that you might use to transmit a Protobuf already have their own length tracking, making a length prefix redundant. E.g. HTTP has Content-Length. Having two lengths feels wrong and forces you to decide what to do if they don&#x27;t agree.2. As others note, a length prefix makes it infeasible to serialize incrementally, since computing the serialized size requires most of the work of actually serializing it.With that said, TBH the decision was probably not carefully considered, it just evolved that way and the protocol was in wide use in Google before anyone could really change their mind.In practice, this did turn out to be a frequent source of confusion for users of the library, who often expected that the parser would just know where to stop parsing without them telling it explicitly. Especially when people used the functions that parse from an input stream of some sort, it surprised them that the parser would always consume the entire input rather than stopping at the end of the message. People would write two messages into a file and then find when they went to parse it, only one message would come out, with some weird combination of the data from the two inputs.Based on that experience, Cap&#x27;n Proto chose to go the other way, and define a message format that is explicitly self-delimiting, so the parser does in fact know where the message ends. I think this has proven to be the right choice in practice.(I maintained protobuf for a while and created Cap&#x27;n Proto.) reply mannyv 14 minutes agorootparentAbout #1, FYI you should never trust the content-length of an HTTP request. It actually says that in one of the spec versions or another.The problem with writing the length out at the beginning of the message is that you need to know the length before you write it out. For large objects that may cause memory issues&#x2F;be problematic.In many cases it works just fine. I doubt any protocol puts a \"0\" as the length for a dynamic length, but I can see a many-months long technical fight about that particular design decision. reply marcosdumay 51 minutes agorootparentprevAbout #2, it seems that every time someone creates some format with a prefix serialized size, the next required step is creating a chunked format without that prefix.What IMO is perfectly ok. Chunking things is a perfectly fine way to allow for incremental communication. Just do it up-front, and you will not need the complexity of 2 different sizing formats. reply kentonv 41 minutes agorootparentIn truth, the vast majority of protobuf users do not construct messages in a streaming way anyway; they have the whole message tree in memory upfront and the serialize it all at once.\"Streaming\" in gRPC (or Cap&#x27;n Proto) involves sending multiple messages. I think this is probably the right approach. Otherwise it seems very hard to use a message as its streaming in as you can never know which fields are not present vs. just haven&#x27;t arrived yet. But representing a stream as multiple messages leaves it up to the application to decide what it wants in each chunk, which makes sense. reply gizmo686 12 hours agoparentprevIn general, the issue is with composition. Your full message is someone else field. Having a header that only occurs in message initial position breaks this.For protobuffs in particular, I have no idea. If you look at the encoding [0], you will see that the notion of submessages are explicitly supported. However, submessages are preceeded by a length field, which makes the lack of a length field at the start of the top-level message a rather glaring omission. The best arguement I can see is that submessages use a tag-length-value scheme instead of length-value-tag. This is because in general protobufs use a tag-value scheme, and certain types have the begining of the value be a length field. This means that to have a consistent and composable format, you would need to message length to start at the second byte of the message. Still, that would probably be good enough for 90% of the instances where people want to apply a length header.[0] https:&#x2F;&#x2F;protobuf.dev&#x2F;programming-guides&#x2F;encoding&#x2F; reply lifthrasiir 11 hours agorootparentProtobuf is sort of unique in the serialization format that it can be indefinitely extended in principle. (BSON is close, but has an explicit document size prefix.) For example, given the following definition: message Foo { repeated string bar = 1; }Any repetition of `09 03 41 42 43` (a value \"ABC\" for the field #1), including an empty sequence, is a valid protobuf message. In the other words there is no explicit encoding for \"this is a message\"! Submessages have to be delimited because otherwise they wouldn&#x27;t be distinguishable from the parent message. reply DougBTX 10 hours agorootparentThis is an interesting design decision between protobuf and cap’n proto, one has “repeated field of type X” while the other has “field of type list of X”. So one allows adding a repeated&#x2F;optional field to a schema without re-encoding any messages, while the other supports “field of type list of lists of X” etc. reply kentonv 4 hours agorootparent> So one allows adding a repeated&#x2F;optional field to a schema without re-encoding any messages,Hmm don&#x27;t they both allow that? Or am I misunderstanding what you mean here?I guess the interesting (though only occasionally useful) thing about protobuf is if you concatenate two serialized messages of the same type and then parse the result, each repeated field in the first message will be concatenated with the same field in the second message. reply nly 9 hours agorootparentprevYes, \"submessages\"in Protobuf have the same field serialisation as stringsThe field bytes dont really encode tag and type, they encode tag and size (fixed 32bit, 64bit or variable length)Protobuf is a TLV format. In that regard, it&#x27;s not unique at all. reply HelloNurse 5 hours agorootparentprevSo the length of the submessage is part of its parent, and the top level message has no explicit length because it has no parent? It seems terrible for most purposes. reply pyrale 10 hours agorootparentprev> Having a header that only occurs in message initial position breaks this.Why would it break it? It may make it slightly harder to parse, but since the header also determines the end of the message, anyone parsing the outer message would have a clear understanding that the inner header can be safely ignored as long as the stated outer length has not been matched. reply saghm 9 hours agorootparentYeah, it&#x27;s not clear to me why this is an issue either. I&#x27;d expect that parsers would be written as \"parse length, if it&#x27;s valid, allocate that many bytes and read them in, then parse those bytes as a message\". reply jchw 11 hours agoparentprevAmong other things, length prefixing is annoying when streaming; it basically requires you to buffer the entire message, even if you could more efficiently stream it in chunks, because you need to know the length ahead of time, which you may very well not. reply Ginden 5 hours agorootparent> length prefixing is annoying when streamingThis can be avoided by magic number. If length is 0, then message length isn&#x27;t known. reply jchw 3 hours agorootparentThat does leave one problem: you still need a way to segment your stream. Most length-prefixed framing schemes do not have any way to segment the stream other than the length prefix. What you wind up wanting is something like chunked encoding.(Also, using zero as a sentinel is not necessarily a good idea, since it makes zero length messages more difficult. I&#x27;d go with -1 or ~0 instead.) reply Cthulhu_ 3 hours agorootparentprevOr it doesn&#x27;t have a length. For messaging protocols - or in general - magic should be avoided at all times. reply cjbgkagh 10 hours agorootparentprevIf you have random access, you could leave some space and then go back and fill in the actual length value. Would work better with fixed size integer as you know ahead of time how much space to leave. reply ahoka 6 hours agorootparentJust leave some empty electromagnetic waves in the cables before your message, got it. reply iainmerrick 10 hours agorootparentprevIf you’re streaming, you generally don’t have random access. reply mirekrusin 12 hours agoparentprevYou may want to have yield&#x2F;streaming senantics where length is not know in advance. reply throw0101c 5 hours agoparentprev> and it allows the receiving side of a message to know up front exactly how much memory to allocateNot necessarily. Can you really trust the length given from a message? Couldn&#x27;t a malicious sender put some fake length to fool around with memory allocation?I was under the impression that something like this caused Heartbleed (to use one example):* https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Heartbleed reply simiones 5 hours agorootparentHeartbleed was caused by allowing the user to specify the length of the response, not that of a request.When receiving a message, if the user gives you a wrong length, you&#x27;ll simply fail in parsing their message. Of course, it is up to you to protect against DOS attacks (like someone sending you a 5 TB message, or at least a message that claims it is 5TB) - but that is necessary regardless of whether they tell you the size ahead of time or not.With heartbleed, a user sent a message saying \"please send me a 5MB large hearbeat message\", and OpenSSL would send a 5MB re-used buffer, of which only the first few bytes were overwritten with the hearbeat content. The rest of the bytes were whatever remained out of a previous use of the buffer, which could be negotiated keys etc. reply lifthrasiir 12 hours agoparentprevThe length should be known in advance in order to be written, so the message cannot be incrementally written. You need more complex framing scheme like Consistent Overhead Byte Stuffing for that. And many applications do want a variable number of length bytes because i) 4 bytes is actually too long for short messages and ii) some message can exceed 2^32 bytes. Not to say the generic varint encoding is good for this purpose, though [1].[1] If you ever have to design one, make sure that reading the first byte is enough to determine the number of subsequent length bytes. reply saghm 9 hours agorootparent> 4 bytes is actually too long for short messagesWould it ever be an actual bottleneck though? If it&#x27;s not actually impeding throughput, I feel like this is more of an aesthetic argument than a technical one, and one where I&#x27;d happily sacrifice aesthetics to make the code simpler.> some message can exceed 2^32 bytesFair enough, but that just makes the question \"would 8 bytes per message ever actually be a bottleneck\", which I&#x27;m still not convinced would ever be the case reply lifthrasiir 7 hours agorootparentI agree that 4 byte overhead in a single item is not a big deal even when the item itself is short. But if you have multiple heterogeneous items, it becomes worthwhile to set an upper bound for the relative ratio of overhead over data. (SQLite, for example, makes extensive use of varints for this reason [1].) I personally think a single byte overhead is worthy for sub-100-byte data, while larger ones should use a fixed size prefix because the overhead is no longer significant.[1] https:&#x2F;&#x2F;www.sqlite.org&#x2F;fileformat.html#record_format reply catiopatio 7 hours agorootparentprevI work on an embedded OS where our IPC buffer is only about 140 bytes.Anything more requires multiple IPCs, with lots of expensive context switches.Wasting even one precious byte on a pointless header would absolutely be an issue in this environment. reply throwaway8163 12 hours agoparentprevSome compression formats such as gzip support encoding streams.This is useful when you don&#x27;t know the size in advance, or if you compress on demand and want the receiver to start reading while the sender is still compressing.One example could be a web service where you request dynamic content (like a huge CSV file). The client can start downloading earlier, and the server doesn&#x27;t need to create a temporary file. The web service will stream the results directly and encoding it in chunks. reply lifthrasiir 12 hours agorootparent> Some compression formats such as gzip support encoding streams.More accurately speaking gzip (and many other compressed file formats) has the file size information, but that information should (or can, for others) be appended after the data. Protobuf doesn&#x27;t have any such information, so a better analogue would be the DEFLATE compressed bytestream format. reply mxmlnkn 8 hours agorootparentGzip in particular has more something akin to a size checksum appended at the end, i.e., decompressed size modulo 2^32. This is not very helpful, especially as the maximum compression ratio is ~1032, it means that this \"size\" could already overflow for a gzip file that is only 4 MiB in compressed size.https:&#x2F;&#x2F;stackoverflow.com&#x2F;a&#x2F;69353889&#x2F;2191065 reply chrisdew 6 hours agoparentprevProtobuf over UDP can use the UDP payload length. Likewise for the many variants of self-sychronising DLE framing (DLE,STX..DLE,ETX) used on serial links.A varint length field prepended to protobuf messages (sent over a reliable transport, such as TCP) seems sane. reply bloak 9 hours agoparentprevStreaming has already been mentioned. Efficiency might be another argument. If your messages are typically being sent through a channel that already has a way of indicating the end of the message then having to express the length inside the message as well would be a useless overhead in bytes sent and code complexity. reply saghm 9 hours agorootparentThis assumes that only messages from controlled sources will be received though, right? If you&#x27;re receiving messages over a TCP socket or something similar, that seems like a potentially flawed assumption; I&#x27;d think anything parsing messages coming from the network should be written in a way that explicitly accounts for malicious messages coming from the other side of a connection.EDIT: I&#x27;m also still not any more convinced that four bytes per message would ever be a bottleneck for any general purpose protocol, but I&#x27;d be curious to hear of a case where that would actually be an issue. reply bloak 8 hours agorootparent> This assumes that only messages from controlled sources will be received though, right?I don&#x27;t think so. The question of whether you trust the length indication to be correct (you almost certainly shouldn&#x27;t) seems to me to be independent of whether the length indication comes from inside the message or from some outside wrapper. reply nly 8 hours agorootparentprevFor a slow protocol like protobufs that is rarely streamed, I agree a length prefix should be the defaultOne way to make streaming work is just to allow the length value to be bigger than needed and add a padding scheme at the end of the message. This is overhead free in terms of processing time since fields must be decoded sequentially anyway. reply tetromino_ 5 hours agorootparent> For a slow protocol like protobufs that is rarely streamed...In my experience, protobufs are often streamed, especially in the cases where performance matters. reply catiopatio 7 hours agoparentprevFraming is a distinct concern from payload serialization.Most protocols and serialization formats already define a form of length-prefixed framing; requiring that a protobuf payload also carry such a header would simply be a waste of bytes.Additionally, it ensures that protobuf can be serialized and streamed without first computing the payload length, which would require serializing the entire message first. reply nly 9 hours agoprevPedantry regarding the article:The field prefix byte in Protobuf doesn&#x27;t really encode \"tag and type\" as stated in the article, it encodes tag and size (whether the field is fixed 64bit, fixed 32bit, varint, or variable size)This is pretty self evident when you look at how submessages are encoded the same way as strings, both are just arbitrary variable length blobs.You cannot reliable determine from a Protobuf message whether a field is an integer, a double, a bool, or an enum without the schema.Protobufs is a TLV format that just happens to have a compact binary encoding. reply blauditore 9 hours agoprevIsn&#x27;t this exactly what `writeDelimitedTo` does? https:&#x2F;&#x2F;protobuf.dev&#x2F;reference&#x2F;java&#x2F;api-docs&#x2F;com&#x2F;google&#x2F;prot...I thought this was common and well-known, but apparently not. reply rf15 3 hours agoprevIn my job I often have to deal with developers who were supposed to implement a standard and went with a \"more like guidelines\" mentality. So I&#x27;m with the author here: Either you claim to support protobuff and fully implement the spec as-is, or you cannot claim to support protobuf (with maybe some leeway on a \"receive-only\" label if you support a superset). Otherwise you have to name&#x2F;specify your protocol modification. reply ninepoints 7 hours agoprevFolks, if you send raw PB over the wire in a protocol without framing, it _needs_ to be length prefixed somehow. This type of \"bug\" isn&#x27;t an unreasonable thing to do, nor uncommon even. If I had a gripe, it&#x27;s that I hate varints. Lots of wasted cycles to save not that many bytes in the grand scheme of things, especially when you consider other forms of compression layered on top, MTU, etc. reply catiopatio 7 hours agoparentIt’s absolutely an unreasonable thing to do.You don’t conflate framing with payload by emitting invalid non-standard framed data from a “protobuf” encoder. They’re separate concerns and need to remain that way. reply ninepoints 3 hours agorootparentIf you read the post, the conclusion is:> you skip the \"helper\" function that&#x27;s breaking things.Yea ok, I&#x27;m just going to assume this helper function added framing unless told otherwise. Where in this post did you even read that framing and payload data were conflated (not to mention that there are better protocols that include framing metadata). reply lowbloodsugar 5 hours agorootparentprevExcept that it’s part of the official implementation from google. It’s how you write multiple such messages to a stream. reply catiopatio 4 hours agorootparentThere’s a non-default `writeDelimitedTo()` that emits a length-prefixed message.The result is not protobuf and doesn’t claim to be.Looking at my employer’s protobuf runtime for our major programming language, we don’t even support it. reply lowbloodsugar 4 hours agorootparentreading and writing length delimited messages is part of the official implementations. [1] I don&#x27;t understand the claim of \"non-default\". There are multiple ways to write protobuf data, and this is one of them. It&#x27;s actually the only one I&#x27;ve ever used, because why would you not?If your implementation doesn&#x27;t support something in the reference implementation, that seems like your problem, not anyone else&#x27;s.[1] https:&#x2F;&#x2F;protobuf.dev&#x2F;reference&#x2F;csharp&#x2F;api-docs&#x2F;class&#x2F;google&#x2F;... reply catiopatio 2 hours agorootparent> It&#x27;s actually the only one I&#x27;ve ever used, because why would you not?Because it’s not part of the protobuf specification, not part of a valid protobuf message, and framing is a transport&#x2F;file format concern and should not be performed by default.If someone is expecting to receive a protobuf-encoded payload, it must not include a framing header.> If your implementation doesn&#x27;t support something in the reference implementation, that seems like your problem, not anyone else&#x27;s.Someone else’s failure to follow the spec is not our problem. replykpw94 13 hours agoprev> we started looking at this protobuf library he had selected, and sure enough, the author decided it was a good idea to prepend the message with the message length encoded as a varint.> WHY? Oh, why?!> And yes, it turns out that other people have noticed this anomaly. It&#x27;s screwed up encoding and decoding in their projects, unsurprisingly. We found a (still-open) bug report from 2018, among othersIf anyone knows which library&#x2F;language these issues the author is talking about are in, please tell us. I&#x27;d like to avoid that library if possible reply loeg 13 hours agoparent> If anyone knows which library&#x2F;language these issues the author is talking about are in, please tell us.https:&#x2F;&#x2F;github.com&#x2F;protobufjs&#x2F;protobuf.js&#x2F;issues&#x2F;987 maybe (based on \"And yes, that string in this post is entirely deliberate\"). reply simiones 5 hours agorootparentThis is a bug related to decoding what the user believe is a protobuf file but actually is a length-prepended protobuf file. The article would complain about whoever wrote that file, not about the code that is reading it. reply WirelessGigabit 12 hours agoparentprevhttps:&#x2F;&#x2F;github.com&#x2F;protobufjs&#x2F;protobuf.js&#x2F;wiki&#x2F;How-to-revers...Prepending the message with the length means the message is length-limited. Seems standard practice here. reply gabipurcaru 5 hours agorootparentyep, I think it&#x27;s quite standard. The BitTorrent protocol also uses it extensively : https:&#x2F;&#x2F;wiki.theory.org&#x2F;BitTorrentSpecification#Bencoding reply vlovich123 13 hours agoparentprevI feel like I recall seeing something similar in nanopb. reply lowbloodsugar 5 hours agoparentprevThat would be the official implementations of protobuf from the people that created it. reply radarsat1 7 hours agoprevNot protobuf, but liblo, a library I maintain for Open Sound Control, ended up supporting two different packetization standards for stream-based transmission, because there was a lack of this in the original specification.Originally OSC was intended to be \"transport independent\" and in practice only used for UDP transmission, so packetization was left as a problem for implementations to figure out. Cue the predictable problem of different incompatible ideas.In the specification update it was suggested to use SLIP encoding for packetization, but prior to this the library had already implemented exactly this kind of length-prefix encoding. So now the library allows to select one or the other for sending, and for backwards compatibility on reception the library tries to sniff which packetization protocol is in use. (Fortunately OSC has a predictable first character, and 99% of the time this does not line up with the first byte of the length prefix, so when it starts with that character, the software switches to SLIP mode and scans for the end-of-packet code, otherwise it assumes there is a length prefix.)It&#x27;s not ideal, but it works. But it would have been simpler if the original specification had mentioned stream-based transmission. I still get the occasional question about \"what are these extra bytes\" at the beginning of the message when TCP is used.Overall I find that a lot of standards have had to be hacked a bit to support packetized transmission, including JSON [0], etc. It&#x27;s an odd thing to leave out, but admittedly it is indeed a transport problem and most often not considered part of the \"file format\". So I don&#x27;t know what the best solution is, but I guess it would be good if data format specifications say something about how to handle multiple serialized instances in a stream if no other standards apply.Interestingly YAML seemed to have thought about this with the \"---\" and \"...\" symbols, even in version 1.0 of the spec [1].[0]: https:&#x2F;&#x2F;jsonlines.org&#x2F;[1]: https:&#x2F;&#x2F;yaml.org&#x2F;spec&#x2F;1.0&#x2F;index.html reply userbinator 13 hours agoprevThey don&#x27;t have their own framing....and thus it was added.We finally had to get down to individual bytes from the network dump to try to sort it out.The perils of abstraction strike again. Chances are that if you had just written the code to directly send and receive the data you wanted, since you control both ends and know exactly what the bytes will be, you&#x27;d never have run into this. reply eru 12 hours agoparent> Chances are that if you had just written the code to directly send and receive the data you wanted, since you control both ends and know exactly what the bytes will be, you&#x27;d never have run into this.Instead you would have run into different problems.. reply lifthrasiir 12 hours agoparentprevIt&#x27;s indeed a shame that protobuf has so many bit patterns available for the first byte (lowermost 3 bits can&#x27;t be 6 or 7, and 4 cannot be also used alone), and some of them could have been used for a unified length-delimited framing format. reply makeitdouble 13 hours agoprevOn one side it&#x27;s not great, it could be made more obvious to the library user.On the other side, if they wrote multiple projects and never noticed the behavior, how bad can it be ?It would be interesting if that extra header optimized the processing a lot, pushing other libraries to have it as an option. reply alexchamberlain 13 hours agoparent> On the other side, if they wrote multiple projects and never noticed the behavior, how bad can it be ?Many projects will choose a standard encoding to give them language independence, but start by using the same language and libraries on both ends of the pipe. Therefore,you might not notice the library is incompatible until quite late in a project&#x27;s development when you try to replace a component with a seemingly compatible, alternative implementation. reply 0xDEAFBEAD 12 hours agorootparentIt looks like Protobuf actually has a test suite to ensure compliance with the protocol:https:&#x2F;&#x2F;github.com&#x2F;protocolbuffers&#x2F;protobuf&#x2F;tree&#x2F;main&#x2F;confor...Seems like a good idea for protocols in general to have an official test suite, as a way to address this problem reply sa46 12 hours agorootparentThe conformance suite tests encode and decode for single messages; you wouldn’t run it for a custom framing implementation; The gRPC interop tests are closer to what you’d want.Framing appears higher up the stack, as an RPC transport, or structured storage like the recordio format referenced by the author. The article sounds like the client expected application&#x2F;protobuf but the server sent application&#x2F;custom-protobuf-framing. reply lifthrasiir 11 hours agorootparentI think it is easy to confuse the serialization format from framing because many serialization formats do self-delimit. And the protobuf terminology of \"message\" may suggest framing... replybasicoperation 10 hours agoprevI spent several hours earlier this year helping a colleague debug a protobuf deserialisation error, where I noticed that the first byte was a varint-encoded length of the rest of the data! He did eventually get things working, though I never followed up on the root cause.I can’t wait to get back from vacation to ask if it was this. reply notpushkin 9 hours agoprevWebsite looks down to me, here&#x27;s an archive copy: https:&#x2F;&#x2F;archive.ph&#x2F;OkylM reply jk_i_am_a_robot 5 hours agoprevEverybody discovers too late that protocol buffers doesn&#x27;t have any typing and then hacks on a header solution of their own. Tale as old as time. reply lowbloodsugar 4 hours agoprevIn fact the sender chose the standard writeDelimited and the receiver chose to read without the delimiter.Both ways are in the standard, but both ends have to agree. One could argue that is a flaw in protobuf itself, but the problem here was not a non-standard implementation.The problem here was lack of experience and hasty finger pointing. reply jeffbee 12 hours agoprevThis is very similar to a trap I fell into with some off-brand LZ4 libraries that are laying around on Github. One, called \"golz4\" sounded harmless but it&#x27;s actually designed to be compatible with this python mistake: https:&#x2F;&#x2F;python-lz4.readthedocs.io&#x2F;en&#x2F;stable&#x2F;lz4.block.htmlLength-prefixing an otherwise standard format, by default, kept me confused for some hours. reply xyzzy_plugh 1 hour agoparentYes, I fall into this trap several times a decade as well. It&#x27;s incredibly annoying. Especially when you&#x27;re reading a spec and it says \"LZ4\" but implementations implicitly expect the length prefix.Drives me nuts! reply cratermoon 13 hours agoprev [–] What library was that, so I know to avoid it? reply loeg 13 hours agoparenthttps:&#x2F;&#x2F;github.com&#x2F;protobufjs&#x2F;protobuf.js&#x2F;issues&#x2F;987 maybe (based on \"And yes, that string in this post is entirely deliberate\"). reply cowsandmilk 11 hours agorootparentSeems like protoduf.js has the exact same methods as Google’s implementations with the same names (encode&#x2F;decode to not prepend with length, encodeDelimited&#x2F;decodeDelimited for prepending length). It is hard for me to say they’re adding to the standard when they’re just replicating Google’s libraries.https:&#x2F;&#x2F;github.com&#x2F;protobufjs&#x2F;protobuf.js#toolset reply cratermoon 13 hours agorootparentprevAh yes, you&#x27;ve got it. reply upon_drumhead 13 hours agoparentprev [–] KRPC perhapshttps:&#x2F;&#x2F;krpc.github.io&#x2F;krpc&#x2F;communication-protocols&#x2F;tcpip.ht... replyApplications are open for YC Winter 2024 GuidelinesFAQListsAPISecurityLegalApply to YCContact Search:",
    "originSummary": [
      "The author experienced issues with protocol buffers implementation in a different programming language, citing an extra byte in the encoding as the cause of decoding problems.",
      "It was found out that the library they were using added an unstandardized length byte to the message, contributing to these issues.",
      "Upon identifying a workaround, the problem was successfully addressed."
    ],
    "commentSummary": [
      "The dialogue discusses several characteristics of the Protobuf encoding system, including its use of delimited format and consideration of message length encoding.",
      "The article brings up concerns of redundancy, ambiguity, and compatibility issues between Protobuf and other protocols or libraries.",
      "There's a debate about the effectiveness of Protobuf.js, with mentions of alternatives like KRPC. Also noted is that applications are open for YC Winter 2024."
    ],
    "points": 205,
    "commentCount": 125,
    "retryCount": 0,
    "time": 1695181129
  },
  {
    "id": 37579595,
    "title": "A simple web server written in Awk",
    "originLink": "https://github.com/crossbowerbt/awk-webserver",
    "originBody": "Skip to content Product Solutions Open Source Pricing Search or jump to... Sign in Sign up crossbowerbt / awk-webserver Public Notifications Fork 9 Star 157 Code Issues Pull requests Actions Projects Security Insights crossbowerbt/awk-webserver master 1 branch 0 tags Go to file Code Latest commit Emanuele Acri renamed README.md cfd2e13 Git stats 2 commits Files Type Name Latest commit message Commit time README.md renamed README.md webserver.awk first commit README.md Simple webserver written in gawk A simple webserver written in GNU awk, that supports directory listing and download of files from the directory where it is launched. It is born as an experiment, to demonstrate the power of the awk language. Usage The script must be executed through a TCP wrapper. I use this little shell script that requires socat: while [ 1 ]; dosocat TCP-LISTEN:8888,reuseaddr EXEC:\"gawk -f webserver.awk\"sleep 1 done You can then connect to the local 8888 port with your browser. Enjoy! About A simple webserver, written in GNU awk, that supports directory listing and download of file from the directory where it is launched Resources Readme Activity Stars 157 stars Watchers 4 watching Forks 9 forks Report repository Releases No releases published Packages No packages published Languages Awk 100.0% Footer © 2023 GitHub, Inc. Footer navigation Terms Privacy Security Status Docs Contact GitHub Pricing API Training Blog About",
    "commentLink": "https://news.ycombinator.com/item?id=37579595",
    "commentBody": "A simple web server written in AwkHacker NewspastloginA simple web server written in Awk (github.com/crossbowerbt) 185 points by keepamovin 15 hours ago| hidepastfavorite63 comments dmux 13 hours agoIf you enjoy stretching what you can get done with limited environments, I recently discovered BusyBox includes not only an AWK implementation but an HTTP server[0] that supports CGI as well. I spent a weekend setting up a really simple web-app using recutils [1] as the database and BusyBox AWK as the programming language.If you enjoy bricolage and you feel like wasting a weekend, I would recommend giving it a try![0] https:&#x2F;&#x2F;openwrt.org&#x2F;docs&#x2F;guide-user&#x2F;services&#x2F;webserver&#x2F;http....[1] https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;recutils&#x2F; reply Aachen 6 hours agoparentThat looks so featureful (thinking of attack surface here), you might as well install a regular web server at that point. What&#x27;s the benefit of using busybox for this?Edit: ah is this file size? Or does this refer to RAM? Either way, sounds like that&#x27;s the benefit> BB httpd can be compiled with only basic features like CGI and ETag and will have only 8Kb reply Crestwave 6 hours agorootparentBusyBox provides a complete set of POSIX utilities and more in a single minimal binary; there are lots of embedded systems with pretty much just BusyBox installed, although I&#x27;m not sure how common it is to compile it with httpd. GP linked an OpenWRT article, so I&#x27;m guessing (the site seems to be down) it&#x27;s included in that OS. reply chasil 4 hours agorootparentI have found that busybox awk:1. Does not implement the GNU networking extensions.2. Does not implement the GNU array sorting extensions.3. Does implement the mktime() and strftime extensions.I see that there is a call to stat() in the code; I didn&#x27;t know that GNU added this. reply drzaiusx11 6 hours agoprevFor those who like simple shell tools taken to extremes, this sed script implements \"Super Mario Level 1 for the NES\"https:&#x2F;&#x2F;github.com&#x2F;chebykinn&#x2F;sedmario reply wigster 2 hours agoparentcrazy. lol reply hackideiomat 10 hours agoprev> gsub(&#x2F;\\&#x2F;\\.\\.&#x2F;, \"&#x2F;\", request_filename) # avoid directory trasversalHmmmmhttp:&#x2F;&#x2F;localhost:8888&#x2F;....&#x2F;....&#x2F;....&#x2F;....&#x2F;....&#x2F;....&#x2F;...&#x2F;....... reply tmsbrg 10 hours agoparentdamn, you beat me to it.Was gonna write:http:&#x2F;&#x2F;localhost:8888&#x2F;....&#x2F;....&#x2F;....&#x2F;....&#x2F;....&#x2F;....&#x2F;etc&#x2F;host...mypcThese regex substitutions are so easy to bypass :) reply hackideiomat 10 hours agorootparentAlways fun :D reply pmarreck 15 minutes agoparentprevchange that to:> gsub(&#x2F;\\&#x2F;\\.\\.+\\&#x2F;?&#x2F;, \"&#x2F;\", request_filename) # avoid directory trasversal reply x-complexity 7 hours agoparentprevAll this tells me is that preventing directory traversals can only be done by checking absolute file paths are within a bounded range, and nothing else. reply nonameiguess 3 hours agorootparentRunning the server as a service account that can only read its own directories, running it in a chroot, running it in a mount and pid namespace, using SELinux to further restrict what files it can read even in principle.Of course, if you&#x27;re trying to go superminimal anyway, it&#x27;s not that big a deal to create a server that doesn&#x27;t even have sensitive data on it. You can make init simply mount a root filesystem that only has busybox and whatever files you want to serve and starts up the httpd process and nothing else. Turn Linux into a unikernel basically. If you compile busybox yourself, you&#x27;re also able to remove all the subcommands you don&#x27;t actually need. reply Yannik_Sc 10 hours agoprevIf I got this term correctly, these days it would rather be a \"Serverless webserver in awk\". Also sounds more catchy. reply hi41 3 hours agoprevI love when people do projects with awk! I received my awk 2nd edition book just yesterday! I am so excited about reading it! reply abecedarius 1 hour agoparentCool news -- I liked the first edition a lot back in the 90s. reply pmarreck 54 minutes agoparentprevI&#x27;ve heard of Awk for years and (probably like many) only used it for single-line snippets for the vast majority of that time.Imagine my surprise when I just decided to look into it one day (after finding slightly more complex Awk scripts that did a lot with very little code which piqued my curiosity) and finding this very nice line-oriented DSL that has aged SHOCKINGLY well given how old it is.I just wish it had interrupt handling of some sort without running a custom fork&#x2F;patched version reply tyingq 9 hours agoprevAh, I had posted a golfed silly gawk webserver here some time ago. It uses gawk&#x27;s built in tcp.https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=22085459Pretty printed: https:&#x2F;&#x2F;gist.github.com&#x2F;tyingq&#x2F;4e568425e2e68e6390f3105e58878... reply tripflag 5 hours agoparentneat! i was aware of bash&#x27;s built-in tcp client at &#x2F;dev&#x2F;tcp, but gawk being able to function as a tcp server is way cooler. Thanks for that bit of knowledge :> reply dzove855 3 hours agorootparentActually, bash has now a loadable builtin to listen on tcp socket. I wrote a script and the patch. https:&#x2F;&#x2F;github.com&#x2F;dzove855&#x2F;Bash-web-serverThe patch is now included in bash 5.2 reply tyingq 3 hours agorootparentExcellent! Looking forward to your pure bash TLS implementation next :) reply Aachen 6 hours agoprevWhat does the loop and sleep 1 do? Is that to respawn upon crashes (why&#x27;d it crash?) or does it exit socat after handling a request?I recently made a netcat webserver returning only one static response just to have a tiny info page for my new email server, that needs a while true loop but no sleep. I then benchmarked the performance and was very surprised to find that a slow VPS manages [spoiler answer] https:&#x2F;&#x2F;lgms.nl&#x2F;p&#x2F;cau&#x2F;?b64&bY%2FBTsQwDER%2FZbivViDxAxw58Q1pO... Performance graph: https:&#x2F;&#x2F;snipboard.io&#x2F;Vtn0MO.jpg reply tyingq 6 hours agoparentIt&#x27;s a one-shot awk script. Handle one request and exit. reply Aachen 6 hours agorootparentHuh okay, then why the sleep?! That kills performance but why&#x27;d you do that reply Crestwave 6 hours agorootparentThe sleep is probably to prevent endless revival of the script when you try to cancel it with Ctrl-C. But yeah, it&#x27;s not ideal considering you can&#x27;t make more than one request within a second. reply Aachen 4 hours agorootparentCould if [ -f &#x2F;tmp&#x2F;dontrespawn ]; then break; fiInstead of sleeping, you can create that file when you want it to stop. But perhaps that&#x27;d imply that someone would genuinely use this rather than only developing it as a toy reply tyingq 6 hours agorootparentprevNo idea, not my script. Socat does support this kind of syntax, which would seem better suited in this case. socat -v -v TCP-LISTEN:8080,reuseaddr,fork SYSTEM:&#x2F;some&#x2F;scriptIt also has a settable max-children so you can put some bounds on it.I did post another comment where I shared my gawk webserver, but I&#x27;m not using socat. reply metadat 15 hours agoprevIt&#x27;s funny how closely this resembles nginx.conf. reply dosk 13 hours agoparent23 years earlier https:&#x2F;&#x2F;marek.terminus.sk&#x2F;prog&#x2F;hawkh.tgzhomepage https:&#x2F;&#x2F;marek.terminus.sk&#x2F;prog&#x2F;hawkh.shtml reply metadat 13 hours agorootparentMarek&#x27;s achieves it without socat, using only cat and sh built-ins. Badass OG. reply arpa 12 hours agorootparenta small nitpick - it uses inetd, which actually handles the network stuff allowing you to work on stdin&#x2F;stdout. At least that&#x27;s what i remember from 2003(?) when i wrote an identd for conntracked connections in bash. reply debarshri 2 hours agoprevIt must be a very awk-ward service to deploy. reply mdale 14 hours agoprevAwwwwk such a cute web server :) reply thricegr8 4 hours agoprevI know this seems the antithesis, but I&#x27;ve always wondered if you could fold and mangle cURL to actually act as a web server? reply tyingq 4 hours agoparentI don&#x27;t think so. Poking around the source code, the only thing exposed in the cli client around listen() and accept() is related to FTP, because of the way FTP works. It does mean, though, that libcurl has functions like Curl_conn_tcp_listen_set() and Curl_conn_tcp_accepted_set() that could be used for what you&#x27;re describing. It&#x27;s just that they are only used for FTP now. reply LispSporks22 11 hours agoprevI thought you could listen() accept() in modern awks. reply tyingq 8 hours agoparentSort of. Gawk supports magic file names like \"&#x2F;inet&#x2F;tcp&#x2F;8080&#x2F;0&#x2F;0\" to be a tcp client or server, but you don&#x27;t get control of accept()...it&#x27;s all mooshed together. So you can make a slow, single threaded webserver with it.Which is too bad, because the usually shipped gawk extensions also give you fork. If they had separated listen() and accept(), you could actually make a reasonable webserver. See my other comment for an example of what you&#x27;re limited to. reply notorandit 12 hours agoprevYou can achieve the same in bash. With no so at. reply cf100clunk 1 hour agoparentCould you post a bash string or script that does this? reply iamcreasy 14 hours agoprevInteresting, but what is a TCP wrapper? reply kstrauser 13 hours agoparentSomething that handles the TCP connections and passes them to the wrapped program’s stdin and stdout. Back in the day, lots of network daemons were written as command line tools and executed via inetd. reply kqr 7 hours agorootparentIs there a modern solution for this that isn&#x27;t some variant of FastCGI? I know it&#x27;s inadvisable but sometimes I would like to write a proof of concept that doesn&#x27;t require me to code a reliable, long-running process. reply kstrauser 2 hours agorootparentinetd still exists. I’d probably just use that.Edit: There&#x27;s a CGI plugin for Caddy that looks easy to set up: https:&#x2F;&#x2F;github.com&#x2F;aksdb&#x2F;caddy-cgi reply ncruces 6 hours agorootparentprevCompile a CGI program in any language to WASI, then use https:&#x2F;&#x2F;github.com&#x2F;deislabs&#x2F;wagi to run it. reply calvinmorrison 14 hours agoprevthen on top of that you can run werc a web framework written entirely in rc, save for a few of the filters which i think are awk files (like the markdown2html converter) reply NonEUCitizen 15 hours agoprev [–] \"requires socat\" reply keepamovin 14 hours agoparentFor tcp. There&#x27;s another one which uses GAwk&#x27;s internal tcp stack, but I wasn&#x27;t sure if that would work in normal awk, and I&#x27;m a purist like that so you got this one. reply pmarreck 12 hours agorootparentI’d like to see both, please reply nine_k 14 hours agoparentprevSocat is a trivial stream converter, like a pipe fitting with different thread sizes on two ends.The interesting part is the logic and the actual.string processing. reply eichin 11 hours agorootparentTrue, but you can go the other way and do it with only socat: socat -v tcp-listen:8888,reuseaddr,fork exec:&#x27;cat RESPONSE&#x27; is a (Very Static) entire web server, if RESPONSE has 2 header lines, a blank, and an html body. (A little too late in the morning for me to do the golfing needed to eliminate the \"cat\" and do the cr-nl from whatever shell you&#x27;re already running, though.) reply eichin 11 hours agorootparent(scrolls down further in the socat manpage) Ohhh, under \"EXAMPLES\": you can combine a crlf option to TCP-LISTEN, SYSTEM instead of EXEC, and \"echo -e\", and there&#x27;s actually a slightly useful http server already done :-) reply ISL 14 hours agorootparentprevMy first interesting question was, \"How do I open a port in awk?!\" reply bewuethr 12 hours agorootparentGNU Awk has an entire separate manual for TCP&#x2F;IP internetworking: https:&#x2F;&#x2F;www.gnu.org&#x2F;software&#x2F;gawk&#x2F;manual&#x2F;gawkinet&#x2F; reply cf100clunk 15 hours agoparentprev [–] Or cd to the html directory and run this: python -m http.server 8080which does not require anything else like socat. reply prokopton 15 hours agorootparentI think this is more of a “ain’t this interesting?” sort of thing. reply cf100clunk 15 hours agorootparentNot a nawk on awk (pun intended) or socat, just a reply to the parent&#x27;s comment. reply Brian_K_White 14 hours agorootparentprevThis is functional and uninteresting. reply cf100clunk 1 hour agorootparentFor those who were drawn to &#x27;&#x27;awk&#x27;&#x27; in the title it is probably uninteresting. For those who were drawn to &#x27;&#x27;simple web server&#x27;&#x27;, it is likely of some interest. reply sodapopcan 14 hours agorootparentprev\"requires python\" reply cf100clunk 2 hours agorootparentYes, for some that would be a show-stopper. It is a nice one-line web service string, but should probably be run thusly: nohup python -m http.server 8080 2>&#x2F;dev&#x2F;null & reply CSSer 14 hours agorootparentprevWhich in a way is somehow worse :P reply hackideiomat 10 hours agorootparentin many ways reply pmarreck 12 hours agorootparentprev [–] Nothing is interesting about overrated Python though reply cf100clunk 2 hours agorootparent [–] Ubiquitous, omnipresent, consistently rated in the top 2 or 3 most used computer languages. You don&#x27;t like it, fine. replyApplications are open for YC Winter 2024 GuidelinesFAQListsAPISecurityLegalApply to YCContact Search:",
    "originSummary": [
      "The article is about a simple webserver crafted in GNU awk, displaying the capabilities of the awk language, supporting directory listing and file downloads.",
      "The script requires a TCP wrapper for execution and can be accessed via a browser on the local port 8888.",
      "Despite no releases or published packages, the project has garnered interest, as indicated by the 157 stars, 4 watchers, and 9 forks on its repository."
    ],
    "commentSummary": [
      "The article emphasizes a web server written in Awk, highlighting its utility for low-resource environments by enabling the setup of web applications with minimal resources.",
      "Users discussed the benefits and limitations of the BusyBox system while sharing experiences with the Awk programming language.",
      "Suggestions for alternative web serving methods like cURL, socat, and Python are also mentioned as possible substitutes."
    ],
    "points": 183,
    "commentCount": 62,
    "retryCount": 0,
    "time": 1695175351
  },
  {
    "id": 37584038,
    "title": "British journalist held by police at Luton airport for five hours without arrest",
    "originLink": "https://www.theguardian.com/media/2023/sep/20/british-journalist-held-by-police-at-luton-airport-for-five-hours-without-arrest",
    "originBody": "Skip to main content Skip to navigation Skip to navigation Print subscriptions Sign in Search jobs Search International edition The Guardian - Back to home The Guardian Support the Guardian Fund independent journalism with $5 per month Support us News Opinion Sport Culture Lifestyle Show More UK UK politics Education Media Society Law Scotland Wales Northern Ireland Matt Broomfield was detained under schedule 7 of the Terrorism Act 2000. Photograph: handout UK security and counter-terrorism British journalist held by police at Luton airport for five hours without arrest Matt Broomfield, who has worked in Kurdish-controlled north-east Syria, had his phone and laptop seized when he was questioned last month Dan Sabbagh Defence editor Wed 20 Sep 2023 12.55 BST A British freelance journalist who previously worked in the Kurdish-controlled part of Syria was held by counter-terrorism police at Luton airport for five hours without being arrested last month under controversial powers of detention. Matt Broomfield, 29, said he was met by police as he got off a plane from Belgrade with his girlfriend on 24 August and was taken aside for questioning, where he was asked “do you consider your reporting objective” and his opinions of the British state. Police told Broomfield they were engaged in “a mopping up operation”. They seized his phone and laptop and have since refused to return them. After the questioning ended, he was allowed to proceed and no police action has followed. Broomfield was detained under schedule 7 of the Terrorism Act 2000, used routinely by counter-terrorism officers to question people at airports for up to six hours at a time. Police say it is a tool to keep the public safe, but critics say the power is overused to the point of harassment. The National Union of Journalists has written on Broomfield’s behalf to Matt Jukes, the policing lead for counter-terrorism, to ask for a justification for his detainment in the absence of criminal proceedings, and for his computer and phone to be immediately returned. Officers focused on Broomfield’s writing, much of which is sympathetic to the Kurds, and a three-year period ending in 2020 when he ran a news and information service in Kurdish-controlled north-east Syria. “They asked who I had met and interviewed,” he said. Broomfield was held for two months in Greek migrant detention centres in 2021 after being denied permission to cross the border into Italy. He was told he was banned from the EU’s Schengen area at the request of Germany, which he believes was because of his media and advocacy work. He was flown to the UK where he was subjected to a schedule 7 stop. After that, Broomfield, who is now based in Belgrade, says he was allowed to re-enter the UK “several times” without issue – until the latest stop last month. Kurdish soldiers were instrumental in the defeat of Islamic State in north-east Syria in 2019, with air support from the US and UK, and remain in effect in control of the region. Turkey has long been hostile to the Kurds, who aspire to their own state based on territory in Turkey, Syria, Iraq and Iran. Broomfield said: “It seems clear the Schengen ban and my harassment by the UK police are driven by direct or indirect pressure from Turkey, on the basis of my work and reporting in Rojava and around the Kurdish issue.” He said the UK should have no interest “in the anti-democratic prosecution of legitimate journalism”. British Kurds told the Guardian they were routinely stopped under schedule 7. Ali Gul Ozbek, 58, a pharmacist from Friern Barnet, north London, and a former mayor of Haringey council, said he had been stopped every time he went abroad since around 2012, both on the way out and on the way back. The most recent stop was in July when Ozbek, a British citizen, went to visit his uncle in Geneva, Switzerland. “It is a form of torture. They ask the most basic questions that could be answered by a primary school student. I am an ordinary Kurd, I do not have any link with any Kurdish political organisations.” Official figures show 2,498 people were stopped under schedule 7 powers in the year to 30 June, down 6% from a year before. The detainees are a wide range of people, including those with the loosest of links to the Kurdish movement. skip past newsletter promotion Sign up to First Edition Free daily newsletter Our morning email breaks down the key stories of the day, telling you what’s happening and why it matters Privacy Notice: Newsletters may contain info about charities, online ads, and content funded by outside parties. For more information see our Privacy Policy. We use Google reCaptcha to protect our website and the Google Privacy Policy and Terms of Service apply. after newsletter promotion Ann Marie Davies, from Cardiff, was detained by counter-terrorism police for about four hours at Bristol airport in July as she returned from a holiday in Portugal, her first since the Covid pandemic, with her husband and teenage daughter. “I asked the police why my passport was flagged and they said they didn’t know. The questions were very broad: they asked why I was interested in human rights. But they also asked whether I supported the PKK [a Kurdish political party banned in Turkey] and I said I didn’t and I didn’t support terrorist organisations,” she said. Davies, who trains medical students, believes she was stopped because “I sympathise with the Kurdish cause in a general sense” and because she was involved in organising a Kurdish cultural event in Cardiff last November. Police took her DNA and photograph; her phone and Kindle were searched before she was allowed to leave. The Home Office said schedule 7 enabled officers to stop, question, detain and search a person to determine whether they are or have been involved in terrorism. “Examinations have been instrumental in securing evidence to convict,” a spokesperson said. Iida Kayhko, a doctoral researcher in security studies at Royal Holloway, University of London, said the belief in the British Kurdish community was that UK police were reflecting pressure from Ankara after President Recep Tayyip Erdoğan’s election victory in May, which has reinforced Kurdish repression within Turkey. “It would seem that British counter-terrorism policing is being made use of to pursue the Erdoğan government’s aims of stifling Kurdish political expression,” she said. Explore more on these topics UK security and counter-terrorism Police Press freedom Kurds news Reuse this content Most viewed UK UK politics Education Media Society Law Scotland Wales Northern Ireland News Opinion Sport Culture Lifestyle Original reporting and incisive analysis, direct from the Guardian every morning Sign up for our email Help Complaints & corrections SecureDrop Work for us Privacy policy Cookie policy Terms & conditions Contact us All topics All writers Digital newspaper archive Facebook YouTube Instagram LinkedIn Twitter Newsletters Advertise with us Search UK jobs Back to top © 2023 Guardian News & Media Limited or its affiliated companies. All rights reserved. (modern)",
    "commentLink": "https://news.ycombinator.com/item?id=37584038",
    "commentBody": "British journalist held by police at Luton airport for five hours without arrestHacker NewspastloginBritish journalist held by police at Luton airport for five hours without arrest (theguardian.com) 180 points by mindracer 3 hours ago| hidepastfavorite113 comments perihelions 3 hours ago- \"Official figures show 2,498 people were stopped under schedule 7 powers in the year to 30 June, down 6% from a year before.\"They must employ an entire shift of airport workers dedicated to harassing journalists.Also:https:&#x2F;&#x2F;www.theguardian.com&#x2F;world&#x2F;2013&#x2F;aug&#x2F;18&#x2F;glenn-greenwal... (\"Glenn Greenwald&#x27;s partner detained at Heathrow airport for nine hours\")https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=6233646 reply isk517 2 hours agoparentMy question is out of those 2,498 people stopped how many of them actually had links to terrorisms? I will be extremely generous and say if the number is less than 2000 than sounds like you just have a system in place to harass random people. reply whimsicalism 2 hours agorootparentWestern government have had high-profile negative media coverage in the past because they weren’t keeping track of returnees from Syria, my guess is they are being more diligent in response to that.Regardless of the morality it is unusual and you aren’t really supposed to go to Rojava. reply jmopp 5 minutes agorootparentConsidering they asked him questions like \"do you consider your reporting objective\" and didn&#x27;t return his phone and laptop, it&#x27;s gone a bit beyond counter-terrorism. I would be less heavy-handed towards a journalist, due to the importance of a free media reply ThePowerOfFuet 1 hour agorootparentprevOh, there&#x27;s nothing random about them. reply gottorf 3 hours agoprev> where he was asked “do you consider your reporting objective” and his opinions of the British state.I don&#x27;t imagine his opinions of the British state improved after this experience. Come to think of it, mine isn&#x27;t, either... reply sneak 2 hours agoprevI&#x27;ve had the same thing happen to me re-entering the US on multiple occasions.Once I was kicked out of a border patrol point in northern Vermont in a snowstorm in February after they had sent my bus on without me hours before. I had to hitchhike to not freeze.Border cops are the worst. reply polygamous_bat 1 hour agoparent> Border cops are the worst.They are just a symptom of what happens when you give people power and no accountability. reply woodpanel 18 minutes agoprevRest assure Britons, Germany is doing the same - even without the request of the Turkish head of state: https:&#x2F;&#x2F;reitschuster.de&#x2F;post&#x2F;neuer-psychoterror-wieder-die-p... reply mschuster91 3 hours agoprev> Broomfield said: “It seems clear the Schengen ban and my harassment by the UK police are driven by direct or indirect pressure from Turkey, on the basis of my work and reporting in Rojava and around the Kurdish issue.”This sort of crap is nothing new unfortunately. Erdogan&#x27;s Turkey has been abusing international cooperation agreements at scale [1], not to mention holding up Sweden&#x27;s entry to NATO, purely to fight against legitimate domestic resistance against his quasi-dictatorship&#x2F;sultanate&#x2F;caliphate (depending on whom you ask, but Turkey is certainly no democracy anymore). And that repression includes journalists such as Deniz Yücel [2], even foreign TV shows [3] and comedians [4] - everyone who criticises Erdogan or recognizes the Armenian genocide becomes a target.And where legal avenues fail, there is always the Grey Wolves, nominally a terrorist group, and closely linked to the Turkish government, to do Erdogan&#x27;s bidding [5].As for why no one does anything to hold Erdogan accountable... the answer to that is simple, he threatens to unleash refugees like he did in the past [6], and Turkey&#x27;s cooperation regarding the Bosporus is vital in the Ukraine war.[1] https:&#x2F;&#x2F;www.justsecurity.org&#x2F;87260&#x2F;after-spotlight-on-red-no...[2] https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Deniz_Y%C3%BCcel[3] https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Erdowie,_Erdowo,_Erdogan[4] https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;B%C3%B6hmermann_affair[5] https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Grey_Wolves_(organization)[6] https:&#x2F;&#x2F;www.dw.com&#x2F;en&#x2F;eu-strongly-rejects-turkeys-use-of-mig... reply hef19898 2 hours agoparentThe West is way to cooperative with regimes like Erdogan, Modi, the UAE or Qatar. To name a few.But what do you expect from a government, Germany which just so happens to be mine, that sees no problem in letting others do the dirty work of repulsing migrants in the Mediterranean, to their death sometimes, not intervening when the US intern German citizens in Guantanamo for years. Most of it out of fear of the far right since the refugee crisis in Europe. With great success regarding the containment of the far right, they poll quite often on second place now. Oh, I forgot, while our police isn&#x27;t holding journalists, or people threatening and harassing others for that matter, they happily use similar powers to lock up climate activists for a couple of days without trial.Rant over. If Western democracies don&#x27;t start to stand up for our proclaimmed values, we will loose what little soft power we have left. reply mschuster91 2 hours agorootparentFully agree with you. (I&#x27;m German as well, in case that matters) reply hef19898 2 hours agorootparentWe have elections on state level coming up. Hard choice, because for once a single vote really matters (before every government was more or less the same, now there is the risk of having the AfD sitting there). And those voters are voting! So, two choices, vote on principle and hopefully strengthen the oposition enough to count, or vote for the conservative government hoping to make thek strong enough to not need the far right.Well, it actually isn&#x27;t that hard a choice, but still. reply pjmlp 1 hour agorootparentAs first generation out of portuguese dictatorship in the 70&#x27;s, living through the whole west&#x2F;east split, and spending half of my life in Germany, it isn&#x27;t fun seeing that happening. Similar increase is happening in Portugal, Chega party being one of them.It is as if the younger generations have no clue what they are voting for.When they discoverer, it will be too late. reply vkou 37 minutes agorootparent> It is as if the younger generations have no clue what they are voting for.They know exactly what they are voting for. reply hef19898 22 minutes agorootparentThe hard core of those voters, yes. The usual 10-15% or radicals and racists. All the others actually have no clue sometimes. reply saiya-jin 18 minutes agorootparentprevI dont think they realize long term consequences, life and politics aint tiktok where 10 second attention span is normalized or even cool. Shit has consequences for decades, but nobody knows them.I dont have an answer. I personally moved away from my home country (Slovakia) almost 2 decades away, thinking far right is probably the biggest long term threat with causing some civil war with our big Roma population. Oh boy was I wrong, far right is now completely managed by russian troll farms now, they literally jump as russians whistle (an expression back home), having some utterly illogical positions.You look left, there is a guy completely interwined with &#x27;ndrangheta who probably will win, murdering journalists, managing economy so badly that Romania took us over. Right is this above. Both love russia in fact. Nothing competent in between. People voted last time for cca new face and he turned to be some bipolar less than useless freak who just pissed off literally everybody left and right. reply pgeorgi 1 hour agorootparentprev> And those voters are voting!That&#x27;s why it&#x27;s even more important to go vote this time, and for a party that will likely make the cut. For all intents and purposes, votes for the everybody-knows-they-will-be- What if they don&#x27;t have papers? What if their country hasn&#x27;t registered them? What if they lie about their name and birthdate, so their home country cannot identify them?Not our problem? Not our problem, and not our problem. Keep them detained in the meanwhile.> These people have no idea where they are going, what life will be like... They take the risk because they have nothing to lose: famine, natural disasters, never ending wars, dictators.It&#x27;s an inconsequential act. \"Nothing to lose\" that they know of. I take it being more of a fad (certainly fueled by propaganda) than anything else> The journey is not \"hard\". It&#x27;s insufferably hard\"Everybody should know that\" by now. They can&#x27;t see that perspective. As I said, it&#x27;s more of a reckless act than anything else.And in the best case they&#x27;ll be an overworked refugee with barely no perspective> You live your well informed western perspectiveHaving come from a 3rd world country, let me tell you that the naive views from the 1st world about this abound.Especially thinking mass immigration like that will solve anything about labour shortages reply hef19898 9 minutes agorootparentThere is a reason people usually cannot be detained without trial. That we start to make defavto exceptions for a certain group of people now is worrisome. dylan604 1 hour agorootparentprevI&#x27;ve never looked into it, but at whose expense is this \"shipping back\" done? I seriously doubt those seeking refuge can pay. reply thefounder 1 hour agorootparentI think it can be done on the cheap if private sector is allowed to operate. reply dylan604 1 hour agorootparentokay, i&#x27;m not sure i&#x27;d agree, but that didn&#x27;t really answer the question. reply hef19898 1 hour agorootparentThe government pays, including the tickets for the accompanying police officers (plural, in Germany it is usually two). replyhef19898 1 hour agorootparentprevSure they can. That&#x27;s what the whole asylum idea, and laws, is about. reply mschuster91 1 hour agorootparentprev> I don&#x27;t understand what&#x27;s so hard simply shipping the immigrants back on a big ship once every 2-3 months.Because as a result of the events from 1933-1945, everyone has the individual right to claim asylum in Europe. Despite the far-right working hard to abolish that, we won&#x27;t.Besides, for countries like Syria there&#x27;s a deportation ban in place by the European court system. reply hellojesus 47 minutes agorootparentSerious question:As an American, can I go vacation in Europe and then toss my documents and claim I&#x27;m seeking asylum with a succesful outcome of being granted permanent residency and the ability to work? reply amiga386 9 minutes agorootparentAs an American, you&#x27;d be far, far, far, far, far, far more likely to succeed in migrating by following one of the European countries&#x27; legal migration paths (each country has its own policies). Most European countries are very interested in allowing migration of skilled workers, and in several countries, being a fluent English speaker is a bonus.On the other hand, it might be technically possible for you to meet one of these country&#x27;s criteria for \"refugee\", \"displaced person\", \"asylum seeker\", etc. but it is _remarkably_ unlikely. reply kypro 13 minutes agorootparentprevThe problem is you&#x27;re going to still have an American accent and you&#x27;re probably white so you&#x27;re probably going to have a hard time convincing anyone you&#x27;re an asylum seeker. If you&#x27;re brown &#x2F; black and can pretend you&#x27;re from somewhere like Afghanistan you have a chance.I suppose it also depends a little on what you want to do. In the UK it takes months to process asylum claims but while you wait we&#x27;ll put you up in a nice hotel, give you food and spending money. So if you just wanted to visit the UK for an extended period of time, it wouldn&#x27;t be a bad idea. reply n4r9 32 minutes agorootparentprevUnlikely to be successful.> The right to asylum is guaranteed by Article 18 of the EU Charter of Fundamental Rights. Article 19 prohibits collective expulsions and protects individuals from being removed, expelled or extradited to a state where there is a serious risk of death penalty, torture or other inhuman or degrading treatment or punishment.https:&#x2F;&#x2F;www.europarl.europa.eu&#x2F;about-parliament&#x2F;en&#x2F;democracy... reply catlover76 25 minutes agorootparentprevSuccessful? NoAlso, you don&#x27;t need to \"toss [your] documents\", I&#x27;m not sure why you think that&#x27;s required to initiate an asylum process lolSomeone versed in EU law can chime in, but I imagine that being literally undocumented would only make the process harder (though it would be abundantly clear that you&#x27;re an American) reply arethuza 34 minutes agorootparentprevIf you meet the criteria then yes you could - the requirements are roughly the same as seeking asylum in the USA. reply raverbashing 14 minutes agorootparentprevIf you have a legitimate claim (let&#x27;s say, a criminal gang put a bounty on you - and this claim is documented) it could workNo need to toss your documents reply vkou 34 minutes agorootparentprevDepends on if are you fleeing a civil war that Europe has been pouring weapons into, or something else of the same sort. reply whimsicalism 2 hours agorootparentprevWithout cooperation from Turkey, they wouldn’t even need to take a boat - they could just do land crossings.Do Europeans not realize the sheer number of refugees that Turkey is sheltering in place of them? reply esafak 1 hour agorootparentThe official figure is five million; mostly from Syria. https:&#x2F;&#x2F;teyit.org&#x2F;dosya&#x2F;turkiyedeki-siginmaci-sayisi-veriler... reply bemusedthrow75 2 hours agorootparentprevIt&#x27;s because of where Turkey is geographically. That is all it is about.It&#x27;s all it&#x27;s ever been about, and the UK is not alone in this capitulation. reply saiya-jin 12 minutes agorootparentprevHow do you ship 5000 people a day to say Mali or some other war torn place? You cant just dump them off the coast of Lybia, we aint Trump (yet).Plus most dont have papers and can easily claim coming from war place (which many do, but I suspect most are economical migrants). This isnt easy to solve, look what Australia is doing (detaining immigrants in Papua IIRC in bad conditions to scare others). reply jhoechtl 1 hour agorootparentprevBecause you have voters in your country which are against that. They may be the minority while voting but they set the agenda. reply Muromec 1 hour agorootparentprevBecause a) we don’t want to be the baddies, we want instead feel good despite walling ourselves from the problems and poverty we at the very least contributed to or at most were the primary cause b) it has economic benefits long term c) actively deporting people costs money d) making it possible to easily deport people erodes rule of law and all the nice things we all like.The problem fundamentally is living in a nice place and not really contributing to making the place so nice. Everybody wants this privilege and there is of course the market and the price for having it.Real answer is the same as with drugs — be the mafia yourself reply jiofj 1 hour agorootparentprevNothing more democratic than asking for the \"containment\" of the side of politics that you don&#x27;t like. reply hef19898 1 hour agorootparentSure, it is very democratic to try and contain ideas and movements that are fundentally oppossed to democratic rule. reply fakedang 2 hours agorootparentprev> Rant over. If Western democracies don&#x27;t start to stand up for our proclaimmed values, we will loose what little soft power we have left.Don&#x27;t worry, to the rest of the developing world, Western democracies are already considered to be a bunch of moralizing hypocrites, looking to impose their erstwhile colonial tendencies in other ways. Oh, and you guys are a laughing stock with the recent immigration issues, what with Lampedusa being showcased front and center of the news.You guys ship your garbage to other poorer countries in some sort of wretched don&#x27;t ask, don&#x27;t tell policy, then blame those same countries for polluting the earth. Meanwhile a bunch of clowns in your countries inconvenience the rest of the populace by sticking themselves to the roads as a \"sign of protest\". To quote Sheikh Abdullah bin Zayed, the UAE foreign minister, \"the next generation of terrorists will be from Europe and the West\".https:&#x2F;&#x2F;m.youtube.com&#x2F;watch?v=-dV4m43xZmYGet over it, you guys are already a joke, already on the decline. Get out of your city shells and walk the rural areas a bit to see how your fellow countrymen actually feel about the policies of your government. Of how the common man has been continually shafted while you preach and vacillate about human rights.I look forward to the amount of PhD dissertations that will study the decline of Europe and the West over the post-GFC decade. Rant over. reply unethical_ban 1 hour agorootparentNothing like a troll-named account to post a lot of brash talk without the courage to name where they&#x27;re from.How silly to try to talk about a handful of climate protestors who actually give a shit about the planet in the same breath you talk about garbage exports (citing... Nothing) and then using that to excuse China and India using rivers as their own garbage disposal. reply freeopinion 41 minutes agorootparentI&#x27;m from the USA. Your post alarms me. You berate China and India for using rivers as their own garbage disposal. This seems to be a response to criticize somebody who is making the same claim, more or less.I am not the original commenter, but let me add here my own observation. In the USA we have a lot of laws and regulations that are supposed to prevent industry from polluting the environment, exploiting child labor, unduly endangering their workforce, etc. You cannot produce a product to place on the shelves of Walmart if you violate these rules. I think most Americans support most of those regulations. But we do not impose those rules on companies from China or India.This means that a product produced in the USA can cost significantly more than an identical product produced in India. Naturally, USA industry recognizes this and shifts their production out of the USA. You could characterize this as \"ship your garbage to other poorer countries.\" That is, don&#x27;t allow USA rivers to be polluted but make your money by polluting rivers outside the USA.I don&#x27;t suggest that the USA removes its prohibitions from USA industry. I suggest that they impose the same prohibitions on non-USA industry with respect to markets inside the USA. And by this I don&#x27;t mean raise tariffs. I mean that if a company in Iowa is not allowed to put a product on the shelves at Walmart because their smokestack is too dirty, then a company in Qinghai should not be allowed to do so if their smokestack is too dirty by the same standard. reply glogla 20 minutes agorootparentprevJust downvote, flag and move on. This guy is here to insult people for fun and stir shit. No reason to engage (and yes, I know I&#x27;m also guilty of engaging with anti-Western but definitely not pro-Chinese&#x2F;pro-Russian trolls). reply fakedang 1 hour agorootparentprevI&#x27;m Indian, been living in Europe and Switzerland for almost the past decade. I&#x27;ve spent a considerable time of my upbringing in South east Asia and the Middle East. I currently reside in Switzerland, specifically Zurich, with occasional stints to the US for business. I used to live in Germany prior to that. There used to be a time I dreamt of Western citizenship, but not anymore. Hope that answers your \"question\", although I&#x27;m certain you&#x27;d be loathe to reciprocate the same favor to me and reveal your origin.As for the climate hypocrisy argument, sorry to hurt your preconceived notions, but it&#x27;s already proven that most of the waste that ends up dumped in Malaysia, Indonesia and the Philippines.https:&#x2F;&#x2F;www.reuters.com&#x2F;article&#x2F;us-malaysia-environment-plas...https:&#x2F;&#x2F;asia.nikkei.com&#x2F;Spotlight&#x2F;Environment&#x2F;Philippines-sl....https:&#x2F;&#x2F;e360.yale.edu&#x2F;features&#x2F;plastic-waste-imports-recycli...But go on, vacillate and down vote in your self righteousness. reply glogla 11 minutes agorootparentAh, a migrant who hates those who took him in. What a common thing. Why are you still around?Stop being a parasite and return to India if you hate Europe that much. But no, no, you people seem to hate the places you run off to but don&#x27;t want to return. Same with Russians enjoying the \"decadent gay West\" while claiming they hate it and supporting Putin. Same with Turks living on German welfare while loving Erdogan.Put your money where your mouth is and go back to India. Then you can complain. reply unethical_ban 52 minutes agorootparentprevI applaud you for answering the question. I&#x27;m from Texas, United States.Your argument comparing climate protestors and governments who ship garbage to developing countries is bunk, though. Ever thought about who those protestors are angry with?An intelligent conversation can be had about failing democratic institutions in the west, the need to disincentive wasteful consumption, and (as happens already) what levels of support developed countries owe to developing countries to dissuade the latter from ramping up fossil fuels consumption.But your finger wagging still doesn&#x27;t make sense in the context of thinking India or the developing world is any better. reply wsc981 1 hour agorootparentprevI do agree Europe is on a decline and in my opinion it is irreversible. It’s one of the reasons why I am happy to have been migrated to South-East Asia from The Netherlands.The reason why I believe it’s irreversible is because of the power of the media. Too many people still believe the global warming narrative and are open to mass immigration. Not to mention the fact that the USA has succeeded in convincing many Europeans that Russia is to be an enemy instead of an ally.All of this will greatly increase the cost of living for the common man while at the same time the welfare state is being destroyed. Europeans will face much hardship the next decennia and I don’t think they’ll be able to recover.I know this will be an unpopular opinion, but I’ll voice it here anyways :) reply unethical_ban 48 minutes agorootparentOoo, a pro Russia climate change denier. Don&#x27;t see those in polite society often.Believe me, there are many in the liberal sphere who do not support unlimited mass migration. Open borders are not compatible with a welfare state.As for denying the changing climate and supporting Russia&#x27;s invasion of Ukraine, I don&#x27;t feel anything I can type in short order would enlighten the reader if they don&#x27;t already see the injustice after a few hundred thousand dead. reply miguelazo 35 minutes agorootparent>Open borders are not compatible with a welfare stateMaybe you liberals shouldn&#x27;t support neoconservative conflicts that drive the migration in the first place. Hillary&#x27;s State Department did such a great job in Honduras, Libya, Syria. The same is happening now in Ukraine. These conflicts are all about preserving American hegemony, nothing more. reply webshit2 55 minutes agorootparentprevI also can&#x27;t believe the big bad USA has turned the Baltic states, Poland, Ukraine, etc on Russia. It&#x27;s because the media is just too weak in Russia, China, Iran, North Korea so they haven&#x27;t been able to communicate their upstanding values clearly enough. reply fakedang 47 minutes agorootparentprevWell I&#x27;ll agree to disagree on a number of points here, but I respect your sentiment. I don&#x27;t believe that the media is powerful. On the contrary, I feel that the media being weakened and focused on sensational content is the reason we&#x27;re in this mess. While the European media was supposed to be one of the entities keeping government officials and Eurocrats in check, their systematic weakening has led to those failing governments to implement widely unpopular policies that only harmed the social fabric of the continent. reply user_7832 1 hour agorootparentprev> The West is way to cooperative with regimes like Erdogan, Modi, the UAE or Qatar. To name a few.I fail to understand how Modi (and likely Erdogan), who are elected representatives, are at the same level as the UAE or Qatar.\"Look at the human right violations they&#x27;ve done!\"Not defending them, but then would you add Bush&#x2F;Obama&#x2F;Trump to the list (between Guantanamo Bay&#x2F;all the middle east military \"interventions\") Or how Assange is still being treated by the US?I&#x27;m not trying to flame-bait, but if a leader is a democratically elected rep is conflated with autocracies that&#x27;s not a sound argument. Especially when it&#x27;s something more countries do than don&#x27;t. (Disclaimer, am Indian) reply hef19898 1 hour agorootparentI could throw in the likes of Nethanyahu and Orban and the Polish government, some are just further down the road to totalitarianism then others. reply user_7832 1 hour agorootparentThat is a fair point. So would it be more of a gradient than a line? reply hef19898 25 minutes agorootparentYes, it is. That is also why this development is so insisdious and dangerous. reply colpabar 1 hour agorootparentprevIn america, \"democracy\" actually means \"democracy that is beneficial to us\". If we don&#x27;t approve of it, it&#x27;s not real democracy, and we can just send in the CIA to make it the way we want it to be. It&#x27;s why \"populism\" is so bad yet people here still reference the popular vote when their preferred candidate got more votes overall. reply pxtail 2 hours agorootparentprev> With great success regarding the containment of the far right, they poll quite often on second place now.So why is this happening? Isn&#x27;t it a sign that they are proposing ideas more attractive to more and more people? Or alternatively people are becoming skeptical about ideas and policies realized so far by current government over the years? reply skippyboxedhero 1 hour agorootparentIt is also because elections seem to have little impact on policies. This is due to many reasons but you will see polling get more and more extreme because voters keep telling politicians what they want, and nothing changes.I will add, this isn&#x27;t terribly surprising in Europe. In Italy, due to flaws in their political system, you have had politicians parachuted in from the EU repeatedly to run the country...I am not sure what people expect. If you place significant limitations on democracy and then ignore public opinion, people will get annoyed. reply hef19898 1 hour agorootparentprevWhy? Because populist have a very easy job in times of uncertainty. And uncertainty, felt but the real kind doesn&#x27;t matter, we have plenty. With a lot of frustration since Covid. reply bradley13 2 hours agorootparentprevThe success of the far right in Europe is driven by migration.Huge numbers of economic migrants make their way illegally to Europe. They have little education and no useful work skills. WTF are we supposed to do with them?The correct solution is to send illegal migrants right back to Africa. However, only the far right parties dare say that - hence, the increasing support they are getting, despite their other positions. reply hef19898 1 hour agorootparentThe latest increase in popularity of the AfD is in part due to the question of home heating devices... reply polygamous_bat 1 hour agorootparentprev> The correct solution is to send illegal migrants right back to Africa. However, only the far right parties dare say that - hence, the increasing support they are getting, despite their other positions.In case you&#x27;re unaware, the reason Europe has its current asylum standards largely because of what happened between 1933-1945. So would your proposed solution be:1. Deny asylum to anyone and everyone, even those fleeing genocide (\"Sorry that happened to you, we don&#x27;t have room here!\"), or2. Implement a color chart a la Family Guy [1], so only the \"right people\" can come in?[1] https:&#x2F;&#x2F;knowyourmeme.com&#x2F;memes&#x2F;family-guy-skin-color-chart reply skippyboxedhero 1 hour agorootparentprevThey aren&#x27;t cooperative. The article explains they didn&#x27;t actually do anything. But international agreements on policing essentially compel police here to act (but not necessarily charge or return people).For some reason, it is literally the same people who say that massive limitations need to be placed on native authority by international agreements, by courts (in some countries, depending on the legal system), etc. AND they say it is shocking that our police aren&#x27;t sovereign...really? We cannot have it both ways...either you trust local authority or you trust the authority of foreign governments...it cannot be neither. reply bemusedthrow75 2 hours agoparentprevIt&#x27;s not so long ago that a gang of Turkish government thugs beat the crap out of protesters on US soil and pretty much nothing of consequence came of it.https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Clashes_at_the_Turkish_Ambassa...I think our (British) border staff capitulating to these abusive international policing requests is pretty humiliating. But as you say, it&#x27;s not new to anyone that this is happening. reply skippyboxedhero 2 hours agorootparentWe have to capitulate because the British policing system is forced to cooperate through international agreements (this isn&#x27;t often reciprocated, these agreements hand massive power to undemocratic countries because we have to comply and they comply when they feel like it). Turkish judges are actually part of our legal system, we are told that this is an essential part of our legal system respecting the rule of law...people want to have it all and every way (the UK is a horrible police state...but we have to accept the primacy of Turkish judges in our laws...you cannot have it both ways). reply Gabriel54 17 minutes agoparentprevI find it incredible that when a British \"freelance\" journalist goes to Syria (!) and upon return gets questioned about their work there, the default reaction is to... blame Turkey? reply lessname 2 hours agoparentprevI would like to add, Turkeys concerns about the NATO entry of Sweden were not without cause: Sweden has introduced an arms embargo against Turkey, prohibiting arms exports to Turkey. NATO is a military alliance and in case one member gets attacked, others have to support this member. However, one cannot really be sure if that will happen when one country has been initiating arms embargos against another member. reply saiya-jin 11 minutes agorootparentWasnt it to get US F35s? reply tpmx 25 minutes agorootparentprevThat was lifted a year ago.https:&#x2F;&#x2F;www.reuters.com&#x2F;world&#x2F;europe&#x2F;sweden-resumes-arms-exp... reply wsc981 1 hour agoparentprevIt’s been said that the Turkish government has videos of a former secretary if justice of The Netherlands (Joris Demmink) engaging in sexual acts with young boys in Turkey and that Turkey has used this at times as leverage against the Dutch government.In return the Dutch government is supposed to have jailed a Kurdish leader Baybasin (under a pretense of him smuggling drugs) perhaps to get some leverage over Turkey in return (eg threaten to release him from captivity if anything on Joris Demmink is ever released into the public).Of course this is all hearsay, but the whole situation around the captivity of Baybasin in The Netherlands sure is fishy. And Joris Demmink also had some weird relationships in the past (I believe once with an eastern European pornographic actor) and was known to pick up men for sex at certain places. reply Cenk 1 hour agoparentprevIt doesn’t seem THAT clear, given that they asked him about his reporting on the British government and did not ask him about Turkey? reply orochimaaru 3 hours agoparentprevWhy complain if you need him? Not being snarky - but when it comes to things like these either you need some entity or you don’t. Sometimes they are needed bad enough that we excuse horrible behavior (US black sites, Saudi’s and Yemen, etc.). I think if you look you can put forth a rather long list.Point is unless you have the power to remove turkey from nato the complaining is pointless. reply binarymax 3 hours agorootparentNot everyone thinks that we need those things.It’s also not “complaining”, it’s spreading awareness. reply f6v 3 hours agorootparentprevWe’re allowed to dislike hypocrisy, aren’t we? reply orochimaaru 2 hours agorootparentI didn’t mean the “you” as in personally but rather the states that represent you.As an example - Sweden and NATO. If the Turks weren’t needed I’m sure NATO members could have come up with a method to remove them. Otherwise, Erdogan is going to press his advantage. From his perspective Kurds are terrorists. The reality is more complicated - but its what everyone is going to hold their nose and live with. reply Y_Y 2 hours agorootparentIf Sweden is willing to host the missile sites that are currently in Turkey then it might be an interesting proposition, seeing as they have a similarly strategic location. reply nradov 2 hours agorootparentprevInstead of being \"sure\" you should actually read the treaty. NATO members can withdraw, but there is no mechanism for other members to remove Turkey. And due to their geographic position they are absolutely still needed: removing Turkey would play into Putin&#x27;s hands and could lead to catastrophic geopolitical consequences far worse than putting up Erdogan. reply medo-bear 2 hours agorootparentprevmaybe he is not needed as much as he thinks he is reply fakedang 2 hours agorootparentYeah sure, second largest NATO military, battle-hardened in recent wars, not to mention rising military power in the Middle East, not needed in a defensive alliance, heh.Not to mention control of the Bosphorus, as well as a tendency to have dalliances with Russia when ignored by the US (a tendency that, I must remind you, predates Erdoğan).Start paying up 2% of your GDP (assuming you&#x27;re European), on defence and military, or don&#x27;t talk. Turkey is certainly paying their share, and paid their share way before Sultan Erdoğan took the throne. reply glogla 2 hours agorootparentAlliances are not just about power, but also about common values and goals. Strong allies are good. Strong enemies that are for historic reason part of alliance are pretty bad, and need to be managed.That is why Turkey is not getting F-35s or even F-16s now. Why help arm your enemy? reply orochimaaru 1 hour agorootparentI mean what values do the west share with middle eastern monarchies? Yet they are propped up and lavished with weapons.Alliances are mostly power jockeying. Common values will help to provide longevity to the alliance, but power is primary. reply glogla 22 minutes agorootparentI don&#x27;t see many middle eastern monarchies in NATO. reply fakedang 43 minutes agorootparentprevThe fact that Israel is a nation propped up by $3.5 billion of arms spending by the US, yet makes sure to oppress the Palestinian population in their country in the guise of maintaining their \"Jewish mess\" is a direct affront to your \"western values in alliances\" nonsense.Alliances are based out of pragmatism and a common enemy&#x2F;threat. They have always been the case since history, whether it was the aggressive Assyrians&#x27; neighbours against them, to the Franco-Ottoman alliance, to the Axis alliance in WW1. reply glogla 0 minutes agorootparentIsrael is still considered ally for multitude of reasons: big organisations don&#x27;t turn on a dime and sometimes take decades to change course (same reason Turkey is still considered ally), fascists love Israel as model \"pure people state\" more than they hate Jews, and small but influential part of American Evangelicals believe that Jews having their own state is necessary step to get us the Rapture.But you probably know all this, nothing you said was in good faith and and just come to HN to turn your hatred on random people.dewclin 2 hours agoprevInterestingly (?) earlier this year Kit Klarenberg was also held at Luton after getting of a plane from Belgrade ...https:&#x2F;&#x2F;thegrayzone.com&#x2F;2023&#x2F;05&#x2F;30&#x2F;journalist-kit-klarenberg... reply Synaesthesia 1 hour agoparentYeah this hardly got reported on. We are seeing a wave of censorship, suppression and thought control in journalism. reply hackideiomat 3 hours agoprevYet another case to note down in my \"Anti Terror Laws Used Against Journalists\" list. reply jarym 3 hours agoprev> Why do you care about human rights?I dunno, perhaps the same reason Winston Churchill cared about them. reply corobo 3 hours agoparentNot sure India and Ireland would agree with the idea Churchill cared about human rights :xhttps:&#x2F;&#x2F;www.bbc.co.uk&#x2F;news&#x2F;magazine-29701767\"I am strongly in favour of using poisoned gas against uncivilised tribes\" - Winston Churchill reply SpaceManNabs 2 hours agorootparent> Not sure India and IrelandIndia in the Modi era is pretty inspired by Churchill. reply skippyboxedhero 1 hour agorootparentprevHe was referring to the use of tear gas in order to disperse crowds (rather than using violence)...that section of the memorandum tends not to be quoted (and Britain only used gases in warfare after Germany began using it indiscriminately in WW1).It is quite bizarre to imply that pre-colonial India was a haven for human rights but that Britain, the country with the most advanced legal system and which had recognised the notion of human rights nearly 900 years earlier, did not. reply polygamous_bat 1 hour agorootparent> It is quite bizarre to imply that pre-colonial India was a haven for human rights but that Britain, the country with the most advanced legal system and which had recognised the notion of human rights nearly 900 years earlier, did not.Pop quiz: How long did it take the United States to recognize the human rights of those born into slavery?People are selectively blind about who the human rights apply to all the time, it&#x27;s nothing new whatsoever. reply corobo 1 hour agorootparentprevI made no comment about Britain. I was talking about Winston Churchill, the singular person.That is your infer, not my imply. reply skippyboxedhero 31 minutes agorootparentYou don&#x27;t understand what inference is. Merely stating that you didn&#x27;t mean to infer it isn&#x27;t relevant. reply corobo 28 minutes agorootparentWhen a statement is made by me, you would be inferring and I would be implying.In this case though I am saying I did not imply what you inferred. My comment is regarding the individual, not the country he was in charge of. replyarethuza 3 hours agoparentprevWhich is presumably a reference to: https:&#x2F;&#x2F;www.equalityhumanrights.com&#x2F;en&#x2F;what-european-convent... reply Karellen 2 hours agoparentprevUm, because I&#x27;m human?What a bizarre question. Like... what? reply bemusedthrow75 2 hours agorootparentIt&#x27;s just a question, designed to provoke a response that might be useful.Border officials the world over are like this. They have broad leeway to assume everyone is a threat, and to provoke, inconvenience, belittle and annoy them until they are satisfied. Obtuse, trollish rudeness is but one tool in the toolbox.--Responding more generally rather than specifically to your point, if you&#x27;ll forgive me:I am inclined to believe that while our British border officials are wholly embarrassing, the situation is no worse than it is in every single western democracy.Let us all not pretend that border police confiscating the journalists&#x27; possessions they don&#x27;t really have the explicit right to confiscate is particularly unique to any country; it&#x27;s absolutely not. This is an internationally common thing and it is very much a sign of the times.https:&#x2F;&#x2F;www.independent.co.uk&#x2F;news&#x2F;world&#x2F;americas&#x2F;us-border-...https:&#x2F;&#x2F;www.wnycstudios.org&#x2F;podcasts&#x2F;takeaway&#x2F;segments&#x2F;journ... reply jeffrallen 1 hour agoprevThe only reason we are reading about this is he&#x27;s a journalist. You have no rights at borders, especially in police states like the UK. reply chias 2 hours agoprev> \"they asked why I was interested in human rights\"presumably because he is, you know, human. reply pphysch 2 hours agoprevBritish national and journalist Kit Klarenberg was detained in a similar manner earlier this year [1].It is striking that this Guardian article doesn&#x27;t mention that key fact. They didn&#x27;t even report on it, even though it&#x27;s virtually the same story.My guess is this story is \"fit to print\" because it pins the blatant authoritarianism on Erdoğan (acceptable target) rather than the British government (unacceptable target). There was no such scapegoat available in the Klarenberg detainment.[1] - https:&#x2F;&#x2F;jacobin.com&#x2F;2023&#x2F;06&#x2F;us-uk-germany-attacks-on-press-j... reply mnw21cam 23 minutes agoparentThe Guardian typically doesn&#x27;t restrict its criticism of the British government. On the contrary, it appears to be one of its favourite sports. reply pestatije 3 hours agoprev [–] the message and the messenger? replyApplications are open for YC Winter 2024 GuidelinesFAQListsAPISecurityLegalApply to YCContact Search:",
    "originSummary": [
      "British journalist Matt Broomfield was detained at Luton airport and his digital devices seized under schedule 7 of the Terrorism Act 2000, which gives counter-terrorism officers the power to question people at airports for up to six hours.",
      "The National Union of Journalists expressed concerns over this power being overused, impacting press freedom, and has reached out to counter-terrorism policing leaders demanding an explanation and immediate return of Broomfield's devices.",
      "Furthermore, this incident has brought attention to the frequent stopping of British Kurds under the same law."
    ],
    "commentSummary": [
      "A British journalist was detained for five hours at Luton airport without arrest, instigating worries about the harassment of journalists, believed to be due to pressure from Turkey.",
      "This incident underscores the significance of media freedom, and highlights potential failings in security measures, eliciting diverse views on immigration and its related difficulties.",
      "It signifies the increasing trend of censorship and suppression in journalism, and puts into perspective the ineffective media practices, such as focusing on sensational content, deemed to cause current issues in Europe."
    ],
    "points": 161,
    "commentCount": 91,
    "retryCount": 0,
    "time": 1695217566
  },
  {
    "id": 37579926,
    "title": "Ruby 3.3's YJIT Runs Shopify's Production Code 15% Faster",
    "originLink": "https://railsatscale.com/2023-09-18-ruby-3-3-s-yjit-runs-shopify-s-production-code-15-faster/",
    "originBody": "Rails at Scale About Ruby 3.3's YJIT Runs Shopify's Production Code 15% Faster 2023-09-18 • Takashi Kokubun Ruby 3.2 YJIT is Battle-Tested Shopify deploys YJIT on business-critical services in production, such as Storefront Renderer, the software that powers all online storefronts on Shopify’s platform, and Shopify’s Monolith. As of the Ruby 3.2 release, YJIT sped up our Storefront Renderer by 10% on average. Storefront Renderer is a complex application. Your more reasonable-sized app might get better/worse results. Here are some other YJIT performance results in production outside Shopify: Discourse: 15.8-19.6% speedup Lobsters: 26% speedup CompanyCam: 20-40% speedup GMO Pepabo: 18% speedup (in Japanese) Timee: 10% speedup (in Japanese) STORES: 6.5-7.5% speedup (in Japanese) MedPeer: 2.8% speedup (in Japanese) Performance Tips for Production Deployments We sometimes hear people say YJIT doesn’t speed up their application or uses too much memory. The following documentation covers some tips for tuning YJIT in such cases. Performance Tips for Production Deployments Saving YJIT Memory Usage Monitoring YJIT in Production might also help you get more insight. Ruby 3.3 YJIT is Even Faster Ruby 3.3.0-preview2 has been released on Sep 14th, 2023. We compared the performance of Ruby 3.2 YJIT, Ruby 3.3-preview2 YJIT, and Ruby 3.3-preview2 interpreter on the Storefront Renderer. It’s a large-scale service with the following properties: Depends on over 220 Ruby gems Over 4.5 million e-commerce sites are built with Shopify (source: builtwith.com) Capable of serving over 75 million requests per minute, 3TB/minute of traffic 1.27 million requests per second Processed over 197B$ in transaction volume in 2022 Ruby 3.3 YJIT is 13% faster than Ruby 3.2 YJIT We deployed Ruby 3.2.2 YJIT and Ruby 3.3.0-preview2 YJIT to different clusters that receive an equal amount of traffic. We compared their response times in a 24-hour window on a weekday. The numbers and the graph show Ruby 3.3.0-preview2 YJIT’s average/p50/p90/p99 response time speedup ratio over Ruby 3.2.2 YJIT’s. Higher is better for Ruby 3.3.0-preview2 YJIT. This shows that Ruby 3.3.0-preview2 YJIT is 13% faster than Ruby 3.2.2 YJIT on average. If you’re using Ruby 3.2 YJIT, upgrading Ruby to 3.3 should give you a 13% speedup. Ruby 3.3 YJIT is 15% faster than the Ruby 3.3 interpreter During the same 24-hour window, we also deployed Ruby 3.3.0-preview2 interpreter to another cluster. We compared its performance against that of the cluster with Ruby 3.3.0-preview2 YJIT. The numbers and the graph show Ruby 3.3.0-preview2 YJIT’s average/p50/p90/p99 response time speedup ratio over Ruby 3.3.0-preview2 interpreter’s. Higher is better for Ruby 3.3.0-preview2 YJIT. When you run Ruby 3.3 interpreter, just enabling YJIT will give you a 15% speedup. Why is it faster? New register allocator The CRuby interpreter writes and reads temporary values on memory. Ruby 3.2 YJIT used to work in the same way for compatibility reasons, but Ruby 3.3 YJIT is able to allocate registers to those operations. In general, accessing CPU registers is much faster than communicating with memory, so Ruby code runs faster with the optimization. More code now gets JIT compiled Ruby 3.3 YJIT supports compiling more kinds of Ruby code than Ruby 3.2 YJIT. When a method has optional arguments, Ruby 3.2 YJIT compiles only one combination of parameter precenses, but Ruby 3.3 YJIT handles multiple combinations. Ruby 3.2 YJIT does not compile code that is executed after break, next, redo, retry, etc., but Ruby 3.3 YJIT does. Ruby 3.2 YJIT gives up compiling a method call when it does not support the method call type, but Ruby 3.3 YJIT falls back to an implementation that can handle anything. In a nutshell, more code runs on JIT with Ruby 3.3 YJIT than Ruby 3.2 YJIT, so it’s faster. Towards the Ruby 3.3.0 release Reducing memory overhead Since Ruby 3.3.0-preview2 YJIT generates more code than Ruby 3.2.2 YJIT, this can result in YJIT having a higher memory overlead. We put a lot of effort into making metadata more space-efficient, but it still uses more memory than Ruby 3.2.2 YJIT. We’re looking into skipping compilation of paths that are less frequently executed. Optimizing method calls Ruby’s method calls are complex. YJIT code spends a lot of time bookkeeping frames for method calls. We’re working on making any method calls faster by packing frame metadata into a single pointer and lazily materializing its fields when necessary. Hopefully, it will greatly speed up method calls as well as reducing the code size. Conclusion Ruby 3.2 YJIT has optimized the production workloads of Shopify and other companies. We encourage you to enable YJIT in production. Once Ruby 3.3 is released, it should make your application even faster. References This document explains how to enable YJIT. As a reminder, the following links may help you troubleshoot performance problems with YJIT. Performance Tips for Production Deployments Saving YJIT Memory Usage Monitoring YJIT in Production Subscribe Shopify Engineering The Ruby and Rails Infrastructure team at Shopify exists to help ensure that Ruby and Rails are 100-year tools that will continue to merit being our toolchain of choice. This work is licensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License.",
    "commentLink": "https://news.ycombinator.com/item?id=37579926",
    "commentBody": "Ruby 3.3&#x27;s YJIT Runs Shopify&#x27;s Production Code 15% FasterHacker NewspastloginRuby 3.3&#x27;s YJIT Runs Shopify&#x27;s Production Code 15% Faster (railsatscale.com) 153 points by nithinbekal 14 hours ago| hidepastfavorite119 comments sho 14 hours agonext [–]> 1.27 million requests per second > 3TB&#x2F;minute of traffic\"rails doesn&#x27;t scale\" reply mabbo 13 hours agoparentThat&#x27;s not on a per-host basis. Shopify&#x27;s design is, quite fortunately, one that partitions really well, as each store is completely independent of each other.Each store can be assigned to one pod, each pod can have as many hosts as it takes to optimize the use of a database instance, and then you can add more pods as the need arises.Edit: to be clear, that&#x27;s not to say Rails can&#x27;t scale. It can. It&#x27;s just that it doesn&#x27;t need to- you can scale anything with enough partitioning. reply choilive 13 hours agorootparentSure.. but isn&#x27;t that a database problem and not a rails problem? reply cowsandmilk 13 hours agorootparentWell, Shopify is investing in optimizing Ruby, so they believe Ruby was the component with the most opportunity for improvement. And the results are showing there was indeed lots of places where improvements could be made. reply elif 12 hours agorootparentThat&#x27;s like saying the leading F1 team is investing in optimizing side mirrors, therefore they believe side mirrors are the component with the most opportunity for improvement.The fact is that performance oriented organizations optimize everything unless they have math telling them it isn&#x27;t worth optimizing.The \"weakest link\" belief is pure conjecture reply cowsandmilk 11 hours agorootparent> The fact is that performance oriented organizations optimize everything unless they have math telling them it isn&#x27;t worth optimizing.Most companies don’t have unlimited budgets. Performance-oriented organizations profile and then spend money where profiling tells them to. Shopify isn’t hiring people to contribute to MySQL or Redis internals. They hired a full team to work on Ruby internals, not just creating YJIT, but also on CRuby’s memory layout, hiring the lead on TruffleRuby, and funding academic programming language research on Ruby.No company has an infinite budget to “optimize everything”. It is clear where internal performance testing pointed Shopify (at Ruby) and with double digit gains being extracted year after year, their profiling didn’t lie. And other Ruby on Rails shops are seeing similar double digit performance wins, not on fake benchmarks, but on actual page load times and traffic that can be handled by a server. reply byroot 8 hours agorootparentDisclaimer: I&#x27;m a member of the Ruby & Rails infrastructure team at Shopify and Ruby committer.> Shopify isn’t hiring people to contribute to MySQL or Redis internalsYou are not wrong, but the main reason is that contrary to Ruby, MySQL and Redis are used by a lot of huge companies and are themselves owned by companies with full time people on it.In comparison Ruby is still mostly a volunteer ran project that receive little funding and effort relative to its importance.As for why trying to make Ruby faster at all in the first place. It&#x27;s not because it was too slow, it&#x27;s mostly just that at our scale, the engineering time spent on optimizing the runtime pretty much pays for itself.But that&#x27;s nothing specific to Ruby, in most very large software companies you will find similar efforts. e.g. I remember Twitter had a team working on the JVM, etc. reply Justsignedup 4 hours agorootparentthank you for that insight! If I had to guess, early on shopify had a choice to say jump to Java or a JVM-based language and scrap Ruby altogether, but they chose that the benefits of ruby outweigh the benefits of java&#x27;s performance. So now given that shopify is large enough spending $1MM to win $5MM on infrastructure yearly is easily worth it.In any case, I am very grateful to Shopify because I think if they decided to switch over to java back in the day, ruby may actually be a mostly dead language by now. reply byroot 3 hours agorootparent> had a choice to say jump to Java or a JVM-based language and scrap Ruby altogetherAs someone who joined Shopify 10 years ago, my perception is that it wasn&#x27;t an option.At the time competition was fierce and the priority was to get new features to grow.If you are a free service Twitter, with a strong network effect, it makes sense to retool to reduce your costs, as it&#x27;s a primary factor in profitability.If you are a B2B paying service like Shopify with little to no network effect to keep your leading position, halting features for years while you re-tool, re-train etc is a death sentence.My (hot) take is that if Shopify had decided to switch over to Java back in the day, Shopify may actually be a mostly dead company by now. reply Justsignedup 3 hours agorootparentThank you for that insight. I think that is really great to surface. If your product relies on the ability to spin up new features, then inefficiencies in operating costs can be eaten up by the fact that the company functions. If you don&#x27;t spin up features that quickly but operational costs is king, then you make different decisions.In any case, it has been a pleasure hearing insights from the inside. Thank you. replypmontra 12 hours agorootparentprevI understand that it&#x27;s a metaphor but F1 teams did really optimize side mirrors more than once, leading to controversiesMercedes 2022 https:&#x2F;&#x2F;www.the-race.com&#x2F;formula-1&#x2F;mercedes-2022-f1-car-make...Williams 2019 https:&#x2F;&#x2F;www.autosport.com&#x2F;f1&#x2F;news&#x2F;williams-modifying-front-s...Ferrari 2018 https:&#x2F;&#x2F;www.autosport.com&#x2F;f1&#x2F;news&#x2F;how-ferraris-formula-1-mir... reply elif 11 hours agorootparentOf course, most teams do. Some teams have had 2 revisions to side mirrors this season.. and of course it didn&#x27;t decide the WC, which is my point. Organizations don&#x27;t merely optimize \"the bottleneck\" they optimize everything worth optimizing. reply fiedzia 9 hours agorootparentprevIt&#x27;s easy to believe (and probably true) that there are some low-hanging fruits in a place nobody looked at before. reply alberth 11 hours agorootparentprevNo one disputes that Ruby is slow.But you picking “mirrors” in your analogy makes it sounds like a premature optimization.The reason why perf isn’t typically an issue with Rails is the design pattern is to leverage heavy caching.The use of caching is to address the slowness of Ruby. reply lloeki 10 hours agorootparentThe two major areas where caching is used in Rails are:- database queries- template renderingFirst one because round trip to db + running the query + allocating ORM result objects that otherwise get thrown away.Second one because allocating a ton of strings that get join&#x27;d and thrown away.> No one disputes that Ruby is slow.I am, because the blanket statement doesn&#x27;t make sense without context. Also that view is largely biased by the typical assumption that Ruby == Rails. reply igouy 38 minutes agorootparentRuby without Rails —https:&#x2F;&#x2F;benchmarksgame-team.pages.debian.net&#x2F;benchmarksgame&#x2F;... reply karmakaze 4 hours agorootparentprevWell objectively, one could say both Ruby and RoR are slow. The first via The Computer Language Benchmarks Game[0], and the latter via TechEmpower Web Frameworks Benchmarks[1].In practice though the database is doing most of the work, most of the time so is typically slower than both.[0] https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;The_Computer_Language_Benchmar...[1] https:&#x2F;&#x2F;www.techempower.com&#x2F;benchmarks reply alberth 8 hours agorootparentprev> \"Also that view is largely biased by the typical assumption that Ruby == Rails.\"Given that the predominate &#x2F; vast majority use case for Ruby is for web development and Rails being the dominate Ruby web framework ... it&#x27;s a fair assumption & characterization for people to make that the Ruby == Rails use case. replymabbo 13 hours agorootparentprevNo, they both matter. The database can handle X shops per partition, and the rails host can handle Y shops per partition.If rails were half as fast, you&#x27;d need twice as many rails hosts (but no more databases). reply phamilton 11 hours agorootparent> but no more databasesSort of. Twice as many rails hosts means more DB connections which generally means more load&#x2F;memory on the DB or more load&#x2F;memory on the external connection pooler.It&#x27;s only a bit of incremental load, but it&#x27;s easy to overlook how many other systems need to run to make Rails scale. reply brianwawok 5 hours agorootparentNo he’s his examples he’s talking 50 stores over 10 machines vs 50 stores over 5 machines. Both would require the same DB count, but the second would save on server costs for stores. reply mabbo 4 hours agorootparentI think the above means (if I do get the point) that databases scale in terms of both requests per second and number of active connections.Having 1000 connections doing 1 request per second isn&#x27;t the same as having 1 connection doing 1000 requests per second.But, and I could be wrong, the larger factor is the number of requests per second. reply brianwawok 3 hours agorootparentThis entirely depends on the database you are using, and if you are using a connection proxy in front of your database. replypaulddraper 6 hours agorootparentprevThere are of course a lot of things that cross store partitions, e.g. ShopPay. reply maccard 9 hours agorootparentprev>That&#x27;s not on a per-host basis.I&#x27;m sorry, but this is one of the silliest nit picks ive ever seen on this site. Of course 1 million rps and 3TB&#x2F;s isn&#x27;t coming from a single host. 3 TB&#x2F;s is far beyond the throughput of any network I&#x27;ve ever seen, considered or thought of, short of maybe a data center (and I don&#x27;t work in that domain). 1.3 million requests per second is far beyond the capacity of pretty much any hardware available right now. reply block_dagger 9 hours agorootparentThe second paragraph explains the argument. Seems spot on and relevant to me. reply dotancohen 9 hours agorootparentprevThe point is, it&#x27;s not Rails that is scaling here. reply rapsey 12 hours agoparentprevOk now what is the cost of all the instances. And how many instances would be required if Go&#x2F;Rust would have been used?Also what is the cost in man hours spent on optimizations and profiling. reply berkle4455 12 hours agorootparent> And how many instances would be required if Go&#x2F;Rust would have been used?Zero. Because Shopify would have waited until Rust came out in 2015, instead of launching in 2006, and they would never have gotten off the ground and been another failed techbro startup that instead of getting shit done, bikeshedded over languages.PHP and Ruby apps have generated far more revenues than all the Rust and Golang code combined. reply nindalf 11 hours agorootparentRails was a great choice for Shopify, GitHub and Stripe, no doubt. No one is questioning that.GP’s sarcastic “rails doesn’t scale” implies that it would also be a great choice for people starting afresh in 2023. The reply asks for a comparison with other languages popular in 2023, especially ones that are known for being more performant (lower memory and CPU consumption, lower latency).And that’s when you’re dragging the conversation back to 2006. It’s not 2006 anymore. reply stevebmark 11 hours agorootparentRails was initially too slow for Github, so they forked it, didn&#x27;t use \"Rails\" for a while [1], lost literal engineering years to upgrading it (same for Shopify), and now Github has an engineering department dedicated to working of the Rails master branch directly, which is huge engineering overhead and a problem and solution that shouldn&#x27;t exist. Github co-founder Tom lamented using Rails at Github and has stopped using it [2].If you&#x27;re Github or Shopify and can throw (waste?) engineering years at solving a framework specific ecosystem nightmare problems, and have the klout and runway to hire core Ruby and Rails maintainers, then you&#x27;re probably in a highly unique situation and could use any framework you want.The rest of us don&#x27;t see Rails as a great choice for Github. Doubt and questioning.[1] https:&#x2F;&#x2F;videos.itrevolution.com&#x2F;watch&#x2F;550704376&#x2F; [2] https:&#x2F;&#x2F;youtu.be&#x2F;GfhPeOiXDLA?t=725 reply byroot 8 hours agorootparent> Rails was initially too slow for GitHub, so they forked it, didn&#x27;t use \"Rails\" for a whileThat&#x27;s a weird way of framing it.They stuck with a fork of Rails 2.3 for a long time because the upgrade was deemed too costly, not because their fork was faster.In the end their performance patches were either outdated or contributed upstream, and they are now on Rails main branch.And while it was a fork, it was still largely \"Rails\". reply nindalf 11 hours agorootparentprevYes, not ideal. But we can’t know what would have happened if they had chosen a different language in 2007. Did they have the option of an efficient, well supported language that continues to be used in 2023? Maybe Java, although Java languished for years before development picked up again. C# is also a candidate.But one thing we can’t measure - how many candidates chose to join Shopify and GitHub because they were keen to work on Ruby? Java had a reputation for being boring, while Ruby was fun and exciting. Their success was possibly tied to this, but we’ll never know for sure.In 2023 the calculus of what language to choose is different. But these companies are just glad they succeeded while others didn’t. reply gloryjulio 9 hours agorootparentThe problem is at the time if you want things done fast, Rails was the right choice. Almost no startup would touch Spring as app server at the time. Django had not reached 1.0 yet, and it&#x27;s not faster anyway. So for a startup, Rails was the only realistic choices. reply reducesuffering 6 hours agorootparentWhat I find ironic was that in 2006, Rails was the shiny new kid on the block. These co&#x27;s picked the \"new\" way of doing web dev compared to the stodgy Java&#x2F;C# types. And yet, by recommending Rails for a new startup in 2023, they&#x27;re actually more like the stodgy Java&#x2F;C# old school paradigm camp, that the Rails startups avoided! A startup that would&#x27;ve used Rails in 2006 is more like a startup that is using things like NextJS in 2023. We see that in the stacks of new YC companies reply ericb 4 hours agorootparentThe NextJS folks and Go folks are in that sweet spot. You use the framework du jour, you pat each other on the back, beaming with the folly of your ancestors to use such inferior tools, thinking \"this is a golden age of NextJS (or Go) that will surely never end.\"What comes next might not even be better, but that won&#x27;t matter, because what came before won&#x27;t be cool anymore.You die a hero or live long enough to become the villain. replynetheril96 12 hours agorootparentprev> Because Shopify would have waited until Rust came out in 2015, instead of launching in 2006,> PHP and Ruby apps have generated far more revenues than all the Rust and Golang code combined.You already stated the obvious: PHP and Ruby apps generated far more revenues simply by existing longer. reply phamilton 11 hours agorootparentI also question the revenue claim.Google has a lot of revenue. Pinterest, Hashicorp, Uber, Twitch, Dropbox, etc. all have a good amount of golang and collectively have a lot of revenue. It might need a few more years to tip the scale, but it&#x27;s closer than suggested here. reply nik736 10 hours agorootparentTwitch was initially built with Ruby on Rails as well. reply rafark 9 hours agorootparentYouTube was initially built with php, so the revenue argument is true. reply fiedzia 9 hours agorootparentprevand Dropbox with Python reply pjmlp 10 hours agorootparentprevOr they could have used something available in 2006, like C++, Java, .NET&#x2F;C#, OCaml, Haskell, D. reply KronisLV 9 hours agorootparent> Or they could have used something available in 2006, like C++, Java, .NET&#x2F;C#, OCaml, Haskell, D.Going for .NET&#x2F;C# would have likely limited anyone to using mostly Windows Server for their infrastructure. Not that it&#x27;s a bad OS, but .NET Core was released only in 2016 and although Mono came out in 2004, sadly it never got the love it deserved and was rather unreliable (otherwise we would have seen way more cross platform development before .NET Core). Oh, also, turns out that LINQ (which is pretty cool) was only released in 2007, though that still puts them a bit ahead of Java I guess, although I can&#x27;t comment on when it landed in Mono.Going with Java would have meant using something like Java 6, whereas the first truly decent version (in my eyes) was Java 8, which came out in 2014. Of course, the older language version and runtime wouldn&#x27;t be a huge issue, however projects like Spring Boot only came out in 2014 and before then most people would either use Spring, Java EE (now Jakarta EE) or a similar framework from back then. I&#x27;ve worked with both and it wasn&#x27;t pleasant - essentially the XML configuration hell with layers of indirection that people lament.I mean, either would have probably been doable, but it&#x27;s not like other stacks are without fault (even the ones I cannot really comment on). reply pjmlp 9 hours agorootparentStackoverflow is doing just fine with Windows Server.Java 6 would still blow the water out of Ruby&#x27;s slow interpreter.Being pleasant isn&#x27;t relevant for performance. reply KronisLV 9 hours agorootparent> Stackoverflow is doing just fine with Windows Server.Good for them! I guess it mostly depends on what you want to build your platform around, what the constraints are and what developer skillsets are popular in your market.> Java 6 would still blow the water out of Ruby&#x27;s slow interpreter.Probably! I do recall major GC improvements starting from JDK 8 onwards, though when compared to Ruby even the older versions would probably be decent: https:&#x2F;&#x2F;blogs.oracle.com&#x2F;javamagazine&#x2F;post&#x2F;java-garbage-coll...It would actually be fun if someone pulled out the old versions from back then and did some benchmarks, though maybe asking someone to build a full stack application in such a dated tech would be a tough ask, unless they&#x27;re passionate about it!> Being pleasant isn&#x27;t relevant for performance.If the discussion is just about performance, then that&#x27;s true.If we look at things realistically, then there&#x27;s more to it - like using a tech stack that allows you to iterate reasonably quickly, as opposed to making your developers want to quit their jobs every time they have to debug some obscure Servlet related bug or to work with brittle configuration in XML (been there dozens of times), to the point where not as much could even get built in a given amount of time with a particular stack due to its challenges.I do hate when people say that additional nodes are way cheaper than developer salaries, but they&#x27;re also correct most of the time. Of course, there&#x27;s also the humanitarian take to just not forget about the developer experience, otherwise we&#x27;d have written all of our web software in C++ even back then. It&#x27;d work really fast, but we&#x27;d have way less software in general. reply pjmlp 7 hours agorootparentYet, Ruby hasn&#x27;t necessarly taken over the enterprise, beyond those stuck with Rails apps. reply TheRealDunkirk 4 hours agorootparentIt&#x27;s amazing to me that so many people make \"stuck with Rails\" arguments in the enterprise. It&#x27;s extraordinarily clear to me, having worked in 3 Fortune 250&#x27;s, that the single, most-attractive-to-management feature of alternative stacks like Java and Javascript is... dun dun dun!... MASSIVE project bloat! Justifying huge teams and years of development time, leading to huge budgets and personal power within the company.As a single, full-stack guy, I&#x27;ve out-coded entire teams of Java programmers TWICE using Rails. And none of the projects inside even-a-Fortune-size company come anywhere near concerns about \"scaling\" like we&#x27;re discussing here.So my takeaway after decades of doing full-stack development (also with PHP and .NET) is that Rails absolutely murders every other stack for time-to-market or MVP or whatever time-based metric you want to us, and has no effective liability in performance. The only places were are even discussing this kind of scalability is on some of the highest-trafficked web sites in the world, and even then I&#x27;d bet real money that the team size and time to develop features are still killing it over other stacks that would \"scale\" better. replymoonchrome 10 hours agorootparentprevC# in 2006 was a joke, probably worse than Rails in performance. This was the webforms era and old EF - meant for enterprise customers with a couple of hundred active users max... ASP.NET being a competitive&#x2F;performant framework is a very recent development (since core basically which became usable past 2.0)Haskell, OCaml and D are niche languages, probably aren&#x27;t mature enough now to use for a production system that needs to scale (in terms of org growth and building complex systems).Java web frameworks were also terrible in 2006 (this is the Java era that gave Java it&#x27;s reputation) and the only thing worse for productivity I can think of is C++ hahaha ... reply pjmlp 9 hours agorootparentA joke is this comment.All of them were faster and used less resources than a very slow interpreted language, by having JIT and AOT compilers, state of the art GC and great IDE offerings, even the niche ones had better tooling (Leksah and Merlin, versus nothing). reply p8 8 hours agorootparentNobody cares about performance if you build a business application with a couple of users, a common use-case in 2005. The reason a lot of Java people jumped on the Rails bandwagon, was that an application that would take a month to build in Java with Spring&#x2F;Hibernate, would take a day in Rails. See also: https:&#x2F;&#x2F;www.oreilly.com&#x2F;library&#x2F;view&#x2F;beyond-java&#x2F;0596100949&#x2F; reply pjmlp 7 hours agorootparentSome Java people did, there is a reason why Ruby is hardly used outside Rails, while Java rules most of the backend workloads, a mobile OS, and plenty of embedded workloads. reply p8 5 hours agorootparentThere&#x27;s also a reason Kotlin has become the language of choice for the Android development industry, Scala became a thing, and ThoughtWorks recommended against using JavaServerFaces. reply pjmlp 4 hours agorootparentBecause Android team had some Kotlin shills that pushed for it with management blessing, and they are in bed with JetBrains for the Android IDE, that is why, and even them had to accept updating Java support, otherwise Android&#x2F;Kotlin would lose the ecosystem of Java written libraries, hence Java 11 LTS last year, and Java 17 LTS this year going, back to Android 12 with APEX archives.Scala became a thing indeed, where it is now besides Spark?ThoughWorks is a consultancy that recomends whatever brings new projects. reply p8 2 hours agorootparentSo where are the Shopify&#x27;s of that era build on Struts and JSF? replymoonchrome 5 hours agorootparentprevNo they weren&#x27;t - ASP.NET webforms and old EF was such a pile of shit it didn&#x27;t matter how fast C# was (and back then it really wasn&#x27;t, granted order of magnitude better than ruby&#x2F;python, but way behind JVM). The applications built with it were dog slow and buggy - they couldn&#x27;t even scale in enterprise setting.Haskell, OCaml, D with great IDE support in 2006 ? Do they have that even today ?I mean you&#x27;re suggesting people use C++ for writing web apps (and c++98&#x2F;03 no less !) - that&#x27;s got to be facetious.The real contender back then was PHP and Java, RoR really addressed a lot of issues from both. They both adopted the improvements brought by it since, but it took years. reply pjmlp 4 hours agorootparentStackoverflow and plenty of Microsoft shops are enterprise enough.> Haskell, OCaml, D with great IDE support in 2006 ? Do they have that even today ?I mentioned Lekshat and Merlin for a reason, way better than Ruby with TextMate and Sublime.Yes plenty of people were using C++ for Web applications in 2000 - 2006, via Apache, ngix and IIS plugins. Microsoft had ATLServer, Borland&#x2F;Embarcadero still ship their webserver to this day.I can assert that plenty of Nokia Networks WebUIs, were powered by C++&#x2F;CORBA and Perl back in 2006. Transition to Java started in 2005.As did several CRM systems, like the original Altitude Software application server.RoR is for people that don&#x27;t care about performance to start with. replyrapsey 12 hours agorootparentprevThat was then and this is now. If you are building under endless VC money go ahead burn it. Most of us however do not have endless stacks of money to burn runing our code. reply cyclotron3k 11 hours agorootparentIf you think time-to-market, and overall cost are going to be improved by building your vanilla website in Rust or Go, vs Rails, then I think you may be surprised reply BytesAndGears 10 hours agorootparentYeah it’s nearly the main benefit of Ruby&#x2F;Rails that you can spin up an mvp of your company in like a week, and have a decent feature set within a couple months.The trap is when you start growing and it is hard to change. Because the features that took 1-2 months in RoR might take 3-4 months (or more!) to port to another language, and do you really want to stop your working business when it isn’t a problem?Because Rails performs totally fine at small-mid startup scale. It’s only when you start getting a couple years old with lots of users that it starts to bite you. But at that point you already have gotten further than 90% of startups ever even make it. And at that point, honestly there are solutions for that too, like gradually pulling the poor-performing bits out into faster languages.Writing this as someone who works for a startup that uses RoR, and I’ve seen it blow up over several years. I curse RoR daily because it pisses me off, but I don’t think this company would’ve gotten this far if it didn’t have the RoR speed at the beginning.So are you better off starting your company on Go&#x2F;Rust&#x2F;Java? Maybe. But if getting to market fast will help you win, it’s hard to beat RoR. reply rapsey 10 hours agorootparentIt is not 2006 anymore. Rails was a trailblazer. The productivity difference is not as large as it was compared to alternatives. reply tumdum_ 9 hours agorootparentThere are not comparably productive alternatives for rust right now :( reply brianwawok 5 hours agorootparentRust isn’t really a real language for web development though. Just in the bubble here. replyhcks 9 hours agorootparentprevName one success on the scale of Shopify using Rust reply rapsey 9 hours agorootparentAsync Rust has not been around long enough for lots of examples. Go has plenty of them. Rust is powering big parts of CloudFlare along with Go, which is way bigger scale. AWS also has big parts done in Rust. reply CaveTech 13 hours agoparentprevThese two points are entirely unrelated. Scaleability in that meme is not considering horizontal scalability, which approaches infinity for literally any language&#x2F;framework. It only makes sense in the context of vertical scalability, and gross req&#x2F;sec offers no insight into whether or not that&#x27;s true. reply Gigachad 13 hours agorootparentI can&#x27;t see how vertical scalability even matters for rails You can just start more instances. It&#x27;s not like two active web requests need to interact with each other. reply ChadMoran 1 hour agoparentprevPeople in this thread don&#x27;t know the difference between performance and scale. reply ChadMoran 13 hours agoparentprevRails scales fine. People use that as an escape hatch when they don&#x27;t know how to write performant code. reply Gigachad 13 hours agorootparentYou don&#x27;t even have to write performant code. You can just start as many instances of the rails app as you want. The bottleneck is usually the database. reply ChadMoran 13 hours agorootparentEach request gets its own server! Wait isn’t that lambda? reply rapsey 10 hours agorootparentRails has always been ahead of the curve. reply Scarbutt 13 hours agoparentprevAre there companies in the last 7 years that have started with rails and have become big like spotify? reply rahoulb 9 hours agorootparentDepends on your definition of big.Partly, you need mobile now, so any Rails stuff is likely to be back-end and hidden. Plus big investors like to go for the exciting stuff.But if you&#x27;re looking at companies aren&#x27;t household names (taking smaller amounts of investment), there are lots out there.Syft (recruitment) were founded in 2016 and have revenues of over $100m per year - although that&#x27;s partly due to acquisition by a larger competitor, so when I just looked, separating their valuation from the group wasn&#x27;t immediately obvious.I&#x27;ve freelanced and contracted across a few niche industries (construction, print, airport signage management!) where I was building something against competitor software that I discovered was at least partially built with Rails. Those big players in each niche would have revenue in the tens of millions and from what I could see, very small technical teams.But anyone outside those industries would never have heard of these companies. reply rognjen 12 hours agorootparentprev(I assume you mean Shopify not Spotify)No exactly a fair question because Shopify is much older and is valued at 70B. For a company to have done it in half the time would have been impressive regardless of tech whereas on average it takes 7 years to become a unicorn.I do know that Aircall is relatively young, on a good trajectory and runs Rails. reply bingemaker 13 hours agoparentprevWhat is the hardware spec here? reply charcircuit 13 hours agoparentprevYou need the number of servers and server specs to answer that question.Even if a piece of software could only handle 1 request per second you could handle 1.27M requests if you just run 1.27M servers. reply wgjordan 14 hours agoprev15% faster is great. But at what cost?> Since Ruby 3.3.0-preview2 YJIT generates more code than Ruby 3.2.2 YJIT, this can result in YJIT having a higher memory overlead. We put a lot of effort into making metadata more space-efficient, but it still uses more memory than Ruby 3.2.2 YJIT.I&#x27;m hoping&#x2F;assuming the increased memory usage is trivial compared to the cpu-efficiency gains, but it would be nice to see some memory-overhead numbers as part of this analysis. reply nomilk 13 hours agoparentThis is a particularly valid concern given ruby+rails seems quite memory inefficient to begin with. I&#x27;ve sometimes had smallish apps on 500mb heroku dynos crashing due to memory slowly climbing and eventually slowing things down as the dyno uses swap, and eventually 500mb of swap. IME ruby+rails doesn&#x27;t seem to free up memory after it uses it, and that causes problems as the hours go by until the pod&#x2F;dyno crashes or is restarted. reply jacobsenscott 13 hours agorootparentRuby processes don&#x27;t return the memory to the system,they reuse memory already allocated. This is for efficiency - allocating and freeing system memory isn&#x27;t free. Even if it did, your peak memory usage would be the same. It doesn&#x27;t allocate memory it doesn&#x27;t need.If your memory usage doesn&#x27;t plateau you have a memory leak which would be caused by a bug in your code or a dependency.But 500 to 1gb of memory required for a production rails app isn&#x27;t unusual. Heroku knows this, which explains their bonkers pricing for 2gb of memory. They know where to stick the knife. reply byroot 11 hours agorootparent> Ruby processes don&#x27;t return the memory to the systemThat is not correct. Ruby do unmap pages when it has too many free pages, and it obviously call `free` on memory it allocated once it doesn&#x27;t use it.What happens sometime though is that because of fragmentation you have many free slots but no free whole pages. That is one of the reason why GC compaction was implemented, but it&#x27;s not enabled by default.But in most case I&#x27;ve seen, the memory bloat of Ruby applications was caused by glibc malloc, and the solution was either to set MALLOC_ARENA_MAX or to switch to jemalloc. reply jacobsenscott 1 hour agorootparentI&#x27;m correct in practice. There are scenarios where ruby might free memory, but ruby is mostly used for rails, and you won&#x27;t ever see that under a standard rails workload. It will plataue and stay there until a restart. When people see this they think it&#x27;s a \"bug\" or a \"leak\" but it isn&#x27;t.On the last fairly large rails app I tried to use jemalloc on there was no change in memory usage. I believe that advice is a bit outdated. Also note using jemalloc doesn&#x27;t cause memory to be freed to the system. It reduces fragmentation, at the cost of cpu cycles. There&#x27;s no free lunch. reply vlovich123 13 hours agorootparentprevThat kind of thinking is a bit flawed unfortunately. You might hit your peak for 20 minutes a day but you’ve provisioned your system for that temporary worst case for the entire day and other services are paying that penalty. If it’s the only thing you’re running, maybe. But in practice there are other things you want to run on the machine to improve utilization rate (since services are not all hitting their peak simultaneous generally)That’s why good modern allocators like mimalloc and tcmalloc return memory when they notice it’s going unused, so that other services running on the machine can access resources. And this is in c++ land where things are even more perf sensitive. reply adgjlsfhk1 12 hours agorootparentTheoretically virtual memory and swap solve this problem really well. The OS is free to write the unused pages to disc to let other programs use the real memory. reply vlovich123 10 hours agorootparentSwap is horribly expensive and most hyperscalars run their servers without swap and set per-process memory limits, automatically killing workloads that go above their threshold.. reply adgjlsfhk1 1 hour agorootparentswap is only expensive if you are using the swapped out memory. if you are in a case where a program is just holding on to pages it isn&#x27;t using, swap is basically free. for most users, turning off swap is just losing performance since the OS can always use all of your RAM to cache disk access. reply jacobsenscott 12 hours agorootparentprevWhat if the other thing you&#x27;re trying to run runs at the same time that your rails app is using peak memory? You have no choice but to have enough memory for peak load.But if you really do need to cheap out you can generally configure your app server to kill idle worker processes, or bounce them on a schedule to return memory to the system, and hope. reply vlovich123 10 hours agorootparentSo that’s generally not very likely. You’re going to have some time of day effects that are shared but true “peak” tends to be service dependent rather than something all your services experience simultaneously from what I’ve seen (YMMV).Killing “idle” processes is also extremely expensive because you have to restart the process, reload all state, and doing graceful handoff is tricky.It’s good to have graceful handoff for zero downtime upgrades, but I still say having your allocator return RAM is the cheapest and easiest option and something good modern allocators do for you automatically. reply jacobsenscott 1 hour agorootparentThere is no one size fits all memory management technique. There are always tradeoffs. The scenario you are describing is not common for ruby apps. Ruby uses a memory management style that is suitable for most ruby workloads.All the production quality app servers handle killing and and starting new worker processes gracefully and efficiently by forking a running process. Certainly there is some overhead, but that&#x27;s why you don&#x27;t underprovision memory, so you don&#x27;t need to resort to that. reply diogenes4 12 hours agorootparentprev> If your memory usage doesn&#x27;t plateau you have a memory leak which would be caused by a bug in your code or a dependency.Extremely bold claim for a framework the size of ruby on rails. I would trot out my own evidence but the receipts are lost with time.Also—why isn&#x27;t the allocation behavior tweakable at runtime? Seems pretty trivial with no downsides. It&#x27;s not difficult to think of a scenario where a non-monotonically-increasing-heap-size is desirable. reply byroot 11 hours agorootparentThis person is incorrect, but even if they were correct, that wouldn&#x27;t be a framework thing.Memory management is handled by the language. reply diogenes4 2 hours agorootparentMany types of memory leaks are simply because you&#x27;re holding on to data you don&#x27;t need to hold onto anymore. Languages cannot prevent this, at least not that I&#x27;ve seen. reply byroot 2 hours agorootparentSure, but the person I responded to was suggesting that Rails was deliberately holding onto memory to re-use it.That&#x27;s absolutely not something Rails does, but it is something that some managed languages and some (most?) allocators do. replyOcha 13 hours agorootparentprevI’ve observed same, and every time I switched to jemalloc and the issue was fixed. reply nomilk 13 hours agorootparentWas it difficult to switch? What were the downsides &#x2F; tradeoffs? (I read about jemalloc recently but don&#x27;t know enough about it to confidently pursue it, but may try it on a small app if it&#x27;s straight forward). reply Ocha 13 hours agorootparentSuper easy and have not had an issue with it in over 10 years of using it. There is an example here on how to do it with docker image. https:&#x2F;&#x2F;mailsnag.com&#x2F;blog&#x2F;optimized-ruby-dockerfile&#x2F;. reply nomilk 13 hours agorootparentGoing to try this right now! Will report back.OOC, why isn&#x27;t this part a ruby default? Isn&#x27;t it always better to be more memory efficient. (I&#x27;m trying to understand what the trade offs are, if any)EDIT: well, exactly 6 minutes later, I&#x27;m done. I followed these instructions: https:&#x2F;&#x2F;elements.heroku.com&#x2F;buildpacks&#x2F;gaffneyc&#x2F;heroku-build...The app seems to work like usual, I&#x27;ll just have to wait and see what happens to memory use.I will reply here in 12 hours with a screen shot showing the results (before&#x2F;after memory use), whatever they may be.Also, for reference, here&#x27;s the metrics for the past 24 hours (LOTS of memory problems): https:&#x2F;&#x2F;imgur.com&#x2F;a&#x2F;M8IHd5z reply nomilk 20 minutes agorootparentFor anyone interested, here&#x27;s the result: https:&#x2F;&#x2F;imgur.com&#x2F;a&#x2F;c62gjKQ (the red vertical line is the point from which jemalloc was used).It looks like memory usage did indeed go down, and critical errors fell by about 84%. reply bmulholland 11 hours agorootparentprevYeah, I had the same reaction last week. It&#x27;s not a Ruby default because some versions of Linux can&#x27;t use it. ¯\\_(ツ)_&#x2F;¯ reply vlovich123 13 hours agorootparentprevHave you compared it against newer allocators like mimalloc or the rewritten tcmalloc (not the one in gperftools)? Jemalloc is a bit long in the tooth now. replyrapsey 12 hours agoprevTime spent profiling and optimizing inherently inefficient technologies is an undervalued factor when deciding what stack to use. reply wheels 12 hours agoparentAm I really going to have to get out the premature optimization quote?Most businesses fail. Those that don&#x27;t fail, usually don&#x27;t have interesting scaling issues. (You can go a really long way on a boring monolith stack.)So in most cases, whatever gets things out into the world and able to see if the business can be validated makes sense, and then you optimize later. A nonscalable stack that you can iterate on 50% faster is more likely to produce a viable company than a more scalable stack that&#x27;s slower to work with.If you&#x27;re a hired employee, it&#x27;s easy to forget that the place you&#x27;re working for is already a big exception just by the virtue of it grew large enough to hire you. reply berkes 11 hours agorootparentThis hints at a false dichotomy. One that especially Ruby and Rails keep afloat.Productivity and Scalability(in performance sense) aren&#x27;t opposites.Take Bash. Performs bad and is a guarantee for terrible productivity in a large category of software. But perfect for a niche. Take Java. Performs better than many, and allows for good productivity (if you avoid the enterprise architectures, but that goes for any language). Or take Rust. Productivity much higher than most C&#x2F;C++ and in my case higher than with Ruby&#x2F;Rails, and also much more performant. reply wheels 4 hours agorootparentIt&#x27;s a false dichotomy in theory. It&#x27;s mostly not in practice. And that was far truer in 2006 when Shopify got started. Then there really weren&#x27;t any modern web frameworks in performant languages.Primarily it&#x27;s not the language that makes people more or less productive, though it does have some influence. It&#x27;s mostly the frameworks in those languages. And traditionally the most modern &#x2F; full-featured web frameworks haven&#x27;t been in systems languages. The major counterexample at the moment (while still obviously not a systems language) is that modern JS VMs are actually really fast, so while I don&#x27;t love JS, it does hit that sweet spot at the moment of performance and mature frameworks.Also, I&#x27;ve never worked in Rust, but am mostly a systems programmer, and while I understand that Rust is supposed to be easier than C or C++, I&#x27;m skeptical that it&#x27;s as easy to work with as higher level languages, or that you could throw most web developers into Rust without some serious additional learning. reply fiedzia 8 hours agorootparentprev> Productivity and Scalability(in performance sense) aren&#x27;t opposites.They often clash with each other. Rust for example is a lot less pleasant to debug than interpreted languages and that is a loss of productivity. reply berkes 4 hours agorootparentNot in my case. Rust, for me, is much better for productivity than my other major languages Ruby and JavaScript. The main reason is type enforcement, which is why -for me- typescript is much more productive than JavaScript. A large category of bugs simply won&#x27;t exist (are caught at compiletime). With Ruby, I&#x27;d have to write hundreds of edge-case unit-tests just to cover stuff that, with Rust is enforced compile-time for me.The other reason is runtime speed. A typical Ruby test-suite takes me minutes to run. A typical Rails test suite tens of minutes. A typical Rust test-suite takesOverall YJIT is 61.1% faster than interpreted CRuby! > On Railsbench specifically, YJIT is 68.7% faster than CRuby!https:&#x2F;&#x2F;speed.yjit.org&#x2F;For 3.2 there also was an improvement of the interpreter:> We now speed up railsbench by about 38% over the interpreter, but this is on top of the Ruby 3.2 interpreter, which is already faster than the interpreter from Ruby 3.1. According to the numbers gathered by Takashi, the cumulative improvement makes YJIT 57% faster than the Ruby 3.1.3 interpreter.https:&#x2F;&#x2F;shopify.engineering&#x2F;ruby-yjit-is-production-ready reply alberth 13 hours agoprevTruffleRubyWhat&#x27;s the current state of Shopify running TruffleRuby, given the tragic loss of Chris Seaton? reply ufuk 2 hours agoparenthttps:&#x2F;&#x2F;railsatscale.com&#x2F;2023-06-12-truffleruby-in-shopify-c... reply Alifatisk 10 hours agoparentprevIs TruffleRuby compitable with Rails? If so, I wonder how much TruffleRuby would improve the performance and memory footprint.Especially with native images, I wonder how that would turn out. reply byroot 8 hours agorootparent> Is TruffleRuby compitable with Rails?Rails proper, yes. Small rails app are generally drop-in compatible, but sizeable applications are likely to run in a few compatibility issues as most gems aren&#x27;t tested against TruffleRuby.> I wonder how much TruffleRuby would improve the performance and memory footprint.The generally speaking Truffle is much faster at \"peak\" performance, but take very long to get there which makes it challenging to deploy.It also uses way more memory, but it&#x27;s partially offset by the fact that it doesn&#x27;t have a GVL, so you get parallel execution with threads. reply okeuro49 8 hours agoprevPHP went through some crazy performance improvements from PHP 5.6 to 7.0, in some cases running twice as fast.It&#x27;s good to see Ruby doing the same. There is something neat about the same code running faster, solely by being on an upgraded platform. reply hu3 6 hours agoparentYep. And PHP is possibly getting an optimizing compiler:https:&#x2F;&#x2F;www.reddit.com&#x2F;r&#x2F;PHP&#x2F;comments&#x2F;16hu7dq&#x2F;php_is_getting... reply stevebmark 11 hours agoprevNot to be pessimistic, but does this matter? Rails apps take 2-3x more resources to run than most other language stacks, including other dynamic languages, (including Perl!). reply bkazez 9 hours agoprev15% faster - and how much faster would Java, Rust, or Python be? reply dgb23 7 hours agoparentThat’s not easy to answer, because it’s not quite an apples to apples comparison if you start factoring in libraries, frameworks and the specific workload.My rule of thumbs:Python has similar performance characteristics as Ruby.With Java&#x2F;C#&#x2F;Go you’d expect about an order of magnitude of improvement.With naive Rust&#x2F;C++ you would likely be at the same average speed as Java for web applications but with less memory usage. Well until you make an effort to produce faster code. reply rurban 10 hours agoprev [–] Next should be github then, I hope replyApplications are open for YC Winter 2024 GuidelinesFAQListsAPISecurityLegalApply to YCContact Search:",
    "originSummary": [
      "Shopify has implemented YJIT, a just-in-time compiler for Ruby, in their vital services, leading to a 15% boost in performance.",
      "Other firms like Discourse and CompanyCam have seen substantial speed increases thanks to YJIT. The latest Ruby 3.3 YJIT has shown a 13% speed improvement over its predecessor.",
      "The performance leap in Ruby 3.3 YJIT is due to a new register allocator and expanded competency in compiling different kinds of Ruby code. Shopify anticipates further upgrades with the forthcoming release of Ruby 3.3."
    ],
    "commentSummary": [
      "Shopify reported a 15% performance increase in their production code through the optimization of Ruby with YJIT, indicating the value of runtime optimization in business success.",
      "The discussion involves the scalability of Ruby on Rails, balancing trade-offs between speed, scalability, and memory management, and the potential use of other languages, such as Go or Rust.",
      "The dialogue also debates the trade-off between productivity and scalability, providing examples of different programming languages and frameworks."
    ],
    "points": 153,
    "commentCount": 117,
    "retryCount": 0,
    "time": 1695178628
  },
  {
    "id": 37577354,
    "title": "A small community of unofficial Apple technicians in Cuba",
    "originLink": "https://restofworld.org/2023/underground-apple-techs-cuba/",
    "originBody": "Skip to content Reporting Global Tech Stories Latin AmericaAccess & Connectivity SUPPORT US 🤲 Search Search About Latest Newsletters Explore by REGIONS Africa Asia China Eastern Europe Latin America South Asia Middle East & North Africa SECTIONS Access & Connectivity Creators & Communities E-commerce Innovation Labor Money Politics The Platform Economy BEATS The Rise of AI China Outside China EV Revolution TikTok Domination Global Tech Downturn Fast Fashion Frenzy Sign up for our newsletter Name Email LEARN MORE About us Team news Work with us Support us Platforms FOLLOW US DARK MODE ACCESS & CONNECTIVITY The Genius Bar in a country where iPhones can’t legally be sold In the land of the U.S. embargo, Cuba’s Apple technicians are kings. Amr Dalsh/Reuters/Redux By LIDIA HERNÁNDEZ-TAPIA 18 SEPTEMBER 2023 • HAVANA, CUBA TRANSLATE ESPAÑOL PORTUGUÊS A small community of unofficial Apple technicians in Cuba is highly sought after by locals and foreigners alike. Blocked IP addresses and limitations on the import of parts mean that Cuba’s Apple “magicians” must use unusual tricks to get MacBooks and iPhones to work. Months after Ángel García Padrón fixed a German journalist’s MacBook Pro in his small Havana repair shop, she sent him an email. García Padrón had mended her waterlogged laptop after her home in Cuba flooded, but when the journalist took it to an official Apple Store in Berlin, the authorized repair person had expressed disbelief, saying there was no trace of any water damage at all. “Then my Cuban repairman must be a magician,” she recounted telling the Apple worker. García Padrón is used to conjuring these sorts of tricks on a daily basis — the skills required to deal with Apple products in Cuba require a special sort of magic. Even though prohibition limiting the exportation, re-exportation, sale, and supply of Apple products to Cuba was eased in 2015, getting a hold of, operating, and maintaining them can still be a challenge. This is in part because basic replacement parts are difficult to import, since they cannot be purchased directly from Apple. It’s not just hardware, either: Downloading apps or software updates is tricky because Cuban IP addresses are blocked. And setting up a new Apple ID with two-factor verification requires a phone number from outside Cuba. García Padrón is part of an exclusive circle of Apple enthusiasts who are defying Cuba’s constraints to create profitable repair businesses. In little more than a decade, these Cuban Apple technicians have evolved from casual tinkerers to a small yet thriving community of celebrity repairers, respected by locals and foreigners alike. The absence of official Apple stores and product resellers in Cuba has fostered a community-driven ecosystem that relies on unofficial suppliers and a transnational network of individuals who can travel abroad to buy hardware replacement parts. Technicians told Rest of World there are only a handful of Apple repair shops in Cuba, mostly clustered in Havana; it’s difficult to pinpoint the exact number as there are no official statistics. Orlando Gutiérrez is one Cuban trailblazer who opened Meca Móvil, his own iPhone repair shop in Havana’s Vedado neighborhood. Finding an Android repairperson, he told Rest of World, is easy enough. “You might even find a few on a single block,” he said. “But a Mac technician is the holy grail.” From the moment Meca Móvil officially opened its doors in 2011, Gutiérrez began to service the phones of Cuba’s elite creative class and local celebrities — the type of people who had the means to travel abroad and buy an Apple device back then. One of his loyal customers was the reggaeton singer Yosdani Jacob Carmenates, or Jacob Forever, known for his chart-topping track La Gozadera. Gutiérrez said the singer bought an iPhone during a visit to Miami, but then found that he was completely unable to use it upon his return to Havana. He couldn’t install apps or update his phone’s software — until he visited Meca Móvil. These cases are the easiest to fix, said Gutiérrez. The first step is to install a virtual private network (VPN) to disguise the device’s presence in Cuba. For VIP customers like Jacob Forever, Meca Móvil’s Apple troubleshooters would also install a bundle of commonly used apps. Back when he first started out, before 3G connectivity was widely available, Gutiérrez vividly remembers clients asking for apps like the offline version of Wikipedia (which he described as “Cuban Google”). Though times have changed — clients now ask for Duolingo, online banking app Banca Remota, or streaming platforms like Netflix — this service remains much the same. Though Meca Móvil shut down in 2015, Gutiérrez is now an Apple-specialized YouTuber. This arrangement proved particularly valuable during a time when public internet access points in Cuba were scarce and unaffordable for most people. Some Apple technicians discovered a workaround by securing state jobs that guaranteed internet connectivity, allowing them to regularly download apps and software they would later install in customers’ devices. Despite the Cuban peso’s devaluation over the past several years, the cost of installing an app package has consistently stayed within the range of $1–$5. Now, as Cubans have gained greater access to tech from abroad, services like creating Apple IDs and removing carrier locks on iPhones are still in demand — for which local technicians have developed their own creative strategies. To create an Apple ID, without which many of the phone’s functions won’t work, repair people must provide a foreign phone number to pass the two-factor authentication process. To accomplish this, they use free websites like TextNow, which offer users unlimited SMS messages and calls from outside of Cuba. “There’s a magic in fixing what others would have otherwise discarded.” Many Cubans will often ask repair people like García Padrón to install Windows on their Apple laptops. While MacBooks have become a status symbol across Havana’s universities and creative industries, many still prefer the Windows operating system as it’s easier to use in Cuba. Users with iPhones from U.S. cellphone carriers like AT&T, Verizon, or T-Mobile need a technician to remove the lock tying the device to its carrier so it can be used with a Cuban SIM card. Technicians also offer recurring services, such as periodically updating devices, which allows them to develop a sustainable business model and loyal customer base. These Apple repair shops thrived after 2011, when an economic reform authorized 75,000 licenses for entrepreneurs to establish small businesses, ranging from rental homes to electronic repair. However, while the licenses granted legality to the technicians’ economic activity, limitations persist regarding their capacity to import equipment and replacement parts from abroad. In April, Michel Álvarez Morales expressed his frustration on Facebook after a Hanchen LCD screen separator machine — commonly used to repair smartphones — was confiscated by Cuban Customs because the technician did not have an import permit. Technicians responded to the post, complaining about the difficulties they face in procuring simple tools like screwdrivers, microscopes, or welding machines. During the pandemic, when there was a limited number of flights to Cuba, 23-year-old Chris Gámez Ruiz needed to fix his MacBook Air’s keyboard. The Havana resident had purchased the laptop via Facebook for about 12,000 Cuban pesos (around $100 at the time). While he wasn’t drawn to the laptop’s design, he bought it as a “status symbol,” he told Rest of World, despite the fact that its keyboard was already broken when he bought it. Gámez Ruiz hired one of Cuba’s most sought-after MacBook technicians: Raiko Israel Pupo Hondal, the founder of Railab, an Apple repair shop in the Reparto Kohly neighborhood of Havana. A year after graduating with a degree in telecommunications, Pupo Hondal began working at a laptop repair shop, where he discovered the unique satisfaction of tackling challenging Mac-related issues that left other technicians stumped. Pupo Hondal first tried to order a replacement keyboard from abroad, but was unsuccessful. He then decided to replace it with another old keyboard that “only” had four broken keys. Gámez Ruiz was happy enough with the repair and paid Pupo Hondal with a broken iMac. After all its useful pieces were extracted, the iMac was displayed as a decorative piece in Railab, alongside a collection of other old and gutted Mac computers that have been recycled over a span of six years. “We Cubans are used to doing more with less,” Pupo Hondal told Rest of World. “Each Mac we successfully fix is a Mac we rescue from being discarded as waste — and even those we can’t fix, find new purpose in saving others. There’s a magic in fixing what others would have otherwise discarded.” Lidia Hernández-Tapia is a multimedia journalist, translator, and scholar. Read more stories MONEY The little-known blockchain firm behind Southeast Asia's digital payment systems Soramitsu, a Japanese company riding the wave of blockchain-based products supporting digital payments, has landed several deals with central banks. By SHAUN TURTON and BOPHA PHORN LABOR Drive fast and carry a fake wallet: How Pakistan’s gig workers stay safe Ride-hailing drivers aren't fully insured against crime, so they've developed high- and low-tech hacks to protect themselves. By ZUHA SIDDIQUI LABOR Uber hates this app that tells drivers whether it’s worth picking you up Brazil’s StopClub app shows drivers what every minute and mile of your ride is worth. By LAÍS MARTINS ABOUT US JOBS PRIVACY POLICY PLATFORMS NEWSLETTERS DONATE CONTACT US © 2023 REST OF WORLD",
    "commentLink": "https://news.ycombinator.com/item?id=37577354",
    "commentBody": "A small community of unofficial Apple technicians in CubaHacker NewspastloginA small community of unofficial Apple technicians in Cuba (restofworld.org) 153 points by donohoe 19 hours ago| hidepastfavorite46 comments a2tech 16 hours agoOur old exchange student from Turkmenistan insisted that there was an Apple store in a couple of malls in Ashgabat, but I showed her that Apple doesn&#x27;t officially sell anything in TM. She sent me some pictures and it was a complete clone of the official Apple store. Down to outfits, displays, the whole thing. Selling brand new, smuggled in, iPhones&#x2F;iPads&#x2F;etc. It was wild. reply radicaldreamer 16 hours agoparentThis was the case in China too until Apple heavily expanded there. There were many knockoff Apple Stores with slightly lower quality outfitting. Here&#x27;s an \"Apple Store\" in Iran: https:&#x2F;&#x2F;www.alamy.com&#x2F;stock-photo-tehran-iran-16th-oct-2014-... reply pertymcpert 14 hours agorootparentThere are still tons of fake apple stores in China. They&#x27;re also in prominent places that you&#x27;d expect Apple to open, not in small side streets etc. reply oefrha 13 hours agorootparentApple has lots of authorized resellers. Apple’s official site has a locator: https:&#x2F;&#x2F;locate.apple.com&#x2F;sales or https:&#x2F;&#x2F;locate.apple.com&#x2F;cn&#x2F;zh&#x2F;sales.Not being an official Apple Store doesn’t mean it’s fake, especially if it’s in a prominent mall or something. reply midasuni 4 hours agorootparentWhat a terrible site. It assumes I am only interested in sites near where it thinks I am. I type in “Cairo” and get no results at all. Amman comes out with a village in Wales. reply c22 1 hour agorootparentLol, I blocked the location request and it still limited my results to the region geolocated by my IP. reply pertymcpert 10 hours agorootparentprevI&#x27;m very well aware what they are. Authorized resellers are not supposed to look like real Apple stores.If you see an \"Apple Store\" that looks real but isn&#x27;t an official Apple Store then it&#x27;s fake, or its an authorized reseller that if Apple finds out about them will lose their status as a reseller. reply yen223 14 hours agoparentprevThere are no official Apple stores in Malaysia. But there are Apple \"premium resellers\" [1] who have shops that strongly resemble Apple stores.The ones in Malaysia are sanctioned by Apple, since they appear on Apple&#x27;s own store locator website [2].[1] Google \"machines malaysia\" for example[2] https:&#x2F;&#x2F;locate.apple.com&#x2F;my&#x2F;en&#x2F;sales?pt=4&lat=3.160000085830... reply ks2048 10 hours agorootparentThis seems to be the case in many parts of the world. Here is a picture of an \"iShop\" store in Guatemala City: https:&#x2F;&#x2F;maps.app.goo.gl&#x2F;GRuxFf5iupVfJApz8 reply rob74 5 hours agorootparentWell, yeah, maybe the furniture and interior design looks the same as in \"real\" Apple stores, but if you look at the sign outside of the store (can&#x27;t link to the specific photo on Google Maps unfortunately) there&#x27;s little danger of confusion... reply madarcho 9 hours agorootparentprevAnd we don&#x27;t necessarily need to step out of the western world to see it. I still remember Authorized Retailers in France before the expansion of Apple stores beyond the US. In Denmark, there is still exclusively these \"Premium Authorized Resellers\". reply gambiting 8 hours agorootparentThere&#x27;s lots of them in Poland even though Apple now has official presence in the country(although online only, I don&#x27;t think they have any official Apple Stores yet). reply csomar 6 hours agorootparentprevstrongly resemble is fine (maybe encouraged?). These stores do not claim Apple copyright and also advertise themselves as resellers. Also, being a premium reseller, they do handle warranty (regardless of whether you bought the product there, in another store, or from another country). reply MichaelZuo 16 hours agoparentprevDo you know of any pictures of these Turkmen &#x27;apple stores&#x27; online? reply a2tech 15 hours agorootparentI don’t. I’ll ask her if her sister who is still in country can send her a couple. I’ll update the thread if I get any. It’s a very interesting place, it’s a shame it’s so closed off. reply astrange 15 hours agoparentprevFor the longest time there was a store in Akihabara Tokyo that wasn&#x27;t a fake Apple Store, but really looked like it wanted to be one. reply tpmx 12 hours agorootparentSofmap Mac Collection, I think.https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20110426040855&#x2F;http:&#x2F;&#x2F;www.mac-co... reply ovi256 5 hours agoparentprevI knew of a fake Ikea mini-store in Kiev in 2014. reply throe37848 13 hours agoprevApple service network is not so great, good reason not to travel with Macbooks. DigitalNomad subreddit is full of horror stories and international flights to get machine fixed.PC has removable SSD and many cheap options to buy new machine. reply bobsmith432 4 hours agoparentThis isn&#x27;t even really a hateful comment about just making fun of Apple, why is this hidden? reply miki123211 5 hours agoprev> To accomplish this, they use free websites like TextNow+1 to TextNow here, if you need a free phone number in the US and you don&#x27;t actually live there, they&#x27;re the way to go (or were a few years ago at least.) reply ggm 16 hours agoprev [–] Since this kind of trade embargo is so lax, it can only be assumed to be formally a part of the foreign policy strategic goal: create sufficient internal backpressure to liberalise the market, that it makes sense for the Cuban government to give in. I wonder if it works?There is no specific \"only apple\" in this. So, all the anti-cuban government info is available via VPN from other places, via the local copy wikipedia &c. It would work on Android. There might be \"I trust apple more, I trust icloud more to protect my secrecy\" or \"Less spyware risk\" maybe.At this point, I would think that being part of a combine which collects old apple gear (actually, almost any ICT gear), puts it in a container, and ships to Havana would work fine. I doubt every US government body wants that so you&#x27;d be placed in the position of evading ITAR regulations or some equivalent.You would think that much the same happens in Syria, Libya, Iran, you-name-it: equipment beyond end-of-life in the developed west winds up either in the waste stream or part of a container delivered via various paths into these economies for the value it has, mending other things or being mended itself. reply nxobject 16 hours agoparentAnother classic example of used products given new life in an organized matter: a lot of used cars end up in Africa. reply OfSanguineFire 16 hours agorootparentI slowly hitchhiked from Europe to West Africa in 2007 and from Western Sahara on, my drivers were all French people driving some old car down to sell for a little quick cash. But already by that time Senegal had said enough already, and so drivers had to head for Mali or Burkina Faso instead. I wonder if the violence in those countries in recent years has put a damper on the used car trade, or if they too banned such informal imports. reply ggm 16 hours agorootparentABC news here in Australia has a story about Tonga drowning in 30,000 broken used cars, which has motivated an intervention to get a local crushing plant working so the metals can be sent back to Japan for recycling, and to get productive land back into use. Small pacific island economies are the end of the road in every sense.https:&#x2F;&#x2F;www.abc.net.au&#x2F;news&#x2F;science&#x2F;2023-09-19&#x2F;how-tonga-pla...Africa has different problems. Friends had to leave a Morris Minor van in the desert, there were no UK conforming spare parts, if they&#x27;d driven a french car or truck almost anything would have worked because metric. That was a few decades ago but they said the landscape was littered with broken cromwell, challenger and other tanks, from the desert campaigns. The rate of rain is low enough these metal hulks last many decades. reply Scoundreller 14 hours agorootparentI&#x27;m surprised removing scrap metal is that complicated&#x2F;expensive. Tonga has a container port, and I&#x27;m guessing they tend to receive full containers and send back out empties.Some places find ways to take advantage of this, e.g. Canada exports most of it&#x27;s bean&#x2F;pulse crop in bags to Asia in containers instead of bulk carriers. Wasn&#x27;t that long ago we did the same with scrap metal (maybe still do).Certainly a crusher&#x2F;cuber helps maximize density, but a torch or other cutting tools can go a long way to save space. And you&#x27;re mainly paying for weight anyway as the empty is a sunk cost. reply repiret 15 hours agorootparentprevhttps:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37565385One of the solutions proposed there is to set the import duty high enough to fund disposal of (at least) one car. reply toyg 11 hours agorootparentprev> drivers were all French people driving some old car downThe peugeotard way is basically a tradition stretching back to the &#x27;60s; for many, it&#x27;s just an excuse to have an epic road trip. I remember reading about it in the &#x27;90s in an excellent Italian book, Vado verso il Capo - 13.000 km attraverso l&#x27;Africa (Feltrinelli, 1996) by Sergio Ramazzotti. reply miguelazo 12 hours agoparentprevThere is nothing lax about the trade embargo. Tell that to the people who can’t get food and medicine. This stuff gets in because there’s still lots of travel and people are clever.> create sufficient internal backpressure to liberalise the market, that it makes sense for the Cuban government to give in. I wonder if it works?After more than 50 years, I think the answer is that it doesn’t work. And the US sanctions are illegal under international law, aside from being cruel and counterproductive. reply adolfojp 7 hours agorootparentFood and medicine get in because they&#x27;re exempt from the embargo and because the embargo doesn&#x27;t stop Cuba from engaging in commerce with other countries. Cuba imports 80% of its food and the US is one of its largest suppliers. reply 0xDEF 11 hours agorootparentprev>There is nothing lax about the trade embargo. Tell that to the people who can’t get food and medicine.Cubans have all the food and medicine they need because China, Europe, Canada, Mexico, and the rest of the world still trades with them.The US and Israel are the only countries that have imposed a (very lax) trade ban on Cuba. reply Synaesthesia 10 hours agorootparentIt&#x27;s a very extreme embargo, affecting all US companies or all companies that are connected to the US which is an enormous amount of them. It&#x27;s difficult for a European or foreign company to do business with Cuba because they could end up being sanctioned by the US. reply 0xDEF 10 hours agorootparentDoes that really happen? Has there been any incident of European companies being sanctioned by the US because they traded with Cuba?Here is a Danish article about more Danish and European companies operating in Cuba because they expect a Vietnam&#x2F;China-like economic boom:https:&#x2F;&#x2F;politiken.dk&#x2F;oekonomi&#x2F;gloekonomi&#x2F;art5577587&#x2F;Virksomh...Denmark is a NATO country and the US is our main export partner. We wouldn&#x27;t be trading with Cuba if it put our relationship with the US at risk. reply Maken 9 hours agorootparentYes, it does happen. Not long ago a Spanish company got in trouble because they operated an hotel in a building that belonged to an USA citizen before the Cuban revolution [1]. A Norwegian company was also charged for using a dock in Cuba, which again, was once American property [2]. I think this kind of thing is becoming more rare since apparently only people who was alive when the Helms-Burton nonsense was passed can litigate, but it is definitely a real danger for anybody doing business in Cuba.[1] https:&#x2F;&#x2F;www.vozpopuli.com&#x2F;economia_y_finanzas&#x2F;retiran-demand...[2] https:&#x2F;&#x2F;www.reuters.com&#x2F;business&#x2F;autos-transportation&#x2F;us-jud... reply cmrdporcupine 8 hours agorootparentprevIt absolutely happens. My friend&#x27;s father worked for a Canadian nickel mining company that did business in Cuba, and because of this couldn&#x27;t set foot in the US. Ships that dock in Cuban ports can&#x27;t then go to US ports. currency exchange, bank accounts, everything is complicated.It&#x27;s true the rest of the western world has basically said \"f you\" to the US about the trade embargo there, but it doesn&#x27;t mean that it&#x27;s ineffective. So much of western capitalism is built around the US financial and legal system that it has a huge impact, not to mention the consequences it can have for people traveling, etc.Perhaps the worst part about the embargo is that it gives the Cuban gov&#x27;t an excuse for its mediocrity and authoritarian behaviour. Basically all internal problems get blamed on it.And it has kept the Cuban regime in a hostile place re: the US. Obama made some moves to rectify this, but Trump reversed them and then doubled back down. reply miguelazo 1 hour agorootparent>And it has kept the Cuban regime in a hostile place re: the US.Exactly-- these embargoes and sanctions only hurt the general population and keep the government in a siege mentality. reply cmrdporcupine 1 hour agorootparentIn fact this may be exactly what parts of the US government want. A hostile dysfunctional authoritarian broken state claiming the mantle of \"socialism\" (dubious, but whatever) is a great example (along with Venezuela) to point to to say \"Why Socialism Bad, See?\"With the sanctions lifted one of two things would likely happen: the \"communist\" regime would disintegrate under competition, leaving something likely still hostile to the US but not particularly \"negative exemplar\"is -- like what happened in the eastern bloc -- or it would economically \"reform\" well enough to function&#x2F;compete in the world market (like Vietnam or China) while still pretending to be \"socialist.\" Neither of those outcomes are likely outcomes that US capital really wants.Plus at this point the Cuban economy is heavily dominated by trade competitors to the US. Spanish, Italian, French, and (to a lesser extent) Canadian companies dominate there. Its telecoms systems, electrical grid, energy, etc. are not based on US standards or tech. Non-US companies operate in places and on \"property\" that US capital still considers to be \"theirs\" from pre-revolutionary days. Imagine the legal clusterfuck when the blockade&#x2F;sanctions regime falls apart, and normal trade is attempted again...In any case, the Cuban people and most normal Cuban exiles aren&#x27;t doing well out of the status quo. But the Communist Party actually kinda prospers out of this arrangement, and it gives a good drum for right wing politicians in Florida to beat on.I&#x27;m sure Kissinger has some blueprint on this topic somewhere written down, and it&#x27;s propagated through successive administrations with little to no modification. replyyieldcrv 16 hours agoparentprev [–] Everybody’s enjoying Cuba for travel and accomodations except the US, and as usual in the US we only get the extreme perspective of whoever was a loser in their home country. Comfortable people don’t go out of their way to come here.It really skews our perspective, the Cuban government doesn’t need to give in to anything. The article is about a German resident just chilling in Cuba, and picking up an iPhone in Miami on a weekend bender. Nobody cares about the US’ political machinations so that Florida votes swing in the desired direction, the rest of the world gives Cuba enough commerce and doesnt think anything of it. reply refurb 16 hours agorootparentIronic how Cuba used to be a authoritarian country where Americans went to party.Now it&#x27;s an authoritarian country where everyone but Americans go to party. reply 54r4rf 15 hours agorootparentYou got exclusivity on Puerto Rico on the other hand. That didn&#x27;t get free after the invasion. reply ggm 14 hours agorootparentFEMA struggling to spend the money to get back on top from Hurricane Ian. If I was Boricuas I&#x27;d feel very \"are we 2nd class citizens again?\" about this. reply yieldcrv 14 hours agorootparent“again”aside from it being trendy to say equality and espouse those values, what about PR’s status suggests the residents would be anything other than a 2nd class of citizen under the United States? reply anon291 13 hours agorootparentPuerto Rico keeps getting asked if they want to be a state and keeps saying no. reply yieldcrv 13 hours agorootparentThe current Supreme Court has suggested being open to revisiting the insular casesThat would create additional outcomes to PR that they are never asked aboutThe insular cases are pretty unrecognizably appallingly racist for what we expect of the court, really go read them, so I could see them overruling it and wind up dropping Puerto Rico and Congress being unable to reach consensus on any other outcome reply ggm 13 hours agorootparentAbsolutely fascinating reading. Bound up in identity politics, but also shenanigans about how votes are counted, whats on the ballot, what combination of local politics vs the financial consequences for individuals (tax, benefits) you look at.Puerto Rican&#x27;s would gain some things in medicaid, have to pay different rates of tax, and lose some status in UN and LAC community contexts.On the mainland, both major parties ostensibly support in principle self determination. That said, I don&#x27;t see how the current political landscape could produce it, given the fracture lines.I loved this footnote in the wiki page: Another misconception is that the import&#x2F;export taxes collected by the U.S. on products manufactured in Puerto Rico are all returned to the Puerto Rico Treasury. This is not the case. Such import&#x2F;export taxes are returned only for rum products, and even then the U.S. Treasury keeps a portion of those taxes replycmrdporcupine 1 hour agorootparentprev [–] TBH as a Canadian been to Cuba many times, both for \"all inclusive vacation package\" trips and for \"real\" travel (rent a car, stay in casa particulars, tour around the country, meet and talk to real Cubans [in broken English&#x2F;Spanish]) and, I dunno... I don&#x27;t think I want to go back.Beautiful country, amazing people. But it&#x27;s kind of bleak, and not getting any better. I&#x27;m fairly radically left wing, and when I was younger I was more ambiguous about that regime -- critical but also fairly naive about it -- but I&#x27;ve seen enough now to just be totally critical.Cuba is corrupt and authoritarian and I don&#x27;t feel good about spending my money there.They throw people with opinions like mine in jail, they make ordinary people&#x27;s lives brutally hard, and it&#x27;s basically run by a mafia with the name \"Communist Party\" stamped on it.They&#x27;ve also become explicitly Putin-allied and part of that sphere of ick that pretends to be \"anti-colonial\" but is really are just vicious thugs.The US needs to drop the embargo, but that gov&#x27;t needs to end. Somehow. replyApplications are open for YC Winter 2024 GuidelinesFAQListsAPISecurityLegalApply to YCContact Search:",
    "originSummary": [
      "Apple technicians in Cuba are in high demand due to the challenges of acquiring and maintaining Apple products, due to the lack of official Apple stores and resellers.",
      "These technicians rely on an unofficial network of suppliers and individuals who travel abroad for replacement parts, and they have devised ingenious strategies to bypass issues like blocked IPs and restricted software update access.",
      "Undeterred by import limitations on equipment and parts, these technicians have built thriving repair businesses and continue to find creative solutions for their clients."
    ],
    "commentSummary": [
      "The discussion focuses on the group of unofficial Apple technicians in Cuba, underlining the effects of trade embargoes and informal importation of used items.",
      "It also delves into Puerto Rico's relationship with the United States, scrutinizing the support provided after Hurricane Ian and the political landscape of Puerto Rico.",
      "The conversation is characterized by criticism towards the US trade embargo on Cuba as well as the Cuban regime."
    ],
    "points": 153,
    "commentCount": 46,
    "retryCount": 0,
    "time": 1695160332
  },
  {
    "id": 37583219,
    "title": "SeaGOAT – local, “AI-based” grep for semantic code search",
    "originLink": "https://github.com/kantord/SeaGOAT",
    "originBody": "Skip to content Product Solutions Open Source Pricing Search or jump to... Sign in Sign up kantord / SeaGOAT Public Notifications Fork 5 Star 258 Code Issues 21 Pull requests 1 Discussions Actions Projects Security Insights kantord/SeaGOAT main 27 branches 88 tags Go to file Code Latest commit github-actions 0.29.0 … e4b7acc Git stats 449 commits Files Type Name Latest commit message Commit time .github/workflows chore(deps): update python-semantic-release/python-semantic-release a… asciinema docs: add titles to slideshow gif assets docs: add titles to slideshow gif docs docs: document query API seagoat 0.29.0 tests feat: include isRunning for server-info typings/git feat: allow returning list of files .gitignore feat: add --context/--context-above-/--context-below .licrc perf: use server to make all queries .markdownlintignore chore: don't markdownlint CHANGELOG.md .pre-commit-config.yaml feat: analyze all files using the queue .pylintrc feat: group results together when printing with bat CHANGELOG.md 0.29.0 LICENSE docs: add license README.md feat: support .cc and .cxx files SECURITY.md docs: fix too long lines in SECURITY.md mkdocs.yml feat: allow running server on custom port poetry.lock chore(deps): update dependency mkdocs-material to v9.3.2 (#217) poetry.toml feat: allow returning list of files pyproject.toml 0.29.0 renovate.json feat: add --version to seagoat-server README.md SeaGOAT A code search engine for the AI age. SeaGOAT is a local search tool that leverages vector embeddings to enable to search your codebase semantically. Note: I was recently laid off my job and I am looking for new opportunities. If you need a Senior Full Stack Developer, contact me! I have experience with React, Node and Python and I'm located in Spain (European Union). 10+ years in software development professionally. Getting started Install SeaGOAT In order to install SeaGOAT, you need to have the following dependencies already installed on your computer: Python 3.11 or newer ripgrep bat (optional, highly recommended) When bat is installed, it is used to display results as long as color is enabled. When SeaGOAT is used as part of a pipeline, a grep-line output format is used. When color is enabled, but bat is not installed, SeaGOAT will highlight the output using pygments. Using bat is recommended. To install SeaGOAT using pipx, use the following command: pipx install seagoat System requirements Hardware Should work on any decent laptop. Oporating system SeaGOAT is designed to work on Linux (tested ✅), macOS (partly tested, help 🙏) and Windows (help needed 🙏). Start SeaGOAT server In order to use SeaGOAT in your project, you have to start the SeaGOAT server using the following command: seagoat-server start /path/to/your/repo Search your repository If you have the server running, you can simply use the gt or seagoat command to query your repository. For example: gt \"Where are the numbers rounded\" You can also use Regular Expressions in your queries, for example gt \"function calc_.* that deals with taxes\" Stopping the server You can stop the running server using the following command: seagoat-server stop /path/to/your/repo Development Requirements: Poetry Python 3.11 or newer ripgrep Install dependencies After cloning the repository, install dependencies using the following command: poetry install Running tests Watch mode (recommended) poetry run ptw Test changed files poetry run pytest . --testmon Test all files poetry run pytest . Manual testing You can test any SeaGOAT command manually in your local development environment. For example to test the development version of the seagoat-server command, you can run: poetry run seagoat-server ~/path/an/example/repository FAQ The points in this FAQ are indications of how SeaGOAT works, but are not a legal contract. SeaGOAT is licensed under an open source license and if you are in doubt about the privacy/safety/etc implications of SeaGOAT, you are welcome to examine the source code, raise your concerns, or create a pull request to fix a problem. How does SeaGOAT work? Does it send my data to ChatGPT? SeaGOAT does not rely on 3rd party APIs or any remote APIs and executes all functionality locally using the SeaGOAT server that you are able to run on your own machine. Instead of relying on APIs or \"connecting to ChatGPT\", it uses the vector database called ChromaDB, with a local vector embedding engine and telemetry disabled by default. Apart from that, SeaGOAT also uses ripgrep, a regular-expression based code search engine in order to provider regular expression/keyword based matches in addition to the \"AI-based\" matches. While the current version of SeaGOAT does not send your data to remote servers, it might be possible that in the future there will be optional features that do so, if any further improvement can be gained from that. Why does SeaGOAT need a server? SeaGOAT needs a server in order to provide a speedy response. SeaGOAT heavily relies on vector embeddings and vector databases, which at the moment cannot be replace with an architecture that processes files on the fly. It's worth noting that you are able to run SeaGOAT server entirely locally, and it works even if you don't have an internet connection. This use case does not require you to share data with a remote server, you are able to use your own SeaGOAT server locally, albeit it's also possible to run a SeaGOAT server and allow other computers to connect to it, if you so wish. Does SeaGOAT create AI-derived work? Is SeaGOAT ethical? If you are concerned about the ethical implications of using AI tools keep in mind that SeaGOAT is not a code generator but a code search engine, therefore it does not create AI derived work. That being said, a language model is being used to generate vector embeddings. At the moment SeaGOAT uses ChromaDB's default model for calculating vector embeddings, and I am not aware of this being an ethical concern. What programming langauges are supported? Currently SeaGOAT is hardcoded to only process files in the following formats: Text Files (*.txt) Markdown (*.md) Python (*.py) C (*.c, *.h) C++ (*.cpp, *.cc, *.cxx, *.hpp) TypeScript (*.ts, *.tsx) JavaScript (*.js, *.jsx) HTML (*.html) Go (*.go) Java (*.java) PHP (*.php) Ruby (*.rb) About local-first semantic code search engine kantord.github.io/SeaGOAT/ Topics ai regular-expression embeddings code-search grep ripgrep code-search-engine grep-like vector-database vector-embeddings llm Resources Readme License MIT license Security policy Security policy Activity Stars 258 stars Watchers 3 watching Forks 5 forks Report repository Releases 85 v0.29.0 Latest + 84 releases Packages No packages published Contributors 7 Languages Python 99.6% Shell 0.4% Footer © 2023 GitHub, Inc. Footer navigation Terms Privacy Security Status Docs Contact GitHub Pricing API Training Blog About",
    "commentLink": "https://news.ycombinator.com/item?id=37583219",
    "commentBody": "SeaGOAT – local, “AI-based” grep for semantic code searchHacker NewspastloginSeaGOAT – local, “AI-based” grep for semantic code search (github.com/kantord) 151 points by kantord 5 hours ago| hidepastfavorite29 comments freckletonj 2 hours agoHey OP, this looks awesome!I&#x27;ve done the same but was very disappointed with the stock sentence embedding results. You can get any arbitrary embedding, but then the cosine similarity used for nearest neighbor lookup gives a lot of false pos&#x2F;negs.*There are 2 reasons:*1. All embeddings from these models occupy a narrow cone of the total embedding space. Check out the cos sim of any 2 arbitrary strings. It&#x27;ll be incredibly high! Even for gibberish and sensical sentences.2. The dataset these SentenceTransformers are trained on don&#x27;t include much code, and certainly not intentionally. At least I haven&#x27;t found a code focused one yet.*There are solutions I&#x27;ve tried with mixed results:*1. embedding \"whitening\" forces all the embeddings to be nearly orthogonal, meaning decorrelated. If you truncate the whitened embeddings, and keep just the top n eigenvalues, you get a sort of semantic compression that improves results.2. train a super light neural net on your codebase&#x27;s embeddings (takes seconds to train with a few layers) to improve nearest neighbor results. I suspect this helps because it rebiases learning to distinguish just among your codebase&#x27;s embeddings.*There are solutions from the literature I am working on next that I find conceptually more promising:*1. Chunk the codebase, and ask an LLM on each chunk to \"generate a question to which this code is the answer\". Then do natural language lookup on the question, and return the code for it.2. You have your code lookup query. Ask an LLM to \"generate a fabricated answer to this question\". Then embed it&#x27;s answer, and use that to do your lookup.3. We use the AST of the code to further inform embeddings.I have this in my project UniteAI [1] and would love if you cared to collab on improving it (either directly, or via your repo and then building a dependency to it into UniteAI). I&#x27;m actually trying to collab more, so, this offer goes to anyone! I think for the future of AI to be owned by us, we do that through these local-first projects and building strong communities.[1] https:&#x2F;&#x2F;github.com&#x2F;freckletonj&#x2F;uniteai reply GranPC 15 minutes agoprevCool project! Just trying it out now - does it support CUDA acceleration? I&#x27;m running it on a rather large project and it claims it&#x27;s got over 140k \"tasks left in the queue\", and I see no indicator of activity on nvidia-smi. reply jasonjmcghee 3 hours agoprevI&#x27;ve been test driving a similar one https:&#x2F;&#x2F;github.com&#x2F;sturdy-dev&#x2F;semantic-code-searchBut yours has a more permissive license!I also had to modify it a bit to allow for the line endings I needed and it frustratingly doesn&#x27;t allow specifying a path, and often returns tests instead of code reply FloatArtifact 4 hours agoprevI would love to plumb this up with a speech recognition engine via commands as well as free dictation. I can see this being useful for navigating code semantically. reply freckletonj 2 hours agoparentUniteAI brings together speech recognition and document &#x2F; code search. The major difference is your UI is your preferred text editor.https:&#x2F;&#x2F;github.com&#x2F;freckletonj&#x2F;uniteai reply kantord 4 hours agoparentprevactually I&#x27;m also working on a small web gui for it, it could be fairly easy to add speech recognition on the web version!https:&#x2F;&#x2F;github.com&#x2F;kantord&#x2F;SeaGOAT-web reply signa11 4 hours agoparentprevthankfully perl is no longer in vogue. reply smoe 2 hours agoprevLooks very neat! Currently processing the repo I&#x27;m working on.Can the generated database be easily shared within the team so not everyone has to run the initial processing of the repo which seems that it will take a couple of hours on my laptop? reply jarulraj 5 hours agoprevNeat AI app!1. What feature extractor is used to derive code embeddings?2. Would support for more complex queries be useful inside the app? --- Retrieve a subset of code snippets SELECT name FROM snippets WHERE file_name LIKE \"%py\" AND author_name LIKE \"John%\" ORDER BY Similarity( CodeFeatureExtractor(Open(query)), CodeFeatureExtractor(data) ) LIMIT 5; reply kantord 4 hours agoparentembeddings are done using ChromaDBsupport for more complex queries could be useful, but probably not using a query language since that would make it more difficult to use free-form text input.You can already use it using an API: https:&#x2F;&#x2F;kantord.github.io&#x2F;SeaGOAT&#x2F;0.27.x&#x2F;server&#x2F;#understandi... so probably the best way to add support for more complex queries would be to have additional query parameters, and also to expose those flags&#x2F;options&#x2F;features through the CLI reply dylanjcastillo 4 hours agorootparentFor those curious about it, ChromaDB uses all-MiniLM-L6-v2[0] from Sentence Transformers[1] by default.[0] https:&#x2F;&#x2F;docs.trychroma.com&#x2F;embeddings#default-all-minilm-l6-...[1] https:&#x2F;&#x2F;www.sbert.net&#x2F;docs&#x2F;pretrained_models.html reply kantord 4 hours agorootparentprevbtw I am also working on a web version of it that will allow you to search in multiple repositories at the same time and you will be able to self host it at work, or run it locally in your machine. https:&#x2F;&#x2F;github.com&#x2F;kantord&#x2F;SeaGOAT-webso that could provide a nicer interactive experience for more complex queries reply billconan 50 minutes agoprevif the code doesn&#x27;t contain comments, can it still work?will it generate code comments for indexing using a language model? will that be expensive (assuming using GPT3)? reply hackncheese 3 hours agoprevMy work has 10ish repos we use, looks like this needs to be run in a specific git repo. Is there a way for this tool to run in a parent directory that contains all the repos we use with the same functionality? reply kantord 3 hours agoparentThat could be a new added feature, feel free to add a new issue on it reply artisanspam 5 hours agoprevWhat are the limitations on what languages this supports? reply kantord 5 hours agoparentCurrently it is hard limited to these file extensions: https:&#x2F;&#x2F;github.com&#x2F;kantord&#x2F;SeaGOAT&#x2F;blob&#x2F;ebfde263b970ddecdddf...It is to avoid wasting time processing files that cannot lead to good results. If you want to try it for a different programming language, please fork the repo and try adding your file formats and test if it gives meaningful results, and if it does please submit a pull request.Other than that one limitation is that it uses a model under the hood that is trained on a specific dataset which is filtered for a specific list of programming languages. So without changing the model as well, the support for other languages could be subpar. At the moment the model is all-MiniLM-L6-v2, here&#x27;s a detailed summary of the dataset: https:&#x2F;&#x2F;huggingface.co&#x2F;sentence-transformers&#x2F;all-MiniLM-L6-v... reply kantord 4 hours agorootparentalso I plan to add features that incorporate a \"dumb\" analysis of the codebase in order to avoid spamming the results with mostly irrelevant results such as import statements or decorators. Those features would be language dependent, so support would need to be added for each language reply tinix 4 hours agorootparentprevextensions are configurable or truly hard coded? reply kantord 4 hours agorootparentit is hardcoded at the moment, but I am willing to merge code that adds the option to override.Also probably a flag would solve it for some users, the best way would be to add a configuration option. At the moment there are no config file&#x2F;.rc file support in SeaGOAT though, but there is an issue to add it and I&#x27;m happy to merge pull requests: https:&#x2F;&#x2F;github.com&#x2F;kantord&#x2F;SeaGOAT&#x2F;issues&#x2F;180 reply kantord 4 hours agorootparentupdate: I changed the hardcoded set of languages to support the following:Text Files (.txt) Markdown (.md) Python (.py) C (.c, ``.h`) C++ (.cpp, .hpp) TypeScript (.ts, .tsx) JavaScript (.js, .jsx) HTML (.html) Go (.go) Java (.java) PHP (.php) Ruby (.rb)https:&#x2F;&#x2F;github.com&#x2F;kantord&#x2F;SeaGOAT#what-programming-langauge... reply rockostrich 4 hours agorootparentprevBased on the code, they&#x27;re hardcoded. It seems like it&#x27;d be pretty straightforward to add an override flag though. reply m3kw9 3 hours agoprevWhy not embed names of functions and variables to form a vector so you are language agnostic? Are you limited by the language parser that embeds the names? reply hollowpython 3 hours agoprevDoes anyone know a tool like this but for arbitrary PDFs? reply freedmand 3 hours agoparentSemantra! Shared it yesterday on HN https:&#x2F;&#x2F;github.com&#x2F;freedmand&#x2F;semantra reply freckletonj 2 hours agoparentprevIf you&#x27;re ok working in a text editor, UniteAI works on pdfs, youtube transcripts, code repos, web pages, local documents, etc. The nice thing about the editor is once it&#x27;s done retrieval, you can hit another keycombo to send retrieved passages to an LLM (local, or chatgpt), and ask questions or favors about it (such as summarization, or formatting changes).https:&#x2F;&#x2F;github.com&#x2F;freckletonj&#x2F;uniteai reply kantord 3 hours agoparentprevbtw pdf support could probably be added to seagoat itself by adding a layer that translates the pdf files to text files and probably some added changed to make sure that the page number is also included in the results reply retrofuturism 2 hours agoprevThis would make a useful (nvim) Telescope plugin. Looks super interesting. reply la64710 3 hours agoprev [–] Just curious , did you use any LLM to generate code for this? BTW really awesome work! replyApplications are open for YC Winter 2024 GuidelinesFAQListsAPISecurityLegalApply to YCContact Search:",
    "originSummary": [
      "SeaGOAT is an open-source code search engine that utilizes vector embeddings for semantic search in codebases, compatible with Linux, macOS, and Windows.",
      "The tool maintains privacy and security by not relying on remote APIs and not sending data to external servers. It uses ChromaDB's model for vector embeddings and supports multiple programming languages.",
      "SeaGOAT, under the MIT license and actively updated on GitHub, requires a server for quick responses, but it can also run offline. It is essential to note that it is not a code generator and does not create AI-derived work."
    ],
    "commentSummary": [
      "SeaGOAT is an AI-powered grep tool designed for semantic code search, leveraging embeddings to enhance nearest neighbor lookup and support complex queries.",
      "The tool presently supports multiple programming languages, and future plans include adding additional features like codebase analysis and PDF file support.",
      "There is potential for integration of SeaGOAT with speech recognition engines and text editors, as suggested by some users."
    ],
    "points": 147,
    "commentCount": 28,
    "retryCount": 0,
    "time": 1695211989
  },
  {
    "id": 37580113,
    "title": "100 Parking Tickets (2004)",
    "originLink": "https://100parkingtickets.com/",
    "originBody": "100 Parking Tickets Over 100 Parking Tickets. All different Makes, Models & Colors. The Story: So I was new to California Along with a new convertible, I decide to get some personalized plates. I could not believe my luck, when I found out that my initials \"NV\" (ph. \"envy\") were available. Not that I think anyone would be envious of me in my Miata, but it seemed like a good idea at the time. But then, I started to get random parking tickets from Los Angeles. Where my car has never been. For every type of car. Except a Mazda. Which is what I drive. No problem, right? Just call them up, deal with a healthy level of skepticism when I tell them the ticket isn't mine... no really. I would ask them what make & color the ticket is for. I would ask them what make & color my car is. They would always be different. Even a highly skeptical city clerk can't argue with that. Then the notices of unpaid violations slowly start to come in from all over California. Because when the license plate is Not Visible, the charming traffic wardens enter \"NV\" as the license plate. Sometimes they would explain that it was a training issue and they would soon stop bugging me with tickets. Then the city of Oakland has a computer upgrade. The first day I get five tickets. The next day... three. And they kept on sending them. For every type of car imaginable including BMW's and Porsches, every car imaginable, except for a white two door Mazda. Now I know what you are thinking, BMW's & Porsches don’t park in Oakland. I was surprised too. But more than that, I was tired of sitting on hold for twenty minutes, waiting to talk to a skeptical city employee. So I returned the custom plates to the DMV, and someone at Oakland told me that all fifty tickets would be put under administrative review. Problem solved? Not even. First, the DMV refused to issue me my registration, until I got a piece of paper saying I was not guilty. Then I received a notice that the Franchise Tax Board wanted to garnish my wages. Not with cilantro either. Then I get a notice stating that any tax refund I get will be going to the City of Oakland. That is when I started feeling a little irate. And a little wiser. I tried calling my local police department, to see if there was a bench warrant out for my arrest. The friendly officer told me that I would have to come to the office... in person. And I swear, she said this with what sounded like a straight face. As a last resort, I started to post the story on the internet. You never know. Someone might want a collection of over fifty parking violations from seven different counties for all different makes and models. The asking price was the total owed on all the tickets... $3000. The only thing that made me feel a little better, was that the lovely folks at Oakland told me someone driving a BMW had the license plates \"NV\". So if you see a BMW owner with the plates \"NV\", give him a wave. Tell him you work for the City of Oakland. For the traffic violations department. See if he goes green. You know, from envy. NVCopyright 2004 by 100ParkingTickets.com",
    "commentLink": "https://news.ycombinator.com/item?id=37580113",
    "commentBody": "100 Parking Tickets (2004)Hacker Newspastlogin100 Parking Tickets (2004) (100parkingtickets.com) 145 points by thunderbong 14 hours ago| hidepastfavorite113 comments dkjaudyeqooe 4 hours agoBack in the 90&#x27;s I moved to one side of Australia to the other, and to a different state, but I didn&#x27;t change my drivers licence or car registration as required, because I figured the authorities had no way of catching me, and it was 10 times more expensive in my new state.When I got a ticket nothing happened because the two state authorities didn&#x27;t exchange information about car ownership for parking and traffic violations. I ran up probably $20,000 dollars worth of tickets pretty quickly, given I could park with impunity in a place where parking was impossible or super expensive (central Sydney). Also various speeding tickets.Then I got a contract with the local driver licensing authority. My job: facilitate exchange of information between states for penalties associated with out of state plates.I know what you&#x27;re thinking: just filter out anything to do with my licence plates. But that would be unethical (cough). And I&#x27;d get caught.As it happened, the first task was to apply it to trucks who were the worst offenders since they routinely travelled between states and there were obvious safety issues.So I asked my boss about when the same would be done for out of state cars, \"out of curiosity\".He said \"20 years to never. It&#x27;s too hard [for bureaucratic reasons]\". reply blamazon 3 hours agoparentNever say never: Where I&#x27;m from, in 2019 a truck driver killed seven motoryclists[1] while driving on what should have been a suspended license because of inter-state inefficiencies, which were quickly fixed after public outrage. They actually even sort of fixed it too much while clearing out the backlog. [2][1]: https:&#x2F;&#x2F;www.masslive.com&#x2F;news&#x2F;2022&#x2F;01&#x2F;massachusetts-man-suin...[2] https:&#x2F;&#x2F;www.nbcboston.com&#x2F;investigations&#x2F;the-mass-rmv-issued... reply chasing 4 hours agoparentprev> I ran up probably $20,000 dollars worth of tickets pretty quickly, given I could park with impunity in a place where parking was impossible or super expensive (central Sydney). Also various speeding tickets.Hey, man. Cool hack. I’m sure everyone appreciated the dangerous driving and parking in handicap spots and bus lanes and what-have-you… reply TheHappyOddish 3 hours agorootparentOr (as is implied in the stort), he simply didn&#x27;t pay for parking around Sydney - very expensive - and the fines likely got interest and compounded.Don&#x27;t assume the worst in people. reply chasing 2 hours agorootparent\"I could park with impunity in a place where parking was impossible\" -- I.e., parking where he should&#x27;ve have been in the first place regardless of expense.\"Also various speeding tickets.\" -- The opposite of parking.\"I ran up probably $20,000 dollars worth of tickets pretty quickly\" -- I read this as \"within a year or so I got fines totaling around $20k,\" which is fucking nuts. reply dkjaudyeqooe 2 hours agorootparentI can give you a rough breakdown:- mostly street parking over the 2 hour limit. I couldn&#x27;t get a residency parking permit and I had no off street parking.- not paying or overstaying parking meters- loading zones, mostly on the weekend, I worked during the week- sometimes &#x27;no parking&#x27; zones, but I wasn&#x27;t stupid about it because you&#x27;d get towed- exclusively speed camera fines, I never got pulled over for speeding.- using high occupancy lanes with just the driverKeep in mind that a single parking ticket was up to $375 at the time. Speeding fines were minimum $300 (they&#x27;re like $2000 now).The $20,000 is an estimate, since I never got the fines, that&#x27;s over a couple of years. I later did register a car in state and ended up not paying fines again (somehow) which ran to about $15,000 over a year (At the time there was no effective punishment. They used to lock you up until you paid, but then some poor guy who refused to pay was put in prison and beaten to within an inch of his life, consequently becoming disabled for life, so they got rid of that. There is another funny story about how I narrowly avoided arrest a decade later for all these fines when walking into a police station to get the required police check for getting my Diversity Visa approval).Obviously there is a difference between not paying your fines and blocking buses or traffic. Besides it being stupid, if you get towed, are in a serious accident, or the police attends and they run your plates, then the jig is up, they&#x27;ve found you and you&#x27;re toast. There was an element of risk involved at all times. reply chasing 43 minutes agorootparentSorry for insinuating one of your ~100 tickets (~$35k&#x2F;~$350) over three years involved blocking a bus when in reality you were just being a constant low-grade nuisance. replytokai 4 hours agoparentprev>I know what you&#x27;re thinking: just filter out anything to do with my licence plates.No not at all, I was thinking you sound like a selfish git. reply photonerd 3 hours agoparentprevI get the sense you’re proud of this story, and do not realize how negatively it paints you reply kens 12 hours agoprevThere was a similar story in comp.risks (anyone remember that?) back in 1986. When ordering a custom plate, you could put down three choices. The guy applying could only think of two choices (\"SAILING\" and \"BOATING\"). If he couldn&#x27;t get one of those, he didn&#x27;t want a custom plate, so he put \"NO PLATE\" as the third choice. Of course that was the plate he got. He ended up getting 2500 parking tickets, since any car with no plate was marked on the ticket as \"NO PLATE\".The full story with references: https:&#x2F;&#x2F;catless.ncl.ac.uk&#x2F;Risks&#x2F;3&#x2F;12#subj1 reply prawn 10 hours agoparentA journalist here in Australia just named her baby \"Methamphetamine Rules\" because she assumed it would be rejected and was writing a story trying to find out what the default assigned name was. Only it wasn&#x27;t rejected and she received a birth certificate with that name.https:&#x2F;&#x2F;www.theguardian.com&#x2F;australia-news&#x2F;2023&#x2F;sep&#x2F;19&#x2F;can-y... reply tyingq 7 hours agorootparent“We chose methamphetamine thinking there’s no way that anyone will see that word and think it’s OK,” \"Drysdale said she was under the impression that if a name was rejected by the registry, they choose one for you.\"Surely this person is just some sort of attention seeker. Nobody is this dumb. reply gumby 5 hours agorootparent> Surely this person is just some sort of attention seeker. Nobody is this dumb.In some countries it does work this way.Luckily for the kid, when you change your name in Australia you are issued an entirely new birth certificate (I know because I changed my name!) so this child won&#x27;t go through life with this name on its birth certificate and then a \"change of name\" certificate like in some countries.More generally though, dome countries have a list of permitted names and whatever the registrar writes down (which might not be what you asked for) is the child&#x27;s name.Most of the European countries that had such rules have relaxed or given them up, though they sometimes remain on the books to keep parents from doing this kind of thing, but they remain in some countries in other regions of the globe.This \"whatever the registrar writes down is authoritative\" applied to immigrants to the US in the late 19th and early 20th century which is why there are many common names spelled differently (Schmidt, Shmitt, and so forth). Also applied to family names when they were made mandatory (Prussia in mid 19th century, Turkey in the 1920s). In this case they often simply made the decisions with no option to appeal, which you can see Jewish family names that are joke names made up and assigned by antisemitic officials. Most of those people&#x27;s descendants now live in other countries where the meaning is thankfully lost. reply ovi256 6 hours agorootparentprev> just some sort of attention seeker That&#x27;s redundant, we already know she was a journalist. reply prawn 4 hours agorootparentprevShe was effectively researching for a media segment. So attention seeking like a newsreader, or an actor, or a start-up issuing a press release.The agency had indicated that a name would be chosen by the registrar but wouldn&#x27;t tell her what it would be, so she aimed to find out.Not what I&#x27;d do, but I think it&#x27;s curiosity and maybe flippant more than dumb. reply sokoloff 6 hours agorootparentprevI used to think that way. Decades of experience have led me to conclude that there really are an incredibly large number of people who are thatreply op00to 5 hours agorootparentprevReading the entire article often prevents you from looking like a fool. reply tyingq 5 hours agorootparentDo you mean \"they choose one for you\" happens to be true? Does depending on that, or hoping what they choose is okay make her not dumb and not attention-seeking? reply RoyalHenOil 5 hours agorootparentprevNo joke, the mother of one of my friends changed her name to...just her first name. She eliminated her last name. This is also in Australia.Not having a last name has caused her all kinds of problems. Australia may not officially require you to have a last name, but passports, driver&#x27;s licenses, credit cards, utilities, etc., still require there to be something in that space. She kinda-sorta gets by using \"[first name] [firstname]\" or \"[first name] NoLastName\", but it is still a bureaucratic nightmare -- as I think anyone but her could have predicted. reply seanmcdirmid 4 hours agorootparentMany countries don’t allow name changes at all, so if you are a named- hanged foreigner living in that country, a lot of systems won’t be able to handle you, and you’ll be asking for exceptions for your entire stay (not to mention needing to carry around your birth certificate, proof of name change, and translations).And I think changing your maiden name in marriage is still common in the west, so many foreigners run into this in a country like China.Many Indonesians don’t have last names, I wonder how immigration is handled. Wiki has a whole section on how other countries handle this, since Indonesia isn’t a small country:https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Indonesian_names#:~:text=by%.... reply resolutebat 3 hours agorootparentprevIf she ever goes to the US, she will join the large and ever-growing Fnu clan.https:&#x2F;&#x2F;uxdesign.cc&#x2F;what-the-fnu-fa72cf4ad5bd reply Damogran6 4 hours agorootparentprevWhen I worked for State government, we had an employee: CrystalynnOne name, not first, not last. And it wreaked havoc with all of our IAM processes as a result.Which brought up all the other issues with IAM...for a minute we had an issue with names like O&#x27;Malley reply petesergeant 4 hours agorootparentprevI changed one of my cards to have just my surname on it, &#x27;cuz I thought it looked cool, and there are a _lot_ of CC forms on the internet that don&#x27;t like it. reply pests 10 hours agorootparentprevLovely, on record for life.Turns out she got her answer to her original question via a phone call. Maybe she should have tried that route first. reply NolF 8 hours agorootparentNah, because there was a failure with the policy implementation the kid got a proper name and no record that it had changed. reply TheHappyOddish 3 hours agorootparent> Under the rules, the registrar will not approve a name if it is offensive and not in the public interest. It also will not approve given names that are more than 50 characters, include symbols, or an official title or rank such as princess, Queen, or goddess.Shame, it doesn&#x27;t seem to violate policy. They should have been forced to do a full legal name change, and a welfare check on the other kids wouldn&#x27;t be out of line either. reply prawn 4 hours agorootparentprevThe articles I read about it suggested she had tried that. Agencies indicated that the registrar would provide a name in the event that the chosen one was rejected, but wouldn&#x27;t tell her what that might be. reply hiatus 5 hours agorootparentprevIt&#x27;s ridiculous that the government could even reject a name in the first place. reply petesergeant 4 hours agorootparentWhy? The state takes all sorts of other actions to protect children from their parents reply Piraty 8 hours agorootparentprevhttps:&#x2F;&#x2F;xkcd.com&#x2F;327&#x2F; reply 47271994 11 hours agoparentprevSimilar story with a plate that reads \"NULL\":https:&#x2F;&#x2F;arstechnica.com&#x2F;cars&#x2F;2019&#x2F;08&#x2F;wiseguy-changes-license... reply tragomaskhalos 7 hours agorootparentOr indeed this poor sod whose surname is &#x27;Null&#x27;: https:&#x2F;&#x2F;www.wired.com&#x2F;2015&#x2F;11&#x2F;null&#x2F; reply internetter 7 hours agorootparenthttps:&#x2F;&#x2F;archive.ph&#x2F;KPqJA reply ProllyInfamous 4 hours agoparentprevMy license plate is very similar to this, intended as a joke [I had to fight DMV for approval]. It has the additional advantage that no information about me pulls up when scanned&#x2F;run through DMV records... intending to confuse [and often succeeding].The occassional tow notice always elicits a chuckle — I no longer even respond to them. Citations&#x2F;notices are few-and-far, as the authorities have made note to not use my lawful license plate as a default \"no plate on vehicle\" descriptor. reply kjs3 12 hours agoparentprevcomp.risks (anyone remember that?)RISK-DIGEST mailing list is still going strong as (I think) the predecessor to and kinda the moderated version of comp.risks. Very highly recommended. reply rrdharan 9 hours agorootparentThank you!http:&#x2F;&#x2F;catless.ncl.ac.uk&#x2F;risks&#x2F; reply dredmorbius 8 hours agorootparentprevIs Peter G. Neumann still the moderator?He was born in 1932, and would be over 90 now. Which would seem something of a comp.risk of itself. reply throw0101b 6 hours agorootparentHe&#x27;s still around:* https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Peter_G._Neumann reply dredmorbius 6 hours agorootparentI&#x27;d inferred as much from the same source.RISKS-Digest is a valuable and venerable resource. I find it somewhat ironic that it seems not to have any specific preparation for transition or continuity.That&#x27;s a challenge for numerous projects, and I can think of several examples of projects, services, or other institutions which failed on the death, disability, or retirement of their founders. It&#x27;s a highly foreseable risk. reply xyzzy_plugh 2 hours agorootparentSounds like that would make a good submission to RISKS-Digest. replymabbo 13 hours agoprevThis is secretly about Types and misuse of values.\"NV\" is a valid value for a plate. The officers were using that value to indicate an error, thus the chaos of error handling for a non-error.When programming error cases, you should return something that cannot be a valid value. Excellent patterns exist in some languages where a sum type of either a return value or an error can be returned. Optional&#x2F;Maybe monads to indicate something or nothing. Even, god forgive me for saying this, throwing an Exception is a good way to say \"No, not a valid return value\".The traffic wardens paperwork&#x2F;app needs an explicit field for \"Not visible\"- ideally one easier to use than writing \"NV\", rather than a free-form text field that lets them write a value that only they know means something other than a real value. reply rzzzt 11 hours agoparentIn-band signaling. They have to agree on an escape character! reply BoppreH 5 hours agorootparentWouldn&#x27;t an escape character still be in-band signaling? It should either be something other than a string, like a NULL value, a separate field that says there&#x27;s no valid plate (and to ignore the string), or have a different type altogether for tickets without valid plates. reply RunningDroid 1 hour agorootparentAn escape character would still be in-band, but in this context any string containing the escape character wouldn&#x27;t be a valid plate (In New York any non-alphanumeric character except @ and space would work.) reply tyingq 7 hours agoprevThis happens today with various state-hired contract firms that do ANPR reading of plates to automatically bill people for toll roads. They give zero shits about how accurate their readers are. So, someone with a plate of \"3EE 432\" gets a bill for a car with an actual plate of \"8EE 432\". And it&#x27;s now on that person to solve the problem...which often involves a long wait on the phone, or complex website userid registration, etc.I&#x27;m amazed there&#x27;s not at least a system where you can quickly say \"have a human verify this, this isn&#x27;t me\" via a text or button click. reply internetter 6 hours agoparentEvery incorrect reading should result in you recieving the cost of the ticket. If that was so, I would be 500$ richer. Would provide a nice incentive for contractors and governments to fix their shitty systems. reply mabbo 4 hours agoparentprevOntario built highway 407 in the early 2000s (late 90s?) with tolls that use license plate readers - no slowing down or stopping at all. Still a bit controversial, that, and especially controversial when the Conservative government sold it off to a private entity just to balance the budget for one year.But in all that time, I literally do not know anyone who has gotten a bill from them for a bad plate read. We have blizzards here, torrential downpour rain, all kinds of weather that might make it hard. Still, nothing.I wonder if the regulations on bad reads were simply made serious enough that the company handling it takes a very conservative approach to potential mistakes. reply tyingq 4 hours agorootparentI imagine some companies do it right. I know some don&#x27;t. Maybe Canada has better laws around it than the US? Or more context...like you could probably do some amount of matching registered make&#x2F;model to a plate&#x2F;picture with sufficiently good software and trigger human intervention when matches are low confidence. reply gangstead 13 hours agoprevGreat story. So in the end the tickets got dropped?Also, why get an entire domain to host a short blog post? Based on the copyright of 2004 and a .com tld registration of $10 per year someone has spent $190 to put this story out there. reply cm2012 12 hours agoparentI&#x27;m sure you have spent much more than $200 on something over 20 years that brings you much less joy. reply psd1 11 hours agorootparentE.g. other people&#x27;s parking tickets. reply tysam_and 13 hours agoparentprevIt&#x27;s a good story Brent reply I_am_uncreative 12 hours agoparentprevPlus, where is it hosted? Looks like somewhere called inmotionhosting. I wonder how much it costs to host this static page there.. reply tyingq 7 hours agorootparent$2.99&#x2F;month shared hosting plan. https:&#x2F;&#x2F;www.inmotionhosting.com&#x2F;home-bIt does allow for 2 websites, so perhaps this one is riding free on something else the owner does. reply grogenaut 13 hours agoparentprevit wasn&#x27;t $10&#x2F;year from 04 on, it was actually more initally then lower and now that. also where would you put the blog post? Facebook? Tumblr? Myspace? Medium? Geocities? Blogspot? Which of those would have kept this blog around that long? and reachable? reply jstanley 5 hours agorootparent> where would you put the blog post?On a blog. Each post normally gets its own page but not its own domain name. reply Scoundreller 13 hours agorootparentprevLet&#x27;s see how this fares:https:&#x2F;&#x2F;archive.ph&#x2F;FbYQs(Someone already archived it 4 years ago!)and multiple archive.org references: https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20230422095738&#x2F;http:&#x2F;&#x2F;100parking... reply tysam_and 9 hours agorootparentI think I read this a while back, maybe even on hacker news lol, it&#x27;s a classic. Just like the 500 mile email story on the front page, though that one is _far_ more popular, hahahaha. :&#x27;)))) reply cm2012 12 hours agorootparentprevNot to mention for most Americans, $200 over 20 years amounts to exactly jack. reply NeoTar 9 hours agoprevI don&#x27;t know if this would be practical, but a nice curtesy would be for the authorising agency to verify that there aren&#x27;t any outstanding parking tickets against a newly registered plate, and to at least advise the purchaser, or refuse to issue the plate.I can imagine human ingenuity is such that there are a huge number of possible &#x27;bad&#x27;, placeholder number plates used - in addition to the &#x27;NV&#x27;, &#x27;NULL&#x27; and &#x27;NO PLATE&#x27; listed in comments, imagine we could have &#x27;NONE&#x27;, &#x27;NA&#x27; (i.e. N&#x2F;A), &#x27;BROKEN&#x27;, &#x27;ABSENT&#x27;, etc. reply skaushik92 13 hours agoprevNeat story!Kind of reminds me of the employee whose last name is Null.https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;4456438&#x2F;how-to-pass-null...Though this is kind of the opposite where a manual process misidentifies the value instead of an automated process. reply AmericanChopper 13 hours agoparentTerrible story! Where’s the middle? Where’s the end? The authors describes some kafkaesque problem they encounter, with no obvious solution, and then they just abruptly end the story, signing off with a lighthearted joke.What happened?… I’m irritated that I got tricked into reading this. reply bbreier 13 hours agorootparentSometimes life doesn&#x27;t have three acts! Sometimes life is just a Kafkaesque decent into madness and all you can do is try to cope with a coy joke. reply AmericanChopper 13 hours agorootparentThe author definitely did something about the problem, and the problem was definitely resolved in some manner (whether the resolution was good or bad for him). This story definitely has a middle and an end, the author simply chose to get us interested in his story, and then drop it on the ground. reply cgriswald 12 hours agorootparentIt may not have had an end when he wrote it. reply AmericanChopper 12 hours agorootparentIt would have had some current state, and if it was unresolved he would have had at least some idea about what he was going to do next.No matter what though, it’s a terrible story. It sucks you in with an engaging problem, and then leads you exactly nowhere. reply Tempest1981 12 hours agorootparentprevThis explanation makes sense:the police use NV for \"Not Visible\"https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=37580270 (thanks mabbo) reply RandomThrow321 12 hours agorootparentThe article already states this. The person you were replying to is asking about a different - but similar - case where an employee&#x27;s last name is \"Null\". reply bluedino 6 hours agoprevI had a friend that would rack up a couple thousand in parking tickets every few years. We&#x27;d write funny notes on the tickets and mail them back to the courthouse, would have loved to been in that office.It&#x27;s easy to do. Go to the bar almost every day after work, and leave your car either on the street or in the city parking lots and come back and get it the next day. The late fees and penalties really add up!The funny part is the local newspaper would do a story on the highest amounts owed for parking tickets and she was only ever in third or fourth place. reply CalRobert 5 hours agoparentWhy didn&#x27;t they pay for parking? reply bluedino 5 hours agorootparentParking was free it&#x27;s just a fine to park over nightEventually they boot your car and you have to go down and write a check reply awavering 13 hours agoprev\"Falsehoods Traffic Wardens Believe About License Plates\" :) reply poulsbohemian 12 hours agoprevI&#x27;m gearing up to make political and legal war on my local city government over the issue of parking. See it was one thing when they had a two-hour parking - it stinks, but at least it was published and everyone knew the rules. But, that wasn&#x27;t punishing enough to citizens and they wanted to up their revenues. Or said another way, they got tired of chalking tires and decided to upgrade to geofencing technology. So now the deal is, a sensor on the parking enforcement vehicle reads your license plate and determines if you&#x27;ve been parked in the same block within a two hour time frame. The problem with this is, a) the only way you know about this is after you&#x27;ve been ticketed and are presented with the municipal code, b) the definition of \"a block\" is quite loose, and c) This means you could have moved your vehicle or left for 1 hour and 59 minutes, but if you are found to have even been in the same general area, they will ticket you. To make it even worse, they only enforce parking Monday-Friday, 8-5. So they are deliberately extorting local business people and avoiding upsetting the tourists who roll into town each weekend. Am livid not only at the city, but also at the state Attorney General&#x27;s office for not being able to help me call out an absolutely extortionist city government. reply brenns10 10 hours agoparentTwo hour parking (I&#x27;m guessing it&#x27;s free, but it doesn&#x27;t really matter) is the result of such a mind-numbingly obvious market inefficiency. Street parking is being given away for free, or at incredibly cheap prices, so of course demand is high and drivers visiting businesses can&#x27;t find spots. So the city tries to disrupt demand by placing these artificial time limits, in the hope that it will allow visitors to park more easily. The obvious answer is to just charge market rate for street parking, and there will almost always be a few spots available. And anybody willing to pay market rate for 8 hours of street parking is welcome to.To top it off, time limits are so stupid to enforce, as you say. It&#x27;s easy to enforce meters, or paid parking with plates on a block. \"If paid and not in red zone, ok, else, ticket.\" But instead cities have to come up with these \"creative\" (read: broken) systems for catching people who park too long.edit: and same applies for weekends: charge market rate then too! reply maccard 8 hours agorootparent> The obvious answer is to just charge market rate for street parking, and there will almost always be a few spots availableSo only the rich can drive and park? FWIW, my city charges £6.70&#x2F;hour for parking and it&#x27;s still impossible to find a spot.> To top it off, time limits are so stupid to enforce, as you say. It&#x27;s easy to enforce meters, or paid parking with plates on a block. \"If paid and not in red zone, ok, else, ticket.\" But instead cities have to come up with these \"creative\" (read: broken) systems for catching people who park too long.The limits on parking in many places are to encourage&#x2F;force other means of transport for work. reply firebat45 2 hours agorootparent>So only the rich can drive and park? FWIW, my city charges £6.70&#x2F;hour for parking and it&#x27;s still impossible to find a spot.Are you arguing that cars (along with all associated costs like fuel, insurance, maintenance, etc) be provided free of charge to every person?If there&#x27;s no spots available at the current price, then the current price is too low. There are costs associated with vehicle ownership and usage, and you are welcome to find alternatives if you do not want to pay them.I work at a hospital and people always lament that they wish the on-site parking was free so they didn&#x27;t have to park several blocks away. I don&#x27;t know why they don&#x27;t realize that if the parking was free, it would be packed full 24&#x2F;7. reply maccard 2 hours agorootparent> Are you arguing that cars (along with all associated costs like fuel, insurance, maintenance, etc) be provided free of charge to every person?You&#x27;re putting words in my mouth here, nowhere have I suggested anything like that. Please at least argue in good faith.> If there&#x27;s no spots available at the current price, then the current price is too lowYou&#x27;re making an assumption that the only variable is the cost of parking, and that the desire of the system is to ensure maximum utilisation. It&#x27;s not. The desire of the system is to stop people driving into city centres and parking their cars there while they work reply CalRobert 6 hours agorootparentprevIf it&#x27;s impossible to find a spot, you could benefit from higher prices for parking which ensure a spot is available when you need one.And we use prices to allocate scarce resources for everything. \"But first the revolution\" is a classic stalling tactic to prevent meaningful change. reply m463 11 hours agoparentprevI got a ticket due to a poorly designed \"smart\" parking meter.I parked and put change in the meter and it didn&#x27;t seem to register. I was a little confused, and put it in the meter for the adjacent car and a coin would register and increment the time.Ugh. So I put a post-it note on the windshield describing the problem and went to eat.Came back, and you guessed it: post-it gone, replaced by parking ticket.It wasn&#x27;t obvious what was happening, and I kind of put it all together afterwards.The parking meter seems to have some sort of occupancy sensor. I suspect it might reset your time to zero if you leave the spot. reading your comment, it might be a max time in spot sensor? who knows.I think it needed my car to be detected to add time to the meter. Because it was too far away or not reflective, or whatever, the coins were not accepted to add time. But it did keep the quarters. geez.I complained on the ticket when it came. Had to pre-pay, but went in and pled my case at the parking authority court. Took two witnesses. They filed something to talk to engineers and said they&#x27;d let me know.And then they denied it. I had the ability to appeal, but by then it was several hours of my time taking off in the middle of the day and I just let them keep the $40.jerks. reply inferiorhuman 9 hours agorootparentDepending on where you live it could be as simple as you&#x27;re not allowed to park at a broken meter. It&#x27;s possible but unlikely that there&#x27;s any sort of occupancy sensor.https:&#x2F;&#x2F;sf.streetsblog.org&#x2F;2011&#x2F;01&#x2F;13&#x2F;should-parking-be-allo... reply m463 37 minutes agorootparentthere was definitely a sensor facing the car - three little windows and one of them blinking an led. reply philjohn 8 hours agoparentprevI have a similar story - a local strip mall allows parking for 2 hours, no return within 4 hours.They enforce this with ANPR cameras - only - sometimes you&#x27;re inching out of the strip mall and bumper to bumper ... so it doesn&#x27;t register you leaving.Got a ticket, but luckily my Nest camera showed the time I returned, and the time I went back (needed something else) and they were more than 4 hours apart, and I&#x27;d only parked there for 20 minutes each time. Ticket was waived. reply easton 4 hours agorootparent> no return within 4 hours.must be a very popular strip mall if they are willing to say \"visit us, but not too much!\" reply bombcar 5 hours agorootparentprevI am so glad I no longer live in areas where the parking enforcement is more strict than \"we noticed that you have a burning tractor trailer on the street for the last month, need some help with it?\" reply 47271994 11 hours agoparentprevBend, OR has this system (or did, a few years ago). I called up the phone number on the ticket and the guy was able to look up the photos and see that I had moved my car across the street and threw the ticket out for me without a hassle.Dumb system, but they at least handled its failure pretty well. reply latency-guy2 11 hours agorootparentWhy is it on demand to review, but automated to bill? Seems like the brain rot extends to even the lowliest of lows. reply varjag 11 hours agorootparentYou&#x27;re clearly not in growth mindset. reply poulsbohemian 11 hours agorootparentprevThat&#x27;s the second half of my beef with the city - you can only fight these tickets on Thursday afternoons between 2-4 by going in to \"traffic court.\" Bull crap. reply inferiorhuman 10 hours agoparentprevnext [–]So they are deliberately extorting local business peoplelol, no.Free parking is a great example of tragedy of the commons. Without time limits people will abuse it. Case in point: California. A handicap tag out here will grant you an exemption to whatever time limits are posted regardless of whether or not the spot is reserved for handicapped drivers. What ends up happening is people with handicap tags will just take up all the spots all day, leaving nothing for anyone else. Or said another way, they got tired of chalking tiresHaving worked in the smart parking meter industry I got to talk to city folks and, while it may be painful to hear the actual enforcement rate is pretty darn low with a few exceptions (typically time of day based ones like street cleaning and rush hour traffic). It&#x27;s extremely labor intensive to monitor every spot, so enforcement is pretty haphazard. the definition of \"a block\" is quite looseThis is, in California, defined on a city by city basis as far as I can tell. San Francisco defines the minimum distance as 1&#x2F;10 mile (or 1 block), Pismo Beach specifies 100 ft or 1&#x2F;10 mile on the odometer. Both of which seem pretty specific. reply tragomaskhalos 7 hours agorootparentHere in London targeted use of parking enforcement is an infamous money-spinner for local authorities - in instances where they know they can clean up: case in point, our local hospital has basically no on-site parking, only metered parking on local roads. The problem of course is that people going to a hospital appointment have no accurate idea how long the wait plus appointment time will be. Hence, there is a bloke on a scooter on permanent patrols looking for anyone who is a few minutes over so he can do them. reply pja 6 hours agorootparentLondon has one of the best public transport networks in Europe. reply ovi256 5 hours agorootparentBeing good at A is not an excuse for abusing users of B.Would you feel good about the fact that a city with an amazing road network abuses public transport users ? reply RoyalHenOil 5 hours agorootparentprevHospitals are a really obvious case where someone may not be able to travel by public transportation. reply foozed 3 hours agorootparenti&#x27;m struggling to think of cases where it is safer to drive a car than to be carried by subway or bus reply buzer 2 hours agorootparentHighly contagious disease with symptoms mild enough for you for it to be safe to drive. Like COVID in early 2020.Or, for example, if kid had accident at home that&#x27;s fairly serious but not serious enough that you actually need ambulance. You want to get them to hospital quickly with minimal walking required but you also likely need parent to stay with them. reply NeoTar 2 hours agorootparentprevBecause sometimes someone (a partner, a friend, etc.) is driving for you.Yes, you could take a taxi, but that can easily cost more than parking, even when parking is as expensive as in London. replysokoloff 6 hours agorootparentprevI wonder why 100 feet or 0.1 mile (528 feet) are alternatives. reply pests 9 hours agorootparentprevThose distance definitions of a block do not make any sense to me. Going from one street to the next is a block to me. reply inferiorhuman 9 hours agorootparentSFMTA says this: The law requires you to move one block away or at least one-tenth (1&#x2F;10) of a mile—about 500 feet. Do not drive around and then park in the same block, or you can be ticketed!They&#x27;re not defining the length of a block, rather they&#x27;re giving you two options. The end goal is to encourage vehicle turnover and prevent people from monopolizing all the spots in a given area. reply madethemcry 12 hours agoprevGreat little story. Thanks!NV is kind of a sentinel value to signal \"not visible\" and to differentiate it from actual plates isn&#x27;t it? Only that it comes from external (the officer) and the systems involved are not aware of its special meaning which causes all the trouble.Or how would you name this special value?https:&#x2F;&#x2F;en.m.wikipedia.org&#x2F;wiki&#x2F;Sentinel_value reply ballenf 4 hours agoprevReally would love to see a state allow non-alphanumeric characters as part of plate. Just to watch the chaos when they travel out of state and get a ticket or parking infraction.Would love to have a smiley or thumbs up character in my plate. Until I tried to pay for parking at a smart meter. reply PopAlongKid 3 hours agoparentCalifornia has had this for decades. You can see the symbols allowed on the application form under \"Kids plates\" (the fees support child health and welfare programs in the state).https:&#x2F;&#x2F;www.dmv.ca.gov&#x2F;portal&#x2F;file&#x2F;special-interest-license-... reply ticulatedspline 4 hours agoparentprevI swear I&#x27;ve seen pictures with hearts, stars, smiley faces on plates. I thought it was California. though they might not be an actual integral part of the plate (real number is sans-wingdings) reply CalRobert 6 hours agoprevPeople interested in Parking might enjoy the High Cost of Free Parking, by Donald Shoup. https:&#x2F;&#x2F;www.shoupdogg.com&#x2F;Among other ideas he shares his view that there shouldn&#x27;t even be \"parking tickets\", you just pay for the use of the land at the prevailing market rate. reply xyzelement 4 hours agoparentAs a total aside, I started to notice that folks most vehement about cars&#x2F;parking being bad have a pattern: white male, no family&#x2F;kids, bicycle in the profile picture. Usually they are young and in Twitter, funny to see the pattern hold for this older professor (no evidence of family in bio&#x2F;Wikipedia)Seems like a correlation between this demographic and being a sort of male Karen that&#x27;s really bothered about how other people get around.Obviously urban planning is an important thing with tradeoffs to consider, I am just talking about the most vehement car haters. reply CalRobert 28 minutes agorootparentI&#x27;m in my 40&#x27;s and have two children. And I don&#x27;t care how you get around, I just want to be able to bike places with my kids and not die. Cars (drivers, really) are the leading killers of children in the US, and I don&#x27;t think being upset about that makes me a \"Karen\". reply gristig 3 hours agorootparentprevOnly when I started biking did I realize how much space a bike took vs how much space a car took, how much resources and money was spent for bikes and how much for cars, how much negative externalities bikes cause vs how much cars cause. Many people I know tried to commute by bike but stopped because of how dangerous biking is (due to modern city planning). People like me who are young, single and male are more willing to take risks. So people like me continue to bike and continue to be annoyed by how much resources are given to cars vs bikes. If you want to see a diverse group of bikes, look at the Netherlands. There or is much safer to bike, so you will see more diversity. You&#x27;ll see bikers who are old and young, male and female (not too many Indians, Chinese, Native Americans, or middle easterns, but that&#x27;s more for geopolitical reasons). reply tempestn 8 hours agoprevSounds like (well past) time to get a lawyer and sue the city for harassing you. reply WirelessGigabit 13 hours agoprevSame thing with the person who had NULL as their plate: https:&#x2F;&#x2F;www.theverge.com&#x2F;tldr&#x2F;2019&#x2F;8&#x2F;14&#x2F;20805543&#x2F;null-licens... reply firefoxd 12 hours agoprevWhere is the donate button so we can keep the domain and website up forever?Wish we could have saved nissan.com reply blamazon 5 hours agoparentFor anyone interested, here is the donate button[1] that saved Nissan.com for about 2 years.[2] It appears to still be open? Uzi Nissan was providing for his family, that inherited the domain after his death in 2020. [3] Understandably, they&#x27;re doing what they have to do to get by. I personally wouldn&#x27;t mind if they sold to Nissan, the car company, as long as they get a generationally life changing amount of money. The domain is still registered to Nissan Computer Corp. until 2029.[1]: https:&#x2F;&#x2F;www.gofundme.com&#x2F;f&#x2F;Uzi-Nissan?[2]: https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=31950097[3]: https:&#x2F;&#x2F;jalopnik.com&#x2F;uzi-nissan-internet-domain-owner-who-fo... reply internetter 6 hours agoparentprevThis one?https:&#x2F;&#x2F;web.archive.org&#x2F;web&#x2F;20070126133854&#x2F;http:&#x2F;&#x2F;www.nissan... reply janandonly 11 hours agoprev [–] This event makes me smile and cry at the same time. We live in such a sick [computer says \"no\"] world \"machine men with machine minds and machine hearts[1]\"[1] https:&#x2F;&#x2F;www.charliechaplin.com&#x2F;en&#x2F;articles&#x2F;29-the-final-spee... replyApplications are open for YC Winter 2024 GuidelinesFAQListsAPISecurityLegalApply to YCContact Search:",
    "originSummary": [
      "The writer, who owns a personalized license plate with the initials \"NV,\" is continually receiving a plethora of parking tickets from different locations across California, despite their car's make and color not matching the ones on the tickets.",
      "Attempts to address this issue with the respective city officials and the DMV led to more complications such as the risk of wage garnishment and the diversion of tax refunds.",
      "Frustrated by their situation, the writer has decided to share their experiences online with the goal of finding someone who might be interested in purchasing their accumulated parking violations."
    ],
    "commentSummary": [
      "The discussion compiled includes various subjects, from difficulties with names and identification to issues with license plate reading systems.",
      "Another highlighted concern revolves around frustrations with parking enforcement systems and domain name ownership controversy, particularly \"Nissan.com\".",
      "The discourse not only shares anecdotes and personal experiences but also accounts for suggestions and criticisms, providing a comprehensive insight into the mentioned topics."
    ],
    "points": 143,
    "commentCount": 112,
    "retryCount": 0,
    "time": 1695180913
  },
  {
    "id": 37583593,
    "title": "78% MNIST accuracy using GZIP in under 10 lines of code",
    "originLink": "https://jakobs.dev/solving-mnist-with-gzip/",
    "originBody": "Home - Chat with Jakob-botLinkedIn - GitHub 78% MNIST accuracy using GZIP in under 10 lines of code. September 20, 2023 We can 'solve' MNIST up to ~78% accuracy with the following code-golfed obscurity: c = lambda z: len(gzip.compress(z.tobytes())) def ncd(x, y): return (c(x + y) - min(c(x), c(y))) / max(c(x), c(y)) cls = [(x, c(x), l) for x, l in training_set] correct_predictions = sum([np.array_equal(Counter( [l for _, _, l in sorted([(ncd(x1, x), x, l) for x, _, l in cls], key=lambda t: t[0])[:5]]).most_common(1)[0][0], label) for x1, label in test_set]) If you just want to see the code sample, here is a link to the Jupyter Notebook containing the code to run this experiment. Lets dive into why and how: yesterday while in the one-hour train ride from Eindhoven to Rotterdam, I was inspired by the post text generation from data compression and the (quite controversial) paper on parameter free text classification to play around with using compression as an image classification mechanism. Previously, I worked on image compression for computer vision on the edge, so interested in applying the technique to the most seminal yet basic dataset, I attempted to use GZIP + K-NN as a classification mechanism for the MNIST (handwritten digits) dataset. Breaking down the technique, it boils down to two components: GZIP and NCD (Normalized Compression Distance) as a similarity metric, and k-NN (k-Nearest Neighbors) for classification. In this approach, GZIP is essentially our tool which gives us a way to measure the complexity or information content of individual data points. NCD provides a normalized measure of how similar two data points are, based on how much more (or less) effort it takes to compress them together compared to compressing them separately. For each test sample, the algorithm computes its NCD with every training sample (in our case, 100 training samples), sorts them, and selects the k smallest distances. The majority class among these k=5 closest neighbors is then predicted as the label for the test sample. As this is quite computationally expensive, I only took a subset of the test images to arrive at my accuracy measure. Of course, it would be more correct to use the full set, but I leave this an an exercise to the reader ;). Here is a less obscured version of the algorithm: def compute_ncd(x1, x2): \"\"\"Compute the Normalized Compression Distance (NCD) between two samples.\"\"\" Cx1 = len(gzip.compress(x1.tobytes())) Cx2 = len(gzip.compress(x2.tobytes())) Cx1x2 = len(gzip.compress((x1 + x2).tobytes())) return (Cx1x2 - min(Cx1, Cx2)) / max(Cx1, Cx2) print(\"Classifying test samples...\") k = 5 # Number of neighbors to consider correct_predictions = 0 # Counter for correct predictions actual_labels = [] predicted_labels = [] # Cache compressed lengths for training samples compressed_lengths = [(x, len(gzip.compress(x.tobytes())), label) for x, label in training_set] for (x1, actual_label) in tqdm(test_set[:100]): # Calculate NCD for each training sample distances = [(compute_ncd(x1, x), label) for x, _, label in compressed_lengths] # Get k nearest neighbors and predict label neighbors = sorted(distances, key=lambda x: x[0])[:k] top_k_class = [label for _, label in neighbors] predicted_class = Counter(top_k_class).most_common(1)[0][0] # Update predictions and counts actual_labels.append(actual_label) predicted_labels.append(predicted_class) correct_predictions += (predicted_class == actual_label) Note: after writing this post, I found this article by Andreas Kirsch taking a similar approach back in 2019. His approach reaches around 35% accuracy. Back to Home So long and thanks for all the fish. copyright Jakob Serlier 2023-2023",
    "commentLink": "https://news.ycombinator.com/item?id=37583593",
    "commentBody": "78% MNIST accuracy using GZIP in under 10 lines of codeHacker Newspastlogin78% MNIST accuracy using GZIP in under 10 lines of code (jakobs.dev) 146 points by js98 4 hours ago| hidepastfavorite69 comments GaggiX 2 hours agoFor a comparison with others techniques:Linear SVC (best performance): 92 %SVC rbf (best performance): 96.4 %SVC poly (best performance): 94.5 %Logistic regression (prev assignment): 89 %Naive Bayes (prev assignment): 81 %From this blog page: https:&#x2F;&#x2F;dmkothari.github.io&#x2F;Machine-Learning-Projects&#x2F;SVM_wi...Also it seems from reading online articles that people are able to obtain much better results just by using K-NN, so I imagine that the author just made his job harder by using gzip but I could be wrong about this. reply IKantRead 1 hour agoparentThanks for posting this.Most people don&#x27;t realize that Logistic regression can get ~90% accuracy on MNIST.As a big fan of starting with simple models first and adding complexity later, I&#x27;ve frequently been told that \"logistic regression won&#x27;t work!\" for problems where it can in fact perform excellent.When faced with this resistance to logistic regression I&#x27;ll often ask what they think the baseline performance of it would be on MNIST. The guesses I hear most often are 20-30%.People, even machine learning people, often don&#x27;t realize the rapidly diminishing returns you get for adding a lot of complexity in your models. Sometimes it&#x27;s worth it, but it&#x27;s always good to start simple first.It&#x27;s also been my experience that if you don&#x27;t get good performance with a simple model, you are very unlikely to get great performance from a more complex one. reply nextos 18 minutes agorootparentCame here to say the same thing, actually NCD can probably do much better than 78%. Li & Vitanyi&#x27;s book about Kolmogorov complexity has some interesting unsupervised examples.A simple CNN as implemented in Keras tutorial can easily exceed 98%. 78% is very poor performance for MNIST even if model complexity is penalized. reply dmazzoni 2 hours agoparentprevThat blog page is not showing state-of-the-art results, it&#x27;s just taking relatively naive SVM implementations and comparing them.The original research paper that introduced the MNIST data set was getting around 98% accuracy, and today neural nets are getting 99.87% accuracy.https:&#x2F;&#x2F;paperswithcode.com&#x2F;sota&#x2F;image-classification-on-mnis... reply GaggiX 2 hours agorootparentYep I was showing others simple techniques, of couse a neural network would be much better at it. reply TimPC 21 minutes agoparentprevThe whole point isn&#x27;t to do better. It&#x27;s to show that enough information survives compression that you can still get very large signal. Compression is intended to make things harder and still does. reply grandma_tea 2 hours agoparentprevWhile it&#x27;s cool that this works at all, I wish we would stop using MNIST as a benchmark given how trivial it is. reply IKantRead 36 minutes agorootparentIt&#x27;s a good benchmark because it&#x27;s so trivial.Sure it&#x27;s not great at differentiating between SotA techniques, but it&#x27;s very useful for sanity checks like this one.Even for SotA models, it&#x27;s still useful to verify that you can get greater than 98% accuracy on MNIST, before exploring larger, more complex bench marks.It certainly shouldn&#x27;t be the only benchmark but it&#x27;s a great place to start iterating on ideas. reply TimPC 30 minutes agorootparentIt&#x27;s a bad benchmark because it&#x27;s artificially clean. It&#x27;s effectively a 2d dataset with no occlusions. So nearly everything you try on it will work, and many things you try on it won&#x27;t scale to typical image problems. There are good 3d datasets with more realistic examples that are still fairly simplistic compared to the state of the art large datasets, but at least give you signal that your technique is robust to common problems in vision. MNIST is so simplistic that you encounter none of the typical problems in computer vision settings so it doesn&#x27;t give you a good prediction of how good your technique is. reply dmazzoni 2 hours agorootparentprevIt&#x27;s still a great data set because it&#x27;s real-world, useful, high-quality, and an excellent size (~60k examples), and the \"correct\" classification isn&#x27;t very subjective at all - humans can easily get 99% accuracy. reply unoti 2 hours agorootparentprevMNIST is pretty good as a proof of concept. While I agree it&#x27;s trivial, I see MNIST as being more like how when you&#x27;re making a toy programming language, the first thing you do with it is writing a recursive Fibonacci function. reply antiquark 51 minutes agorootparentprevTake a look at the EMNIST - Extended MNIST dataset. It has both digits and letters of the alphabet. reply tdr2d 2 hours agoprevObviously, the code may be elegant and compact, 78% accuracy is considered very very bad for MNIST.A dummy model written with Tensorflow easilly reaches 90% accuracy. The best models ranked at 99,87%, see the benchmark : https:&#x2F;&#x2F;paperswithcode.com&#x2F;sota&#x2F;image-classification-on-mnis... reply esafak 1 hour agoparentThe article emphasizes the wrong thing, in my view. The interesting part is that compression -- without learning a model -- can be used for classification. This raises the question of what other information-theoretic measures can be used.To Compress or Not to Compress- Self-Supervised Learning and Information Theory: A Review https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;2304.09355* reply a_wild_dandan 14 minutes agorootparentAn increasingly common refrain in machine learning is “intelligence is compression.” Folks who believe that might bristle at the distinction between learning and compression. reply sundarurfriend 2 hours agoparentprevThe point is not to have \"elegant and compact\" code, this is meant to be a fun curiosity, and doing it in 10 lines is just an additional layer of challenge for the heck of it.The interesting thing is not in whether GZip can achieve SOTA, it&#x27;s that it can do a decent job at all. (The interesting thing is not in whether the bear can recreate Mozart exactly, it&#x27;s that it can play the piano at all.) reply m00x 1 hour agoparentprevIt&#x27;s not trying to break records, it just shows a neat aspect of compression. It&#x27;s still 8 times better than baseline, which showcases that compression can learn representation. reply jszymborski 2 hours agoprevIn fairness you can run MNIST through UMAP and get near perfect seperation. I&#x27;m of the belief that you have to try pretty hard not to do well on MNIST these days.https:&#x2F;&#x2F;github.com&#x2F;lmcinnes&#x2F;umap_paper_notebooks&#x2F;blob&#x2F;master...EDIT: I should add, unless it isn&#x27;t clear, that we really should retire the dataset. Something like the QuickDraw dataset makes a lot more sense to me. reply js98 1 hour agoparentAuthor here: completely agree. I think it is not much of an achievement by itself, but it is interesting to see that it works!I will add a comment&#x2F;edit to the post once I am home to clarify the relative ease of solving MNIST reply jszymborski 1 hour agorootparentSorry if my comment came off as dismissive of the post! I was just trying to frame the results for those unfamiliar with the properties of MNIST.I think it is indeed interesting as it shows that Gzip can capture the same things that e.g. UMAP et co. are capturing when they acheive good scores on MNIST.Also, I&#x27;ll add, that even despite some of the suspicions people have cast on the Gzip results in other experiments, I&#x27;m bullish on the utility of reducing entropy for classification problems. reply ekidd 1 hour agoparentprev> I should add, unless it isn&#x27;t clear, that we really should retire the dataset.From a research perspective, MNIST is basically solved. I think current performance on MNIST is better than humans, correct?But it&#x27;s still valuable as a teaching tool or a \"Hello world\" data set, because it&#x27;s so simple and because most reasonable algorithms will reach 97% accuracy. Even if you build your tools from scratch, it makes a nice homework-sized problem. And it&#x27;s an obviously useful task that anyone can understand. \"Oh, digit recognition for mail!\" reply jszymborski 1 hour agorootparentI was thinking about this just now... the real utility of MNIST is that, since it&#x27;s basically impossible to get a bad result, it&#x27;s a good sanity check. reply sundarurfriend 2 hours agoparentprevY&#x27;all are making the (rude) person below complaining about acronyms look reasonable. The repository doesn&#x27;t define UMAP either, but if you believe ChatGPT it is:> UMAP, which stands for Uniform Manifold Approximation and Projection, is a dimensionality reduction technique and data visualization method commonly used in machine learning and data analysis. reply wenc 59 minutes agorootparentWe work in our own ecological niches which sometimes entails having a specialized language that allows us to be precise when referring to things.I sometimes see HN comments complaining that acronyms and terms are dropped with no explanation. These comments come across as entitled to me — instead of complaining, why not be curious and ask “what does that mean in this context?”Imagine someone dropping in here and complaining, “the article sucks because it uses the word ‘compiler’ and assumes we all know what a ‘compiler’ is.” This is what it sounds like to those of us to work in specialized fields.Instead if someone said, “I’m new to this, could someone help me understand what a ‘compiler’ is?”, it demonstrates curiosity and people are more inclined to explain. reply jszymborski 1 hour agorootparentprevIt&#x27;s[0] a non-linear dimensionality reduction technique in the vein of t-SNE[1] that is very well known in the field.My two cents is that if your problem can be solved with something like UMAP + kNN[2], then you really shouldn&#x27;t be using Deep Learning to solve it.[0] https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;Nonlinear_dimensionality_reduc...[1] https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;T-distributed_stochastic_neigh...[2] https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;K-nearest_neighbors_algorithm reply tomrod 1 hour agorootparentprevUMAP is as ubiquitous as T-SNE these days, though to be fair those on HN that focus on JVM, LLVM, NPM, or TLS may not know about UMAP&#x2F;T-SNE. reply bob1029 53 minutes agoprevGeneral purpose compressors and information distance measures have become super interesting to me while I&#x27;ve been investigating alternative language models.I&#x27;ve been playing around with an attention mechanism that combines the idea of using normalized compression distance (gzip) with discrete convolution between candidate sequences (sliding window of N bytes over each). Another round of normalization over the convolution outputs - accommodating varying lengths - allows for us to compare candidate sequences for relevant information on equal grounds.The NCD formula I am using right now: NCD(x,y) = (C(xy) - MIN(C(x),C(y))) &#x2F; MAX(C(x),C(y))No weird parameters or any other things to tune. The only parameters are the source documents and the input context&#x2F;query. reply tjungblut 2 hours agoprevI don&#x27;t immediately find it, but couple of years back there was a \"meta-feature\" which was the size of the MNIST image. I think that scored about 90&#x27;ish % accurate results on its own - without even looking at the image. reply 13of40 1 hour agoparentA few years back I worked on a project that involved fingerprinting screenshots of web pages, and compressed image size was pretty much as good as any fingerprinting method we could come up with for comparing the similarity between them. reply tysam_and 59 minutes agorootparentMakes sense, considering that&#x27;s not too terribly far off from what the KL divergence does reply p1esk 2 hours agoparentprevWhat do you mean by “size”? Gzipped size? If you simply look at how dark a Mnist image is (count the percentage of dark pixels) you’ll get about 20% accuracy, which is twice better than random guess but a long way from 90’ish %. reply yvdriess 1 hour agorootparentWhat do you mean with accuracy here? Usually 50% accuracy means cointoss, meaning 20% accuracy is equal to 80% accuracy, which is better than the article&#x27;s 78% and not that far from 90%. reply tysam_and 56 minutes agorootparent\"One simple trick to beat the statistical odds....\" reply rjh29 1 hour agorootparentprevThere are ten choices, so getting the answer right 20% of the time is very plausible. reply p1esk 1 hour agorootparentprevThere are 10 classes in Mnist. Random guess would is 10%. reply 3abiton 2 hours agoprevDidn&#x27;t it turn out that authors of that paper have made mistakes that catapulted their results to the top of the benchmark charts? I thought the theory was inconsistent after that incident. 78% accuracy from just GZIP is impressive. reply yannccc2 1 hour agoprevAll these ideas date back to at least 2010, probably earlier. It was called \"information distance\". https:&#x2F;&#x2F;arxiv.org&#x2F;abs&#x2F;1006.3520 reply tysam_and 1 hour agoprevIf you&#x27;d like to play around with MNIST yourself, I wrote a PyTorch training implementation that gets ~99.45%+ val accuracy in.datasets.MNIST(&#x27; (both occurences) &#x27;whiten&#x27;: Conv(3, -> &#x27;whiten&#x27;: Conv(1, crop_size = 28 - > `crop_size = 28Compute for the project funded by Carter Brown and Daniel Gross, my appreciation to them both for helping make this possible. Their support via encouragement has been very helpful as well.84% or so, based on how this typically works as TTA. reply m00x 1 hour agoprevIt goes along the same lines as the recent paper from Deepmind stating that DL (language modeling in their case) is compression.https:&#x2F;&#x2F;arxiv.org&#x2F;pdf&#x2F;2309.10668.pdf reply benob 2 hours agoprevWhat explains the huge difference in perf with the approach from 2019 mentioned at the end?For image classification, couldn&#x27;t one use the residual from applying a jpeg codebook learned on a training example as metric? reply great_psy 1 hour agoprevHaving some artificial intelligence algorithm that is completely understood and tu able like gzip is would be great for many uses.I think it’s pretty hard to just improve a NN without more data or some non trivial amount of effort. reply petters 3 hours agoprevI wonder why you started with a code-golfed version? That seems original to the main point of the post reply seeknotfind 3 hours agoparentoriginal -> orthogonal?I like short code! It&#x27;s like a joke \"this is so easy, 10 loc\" :) reply hinkley 2 hours agorootparentThe internet has turned into a game of “is it him or is it autocorrect?”I can’t count how many times I’ve looked up at a line of text to spot check it, type in a couple more letters, hit save without looking, and find later that I sound like I’m having a stroke. Never mind the times I’ve simply forgotten to look. Yes that’s a word, stop trying to replace it.(Five minutes ago I had to type “laissez-faire” three times. Yesterday it turned “understanding” into god knows what. And if iOS doesn’t stop adding apostrophes to “its” I’m gonna fuckin lose my shit) reply _a_a_a_ 54 minutes agoprev\"MNIST\"?accuracy - but of what?what&#x27;s this about? reply simonw 42 minutes agoparentMNIST is a classic image classification exercise - a dataset of 60,000 training images and 10,000 testing images where each image is a handwritten numeral as a 28x28 pixel grayscale image.The challenge is to build a computer vision model that can tell which numeral each handwritten digit represents.https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;MNIST_database78% accuracy on a solution is pretty bad, but achieving it just using GZIP is a very neat hack. reply _a_a_a_ 35 minutes agorootparentthank you reply hinkley 3 hours agoprevnext [21 more] [flagged] telotortium 2 hours agoparentMNIST (and OCR) are acronyms that are so well-known to anyone who has taken any kind of intro to ML class that there&#x27;s no more need to define them in a short blog post than there would be for us to define HTML. I learned about MNIST in 2008, and I was just taking a class on numerical methods as a physics major in Matlab where MNIST was just one project. reply hinkley 2 hours agorootparentThis isn’t a forum about machine learning, though. It’s a general forum of geek news. I could talk to you all day about compression. Gzip plus MNIST rings no bells. reply telotortium 2 hours agorootparentFortunately MNIST is a pretty distinctive Google search term. At most you would need to search for (MNIST machine learning). reply hinkley 1 hour agorootparentAre you running google searches on https:&#x2F;&#x2F;news.ycombinator.com&#x2F;news before clicking on stuff? Or expecting an executive summary. I think you can guess which one I’m doing. And which one I believe is normal human behavior. reply telotortium 30 minutes agorootparentNo, but if the article headline interested me enough to click into the article, I would Google MNIST if I didn&#x27;t know it already (ML is full of acronyms for datasets, methods, etc. - can&#x27;t expect blog posts to define all of them. If it were a paper that didn&#x27;t define the term, I would be annoyed.)Also, just because an acronym isn&#x27;t used doesn&#x27;t mean you&#x27;ll understand the jargon. For example, also on the front page is a paper titled \"Neurons in Large Language Models: Dead, N-Gram, Positional\". No acronyms, but I would certainly need to Google (or actually read the paper, not just the abstract) to know what the 3 terms at the end means (well, I do know what a dead neuron is, but not the other two). reply itishappy 1 hour agorootparentprevNo need to guess, you requested a summary:> you’ve missed the most important hyperlink: what the fuck is a MNIST? reply hinkley 25 minutes agorootparentTwo questions and you answered the more rhetorical one. Is that a no?Anyway my main beef isn’t with this GitHub repo or the author, it’s that nobody remembers how to write a goddamned overview anymore. The point of tree structured data is making it cheap to backtrack when doing a semi random search. The overview is an important part of making hypertext work, particularly when it feeds through catch-all lists like a news site or a landing page for a wiki.When a hyperlink is organically embedded into a paragraph, you can usually guess what it’s for, from the sentence and the context. When it’s just a title that is lost. reply itishappy 1 hour agorootparentprevThe fuck is a GZIP? ;) reply hinkley 53 minutes agorootparentGoddamnit where is the spray bottle?Psst psst psst. NO. Bad kitty. reply morelisp 2 hours agoparentprev> Such as OCR.Such as what? reply vren 2 hours agorootparentOptical character recognition... Has been pretty widespread tech since ~2016 or so. reply hinkley 2 hours agorootparentOh my ex and some acquaintances were bitching about it in 1999.I recall a guy with good transcription skills starting a long thread on… must have been slashdot? About how it was faster for him to transcribe the numbers again than to verify the OCR was correct, but he couldn’t tell his boss that and what should he do?There’s also a famous case where the compression algorithm in a copy&#x2F;fax machine had a bug in a predefined dictionary that resulted in changing digits to other digits when making copies or faxes. Because they weren’t just compressing, they were trying to use a specialized OCR to do aggressive compression. I believe it was spitting out perfectly formed zeroes where another digit was in the original. Yikes. reply ElectricalUnion 2 hours agorootparent> I believe it was spitting out perfectly formed zeroes where another digit was in the original. Yikes.JBIG2 lossy compression. Covered in another hn story: https:&#x2F;&#x2F;news.ycombinator.com&#x2F;item?id=29223815From the story and the comments:> This is not an OCR problem (as we switched off OCR on purpose), it is a lot worse – patches of the pixel data are randomly replaced in a very subtle and dangerous way: The scanned images look correct at first glance, even though numbers may actually be incorrect.It&#x27;s lossy compression turned to 11 that looks convincingly non-lossy. reply hinkley 1 hour agorootparentI know technically you are right, but I feel like if you sat down and described the high level features and goals of that image compression (to compress text to a ridiculous degree) and OCR , you’d be hard pressed to say which list is which unless they gave it away with jargon words. My brain compressed it to “OCR” and filed it there.It’s like Jim Gaffigan’s joke about working in a TexMex restaurant in the northern Midwest. It’s a tortilla, cheese, meat and beans… I tell you what I’ll just bring you something. reply ipython 2 hours agorootparentprevyou&#x27;re referring to the Xerox Workcenter: http:&#x2F;&#x2F;www.dkriesel.com&#x2F;en&#x2F;blog&#x2F;2013&#x2F;0802_xerox-workcentres_... reply hinkley 1 hour agorootparentYES. God what a nightmare. Can you imagine all of the arguments and threats of lawsuits that bug caused for small and medium businesses? You changed the contract after we had a verbal agreement and tricked me into signing!I wonder if any executive assistants got fired over that. Surely. reply hinkley 2 hours agorootparentprevIf you can’t hear my eyes rolling from here I’ll do it again, harder… how bout now?Optical Character Recognition. Very old, and very infamous attempts at replacing humans with software. Secretaries and executives know what OCR means. reply tasty_freeze 2 hours agorootparentI believe you missed the point, though I could be wrong.Person A complains about MNIST not being defined. Person B was sending them up for complaining about not defining the meaning of acroynms and then using one they don&#x27;t define. reply hinkley 2 hours agorootparentNo I got it. I just don’t want it. replyKarellen 2 hours agoprev [–] You solved some problem, including implementing the GZIP algorithm, in less than 10 lines of code?...Oh, ok, not that. replyApplications are open for YC Winter 2024 GuidelinesFAQListsAPISecurityLegalApply to YCContact Search:",
    "originSummary": [
      "The article discusses an experiment utilizing GZIP for data point compression and Normalized Compression Distance (NCD) as a similarity metric on the MNIST dataset.",
      "The algorithm, by computing the NCD among every test and training sample, shortlisted the k smallest distances, and reckoned the prevalent class among the neighbors as the output.",
      "The experiment resulted in an approximate accuracy of 78% with this method, indicating its potential as a classification mechanism."
    ],
    "commentSummary": [
      "The article centers on a code that used GZIP compression to attain 78% accuracy on the MNIST (Modified National Institute of Standards and Technology) dataset using fewer than 10 lines of code.",
      "The focus of the article is on the potential of compression for classification tasks, even in the light of other techniques with higher accuracy rates.",
      "The forum critiques the use of acronyms in machine learning discussions, debating their definition in blog posts, and also delves into compression and optical character recognition."
    ],
    "points": 131,
    "commentCount": 63,
    "retryCount": 0,
    "time": 1695214835
  }
]
